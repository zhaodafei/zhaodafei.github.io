[{"title":"离散数学-析取范式","date":"2022-04-02T16:00:00.000Z","path":"2022/04/03/math/m_03_析取范式/","text":"离散数学-析取范式离散数学-析取范式 析取范式","categories":[{"name":"离散数学","slug":"离散数学","permalink":"http://yoursite.com/categories/离散数学/"}],"tags":[{"name":"离散数学","slug":"离散数学","permalink":"http://yoursite.com/tags/离散数学/"}]},{"title":"离散数学-联结词","date":"2022-04-01T16:00:00.000Z","path":"2022/04/02/math/m_02_联结词/","text":"离散数学-联结词,基础公式离散数学-联结词,基础公式","categories":[{"name":"离散数学","slug":"离散数学","permalink":"http://yoursite.com/categories/离散数学/"}],"tags":[{"name":"离散数学","slug":"离散数学","permalink":"http://yoursite.com/tags/离散数学/"}]},{"title":"离散数学","date":"2022-03-31T16:00:00.000Z","path":"2022/04/01/math/m_01_基础/","text":"离散数学,基础公式模板离散数学,基础公式模板 联结词真值表和编程中的位运算符对应联结词真值表和编程中的位运算符对应 常见符号合取 ∧∧∧∧∧∧∧∧∧∧∧∧非 ┐┐┐;-┐┐⇔⇔⇔⇔ ⇔⇔⇔⇔⇔⇔⇔蕴含 →→→→→→ →→→→全称量词 ∀∀∀∀∀∀存在量词 ∃∃∃∃∃ ∀：全称量词∀xP(x)表示P(x)的全称量化 后面是蕴含符号∃：存在量词 后面是合取符号 p-&gt;q 只有q才pp-&gt;q 只有q才p 联结词真值表 真值表3个变元的真值表 p q r 0 0 0 0 0 1 0 1 0 0 1 1 1 0 0 1 0 1 1 1 0 1 1 1 4个变元的真值表 p q r s 0 0 0 0 0 0 0 1 0 0 1 0 0 0 1 1 0 1 0 0 0 1 0 1 0 1 1 0 0 1 1 1 1 0 0 0 1 0 0 1 1 0 1 0 1 0 1 1 1 1 0 0 1 1 0 1 1 1 1 0 1 1 1 1 数据库写真值表3个变元的真值表 12345678910111213141516171819202122CREATE TABLE `bei_math_301_copy1` ( `id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_4` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `other_sql` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL) ENGINE = MyISAM CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;INSERT INTO `bei_math_301_copy1` VALUES (&apos;序号&apos;, &apos;p&apos;, &apos;q&apos;, &apos;r&apos;, NULL, NULL, NULL, NULL, &apos;SELECT fields_1,fields_2,fields_3 FROM bei_math_301 GROUP BY fields_1,fields_2,fields_3;&apos;);INSERT INTO `bei_math_301_copy1` VALUES (&apos;1&apos;, &apos;0&apos;, &apos;0&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL, &apos;这是校验是否有写错的值&apos;);INSERT INTO `bei_math_301_copy1` VALUES (&apos;2&apos;, &apos;0&apos;, &apos;0&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_301_copy1` VALUES (&apos;3&apos;, &apos;0&apos;, &apos;1&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_301_copy1` VALUES (&apos;4&apos;, &apos;0&apos;, &apos;1&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_301_copy1` VALUES (&apos;5&apos;, &apos;1&apos;, &apos;0&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_301_copy1` VALUES (&apos;6&apos;, &apos;1&apos;, &apos;0&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_301_copy1` VALUES (&apos;7&apos;, &apos;1&apos;, &apos;1&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_301_copy1` VALUES (&apos;8&apos;, &apos;1&apos;, &apos;1&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL, NULL); 4个变元的真值表 12345678910111213141516171819202122232425262728293031CREATE TABLE `bei_math_401_copy1` ( `id` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `fields_4` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_1` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `compute_3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, `other_sql` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL) ENGINE = MyISAM CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;INSERT INTO `bei_math_401_copy1` VALUES (&apos;序号&apos;, &apos;p&apos;, &apos;q&apos;, &apos;r&apos;, &apos;s&apos;, NULL, NULL, NULL, &apos;SELECT fields_1,fields_2,fields_3,fields_4 FROM bei_math_401 GROUP BY fields_1,fields_2,fields_3,fields_4;&apos;);INSERT INTO `bei_math_401_copy1` VALUES (&apos;1&apos;, &apos;0&apos;, &apos;0&apos;, &apos;0&apos;, &apos;0&apos;, NULL, NULL, NULL, &apos;这是校验是否有写错的值-fei&apos;);INSERT INTO `bei_math_401_copy1` VALUES (&apos;2&apos;, &apos;0&apos;, &apos;0&apos;, &apos;0&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;3&apos;, &apos;0&apos;, &apos;0&apos;, &apos;1&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;4&apos;, &apos;0&apos;, &apos;0&apos;, &apos;1&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;5&apos;, &apos;0&apos;, &apos;1&apos;, &apos;0&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;6&apos;, &apos;0&apos;, &apos;1&apos;, &apos;0&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;7&apos;, &apos;0&apos;, &apos;1&apos;, &apos;1&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;8&apos;, &apos;0&apos;, &apos;1&apos;, &apos;1&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;9&apos;, &apos;1&apos;, &apos;0&apos;, &apos;0&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;10&apos;, &apos;1&apos;, &apos;0&apos;, &apos;0&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;11&apos;, &apos;1&apos;, &apos;0&apos;, &apos;1&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;12&apos;, &apos;1&apos;, &apos;0&apos;, &apos;1&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;13&apos;, &apos;1&apos;, &apos;1&apos;, &apos;0&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;14&apos;, &apos;1&apos;, &apos;1&apos;, &apos;0&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;15&apos;, &apos;1&apos;, &apos;1&apos;, &apos;1&apos;, &apos;0&apos;, NULL, NULL, NULL, NULL);INSERT INTO `bei_math_401_copy1` VALUES (&apos;16&apos;, &apos;1&apos;, &apos;1&apos;, &apos;1&apos;, &apos;1&apos;, NULL, NULL, NULL, NULL); 等值验算公式16条 推理定理8条 一阶逻辑等值式 底部xxx没有了","categories":[{"name":"离散数学","slug":"离散数学","permalink":"http://yoursite.com/categories/离散数学/"}],"tags":[{"name":"离散数学","slug":"离散数学","permalink":"http://yoursite.com/tags/离散数学/"}]},{"title":"iframe 简单使用","date":"2022-03-25T16:00:00.000Z","path":"2022/03/26/JavaScript/JavaScript_19_iframe/","text":"iframe 简单使用iframe 简单使用iframe 简单使用 刷新页面12345678910111213// 一般刷新页面window.location.reload();// iframe框架内的页面刷新document.getElementById('iFrameMain').contentWindow.location.reload(true); // 刷新打开的新页面1: 刷新包含该框架的页面用：parent.location.reload();2: 子窗口刷新父窗口：self.opener.location.reload();3: 刷新另一个框架的页面：parent.另一FrameID.location.reload();// 刷新父页面地址parent.window.location.href=\"url\"; 刷新父页面地址123parent.window.location.href=\"url\";parent.window.location.reload();top.location.reload(); 获取父元素12parent.document.getElementById('iFrameMain').contentWindow.documentparent.document.getElementById('iFrameMain').contentWindow.document.location 自动计算高度1234567891011121314(function foo() &#123; function setIframeHeight(iframe) &#123; if (iframe) &#123; var iframeWin = iframe.contentWindow || iframe.contentDocument.parentWindow; if (iframeWin.document.body) &#123; iframe.height = iframeWin.document.documentElement.scrollHeight || iframeWin.document.body.scrollHeight; &#125; &#125; &#125; window.onload = function () &#123; setIframeHeight(document.getElementById('xxx')); // setIframeHeight(document.getElementsByName('xxx')[0]); &#125;; &#125;());","categories":[{"name":"iframe","slug":"iframe","permalink":"http://yoursite.com/categories/iframe/"}],"tags":[{"name":"iframe","slug":"iframe","permalink":"http://yoursite.com/tags/iframe/"}]},{"title":"VueRouter4.x 基本使用","date":"2022-03-22T16:00:00.000Z","path":"2022/03/23/vue/Vue3/VueRouter_01/","text":"VueRouter4.x 简单使用VueRouter4.x 简单使用VueRouter4.x 简单使用 组合式API123456789101112131415import &#123; useRouter, useRoute &#125; from 'vue-router'export default &#123; setup() &#123; const router = useRouter() const route = useRoute() function pushWithQuery(query) &#123; router.push(&#123; name: 'search', query: &#123;...route.query,&#125;, &#125;) &#125; &#125;,&#125; 官方地址: Vue Router 和 组合式 API","categories":[{"name":"VueRouter4.x","slug":"VueRouter4-x","permalink":"http://yoursite.com/categories/VueRouter4-x/"}],"tags":[{"name":"VueRouter4.x","slug":"VueRouter4-x","permalink":"http://yoursite.com/tags/VueRouter4-x/"}]},{"title":"格式控制符 和 scanf","date":"2022-03-15T16:00:00.000Z","path":"2022/03/16/c_start/fC_02_格式控制符_scanf/","text":"C语言格式控制符 和 scanfC语言格式控制符 和 scanf 格式控制符1234567891011121314151617181920212223242526272829303132％a 浮点数、十六进制数字和p-记数法(c99)%A 浮点数、十六进制数字和p-记法(c99)%c 一个字符 %d 有符号十进制整数 ------------------------------%e 浮点数、e-记数法%E 浮点数、Ｅ-记数法%f 浮点数、十进制记数法(***隐含输出6位小数***) ---------------------%g 根据数值不同自动选择％f或％e．%G 根据数值不同自动选择％f或％e.%i 有符号十进制数（与％d相同）%o 无符号八进制整数-------------%p 指针 %s 字符串 ---------------%u 无符号十进制整数%x 使用十六进制数字０f的无符号十六进制整数 -----------%X 使用十六进制数字０f的无符号十六进制整数%% 打印一个百分号###注意float，单精度浮点型，对应 %fdouble,双精度浮点型，对应 %lf ---这里是英文字母L的小写###常用%c 一个字符 %d 有符号十进制整数%f 浮点数、十进制记数法%lf 双精度浮点数、十进制记数法%s 字符串###扩展%md：m为指定的输出字段的宽度。如果数据的位数小于m,则左端补以空格,若大于m,则按实际位数输出( 常见 %02d )%ms：输出的字符串占m列，如字符串本身长度大于m，则突破获m的限制,将字符串全部输出。若串长小于m，则左补空格。 123456789101112131415161718printf(\"整数: %d\", 90);printf(\"浮点数: %.2f\", 100.2);// 整型宽度int foo = 1;printf(\"%03d\", foo); // 输出 001// 单精度和双精度double bar; // 双精度scanf(\"%lf\", &amp;bar); // 这里必须用 lf,否则出现未知的错误数printf(\"bar当前值为 %lf \\n\", bar);float foo; // 单精度scanf(\"%f\", &amp;foo);printf(\"foo当前值为 %f \\n\", foo);// 字符串%sprintf(\"%5s\", \"abc\"); // 长小于5，左补空格 修饰符 修饰符 意义 l 用于长整型和双精度实型数据，可加在格式字符 d、o、x、u、f 前面。 m (正整数） 数据最小宽度 n (正整数） 对于实数，表示输出n位小数；对于字符串，表示截取的字符个数。 - 输出的数字或字符在域内向左靠，右边填空格 # 当整数以八进制或十六进制形式输出时，输出前缀。可加在格式字符o、x前面。 1234// %m.nf 举例double foo = 123.09;// 结果 foo = 123.090printf (\"foo = %2.3lf\", foo); 指数e e/E之前必须有数字 指数(E之后的数)必须为整数,正负均可 e 用在浮点数上,整型没有e 12printf(\"%.2f\\n\", 3e2); // 3*(10*10) 输出 300.00// printf(\"%d\\n\", 3e2); // 这个是错误,要用浮点数 %f 123456789101112131415161718192021222324252627282930// 判断2个浮点数差是否是 0, // fabs 取绝对值a = 0.100003;c = 0.100002;disc = a - c;if (fabs(disc) &lt;= 1e-6) &#123; printf(\"--Yes\");&#125;else&#123; printf(\"--No\");&#125;// 因为实数表示和计算存在微小误差，无法精确表达，// 因此实数相等比较用差值的绝对值的精度来判断。 具体就是：f1和f2是两个浮点数，// precision 是我们自己设置的精度，比如1e-6。// 则可以用 fabs(f1-f2)&lt;=precision 来判断f1和f2是否相等。// 例如：该题就用if(fabs(disc)&lt;=1e-6) 替换if(disc==0)// demo2, 二元一次方程根的个数float a, b, c, disc;scanf(\"%f,%f,%f\", &amp;a, &amp;b, &amp;c);disc = b * b - 4 * a * c;if (fabs(disc) &lt;= 1e-6) &#123; // 这里设置精度为 1e-6 printf(\"有两个相等的实根\\n\");&#125; else &#123; if (disc &gt; 0) printf(\"有两个不等的实根\\n\"); else &#123; printf(\"无实根\\n\"); &#125;&#125; 浮点数范围一般float型只能精确到小数后六位（即1e-6），float的精度误差在1e-6；double精度误差在1e-15 运算符类型转化 两个运算量类型一致时，与两个运算量的类型一致。 两个运算量类型不一致时，表达式的类型与其中较高类型运算量的类型一致（较低类型运算量先被自动转换为高类型再运算） 1234#低类型转换为高类型：char → int → float → double特殊：所有浮点数必然都转换为 double 再运算（即使两个float型量的运算也都先转换为 double 优先级最高 逻辑非! ++ -- 三目运算符： 优先级倒数第三， “从右到左”的结合性 复合的赋值运算符与赋值运算符(=)相同：优先级倒数第二， “从右到左”的结合性 逗号运算符优先级最低（倒数第一），结合顺序为自左至右。 其他123// 字符串运算char foo ='A';printf(\"%c\", foo + 1); // 输出B 三目运算符1234567a &gt; b ? a : c &gt; d ? c : d 这个式子应该理解为如下:a &gt; b ? a : (c &gt; d ? c : d) 从右侧至左int i = 5, j = 4, k = 6;int f;f = (i &lt; j &amp;&amp; j &lt; k) ? i : (j &lt; k) ? j : k;printf(\"%d\", f); // 输出 4 逗号运算符123456表达式1 , 表达式2 , 表达式3#demo1+1, 2+3 表达式的值为5x=5, 5+2, x-3 表达式的值为2（x被赋值为5，必须依次计算）x= (a=1, b=3, ++b, a+b); 此为赋值语句，x被赋值为 5 依次从左到右分别计算各个表达式的值 整个“逗号表达式”的值为其中最后一个表达式（上例为表达式 3）的值。 逗号运算符优先级最低（倒数第一），结合顺序为自左至右。 123456如有int a=2, b=4, c=6, x, y;1) 若执行 y=( (x=a+b),(b+c) ); 后，x值为 6 ，y值为 10 ；y=( (x=6),10); ---&gt; y=(6,10); ---&gt; y=102) 若执行 y=(x=a+b), (b+c); 后，x值为 6 ，y值为 6 。y=(x=6),10; ---&gt; y=6, 10; ---&gt; 6,10; ---&gt; 10(被丢弃) 逻辑运算符逻辑运算符 &amp;&amp;,||,! 运算符 描述 实例 &amp;&amp; 称为逻辑与运算符。如果两个操作数都非零，则条件为真 (1&amp;&amp;1) 为真 \\ \\ 称为逻辑或运算符。如果两个操作数中有任意一个非零，则条件为真 (0\\ \\ 1) 为真 ! 称为逻辑非运算符。用来逆转操作数的逻辑状态。如果条件为真则逻辑非运算符将使其为假(简单理解: 取反) (!0) 为真(!1) 为假 逻辑与 &amp;&amp; 和逻辑 || 的 短路操作 菜鸟教程—逻辑运算符 位运算符位运算符 &amp;, |,^,~,&gt;&gt;,&lt;&lt;, 这几个都是按照二进制进行运行 按位与 &amp;, 离散数学中合取 ∧按位或 |, 离散数学中析取 ∨取反 ~, 离散数学中非 ┐ 位运算真值表 p q p&amp;q p\\ q 0 0 0 0 0 1 0 1 1 0 0 1 1 1 1 1 异或运算符 ^ , 实现2数交换 123456int a = 1, b = 2;a = a ^ b;b = a ^ b;a = a ^ b;printf(\"%d,%d\", a, b); 菜鸟教程—位运算符 类型说明符类型说明符为int、long、unsigned、float、double 、char等 字符型常量用英文单引号括起来，只保存一个字符’a’、’b’ 、’*’ ，还有转义字符 ‘\\n’ 、’\\t’。 字符串常量用英文的双引号引起来 可以保存多个字符：”abc”。 输入输出 putchar() 函数——单字符输出 getchar() 函数——单字符输入 格式输出函数 printf() 格式输入函数 scanf() 123456789101112// 输出2个字符char c1, c2 ,c3;c1 = getchar();c2 = getchar();putchar(c1);putchar(c2);// 输出字母的大写对应的小写char c1, c2;c1 = getchar();c2 = c1 + 32;putchar(c2); 格式输出函数 printf1234// 格式控制符对应从左到右的表达式 左--&gt;右int foo = 2;// 结果为2,7printf(\"%d,%d\", foo, foo + 5, foo + 2); 12345678char foo = 'A';//输出结果：foo = A //（以字符形式输出）printf (\"foo = %c \\n\\r\", foo);char bar = 'A';//输出结果：bar = 65 // （以'A'字符的ASCII码形式输出）printf (\"bar = %d\", bar); 格式输入函数 scanf12345#使用规则scanf(&quot;格式控制字符串&quot;, 变量1的地址, 变量2的地址, 变量3的地址, ...);#格式控制符一般形式[=%[*][width][modifiers]type=] 在输入数据时，默认遇空格或按“回车”表示该数据结束,但是格式输入控制中无需加\\n。 输入数据时不能规定小数位数 要是有逗号要原样输入 12int a, b;scanf(\"%d,%d\",&amp;a,&amp;b); // %d,%d 之间的逗号要原样输入 1234// width 截取char foo[5]; // 定义字符串scanf(\"%3c\",&amp;foo); // 截取width为3printf (\"输入的值为%s\", foo); 注意事项 如果相邻两个格式控制符之间,不指定数据分隔符(如逗号、冒号等),则相应的两个输入数据之间至少用一个空格分隔,或者用Tab键分隔,或者输入一个数据后,按回车,然后再输入下一个数据 格式控制字符串中出现的常规字符(包括转义字符),务必原样输入 当格式控制字符串中指定了输入数据的域宽width时,将读取输入数据中相应的width位,但按需要的位数赋给相应的变量,多余的部分被舍去 当格式控制字符串中含有抑制符*时,表示本输入项对应的数据读入后,不赋给相应的变量(该变量由下一个格式指示符输入) 使用格式控制符%c输入单个字符时,空格和转义字符均作为有效字符被输入 输入数据时,遇到以下情况,系统被认为 该数据结束 遇到空格,或者回车键,或者Tab键 遇到输入域宽度结束,例如%3d,只取3列 遇到非法输入,毕方说,在输入数值数据时,遇到字母等非数值符号 当一次scanf调用需要输入多个数据项时,如果前面数据的输入遇到非法字符,并且输入的非法字符不是格式控制字符串中的常规字符,那么,这种 非法输入将影响后面的输入,导致数据输入失败 个人理解—scanf里面的格式控制符要和定义常量(变量)保持一致 12345678// 测试数据,依次输入 A B C D (记得加空格),没有使用fflush(stdin),第四个字母一直输入不进去// ---注意看规则1和规则6char ch1, ch2, ch3, ch4;scanf(\"%c%c%c\", &amp;ch1, &amp;ch2, &amp;ch3);fflush(stdin); // 刷新缓冲,否则下面的不能输入和获取scanf(\"%c\", &amp;ch4);printf(\"ch1=%d, ch2=%d, ch3=%d, ch4=%d, \\n\", ch1, ch2, ch3, ch4); 12345678910111213141516// scanf里面的格式控制符要和定义常量(变量)保持一致// 01双精度double bar; // 双精度scanf(\"%lf\", &amp;bar); // 这里必须用 lf ,否则出现未知的错误数printf(\"bar当前值为 %lf \\n\", bar);// 02单精度float foo; // 单精度scanf(\"%f\", &amp;foo);printf(\"foo当前值为 %f \\n\", foo);// 03整型int fei;scanf(\"%d\", &amp;fei);printf(\"fei当前值为 %d \\n\", fei); 底部没有了","categories":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/categories/C语言/"}],"tags":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/tags/C语言/"}]},{"title":"C 语言随笔03","date":"2022-03-15T16:00:00.000Z","path":"2022/03/16/c_start/fC_03_xxx/","text":"C语言几个简单的入门demo if与if的配对规则( 在缺省{} )的时候:else总是与他前面最近的、且尚未与其他else配对的if配对; 12","categories":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/categories/C语言/"}],"tags":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/tags/C语言/"}]},{"title":"C 语言随笔03","date":"2022-03-15T16:00:00.000Z","path":"2022/03/16/c_start/fC_03_demo/","text":"C语言几个简单的入门demo 编程小工具12system(\"chcp 65001\"); // 解决,中文乱码fflush(stdin); // 刷新缓冲,否则下面的不能输入和获取 温度转化1234567891011121314151617181920212223242526272829#include &lt;stdio.h&gt;void system(const char *string);int main() &#123; //#编译代码 // gcc -o template.out template.c // #执行程序 // template.out 回车 printf(\"Hello, World!\\n\"); system(\"chcp 65001\"); // 解决,中文乱码 double num; char flag; printf(\"请输入温度标识符:(C/F)\"); scanf(\"%c:\", &amp;flag); printf(\"请输入温度值:\"); scanf(\"%f\", &amp;num); if (flag == 'C') &#123; double num_F = num * 1.8 + 32; printf(\"转换后的华氏温度为:%.2f\", num_F); &#125; else if (flag == 'F') &#123; double num_C = (num - 32) / 1.8; printf(\"转换后的摄氏温度为:%.2f\", num_C); &#125;else&#123; printf(\"输入有误!!\"); &#125; return 0;&#125; 温度转化02需求描述 1输入一个华氏温度F ，要求输出摄氏温度C 。计算公式为C=5*(F-32)/9 ，要求输出结果取小数点后2 位数字 输入41进行测试 12345// 利用整型--- 官方int flag;scanf(\"%d\", &amp;flag);float num_c = 5.0 * (flag - 32) / 9;printf(\"转换后的摄氏温度为:%.2f\", num_c); 12345// 利用单精度浮点数float flag; scanf(\"%f\", &amp;flag);float num_c = 5.0 * (flag - 32) / 9;printf(\"转换后的摄氏温度为:%.2f\", num_c); 123456// 利用双精度浮点数double flag;scanf(\"%lf\", &amp;flag);double num_c = 5.0 * (flag - 32) / 9;printf(\"转换后的摄氏温度为:%.2lf\", num_c); 时间计算需求描述: 123从键盘输入一个秒数， 即从某日0 点0 分开始到现在所经历的时间，编程计算输入秒数所代表的时间已经过了几天，现在的时间是多少，按00:00:00 的格式输出时间。例如，输入1234567 ，计算出已经过了14 天，现在的时间是06:56:07。提示：输入秒数，通过整除可以计算出已经过去的天数，通过取余数，可以得到今天的总秒数，再由此计算时间，几小时、几分、几秒 输入: 123456 进行测试 12345678910// --- 官方int n, second, minute, hour, days, today;printf(\"输入秒数:\");scanf(\"%d\", &amp;n);days = n / (24 * 3600);today = n % (24 * 3600);hour = today / 3600;minute = today % 3600 / 60;second = today % 3600 % 60;printf(\"已经过去了%d天，现在时间是：%02d: %02d: %02d \\n\", days, hour, minute, second); 1234567891011121314// 输入秒数，通过整除可以计算出已经过去的天数，通过取余数，可以得到今天的总秒数，再由此计算时间，几小时、几分、几秒// demo: 输入 1234567, 显示 已经过了14天，现在的时间是06:56:07int second; // 输入描述int minute = 60 * 1;int hour = 60 * 60 * 1;int day = 24 * 60 * 60 * 1;printf(\"请输入一个秒数:\");scanf(\"%d\", &amp;second);int pass_day = second / day;int pass_hour = second % day / hour;int pass_minute = second % day % hour / minute;int pass_second = second % day % hour % minute / 1;printf(\"过去了%d天,现在时间是%02d:%02d:%02d \\n\", pass_day, pass_hour, pass_minute, pass_second);","categories":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/categories/C语言/"}],"tags":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/tags/C语言/"}]},{"title":"C 进制转化","date":"2022-03-15T16:00:00.000Z","path":"2022/03/16/c_start/fC_02_进制/","text":"2进制,8进制,16进制2进制,8进制,16进制2进制,8进制,16进制 数制 十进制数 二进制数 八进制数 十六进制数 数码 0~9 0~1 0~7 0~9,A~F,a~f 基 10 2 8 16 权 10º ，10¹，10²，… 2º ，2¹，2²，… 8º ，8¹，8²，… 16º ，16¹，16²，… 表示 特点 逢十进一 逢二进一 逢八进一 逢十六进一 表示: 八进制： 4275 = 4*8³ + 2*8² + 7*8¹ + 5*8º 进制之间转换方法: 按权相加 步骤：首先进行整数部分转换，然后进行小数部分转换。 (1）整数部分转换 方法：连续除以基，从低到高记录余数，直至商为0 (2）小数部分转换 方法：连续乘以基，从高到低记录整数部分，直至结果的小数部分为0 二进制的位运算位运算主要包括：与(AND)、或(OR)、非(NOT)、异或(XOR) 与 C语言中用 &amp; 来表示,取值情况如下 A B A&amp;B 0 0 0 0 1 0 1 0 0 1 1 1 或 C语言中用 | 来表示,取值情况如下 A B A\\ B 0 0 0 0 1 1 1 0 1 1 1 1 非 C语言中用 ~ 来表示,取值情况如下 A ~A 0 1 1 0 异或 C语言中用 ^ 来表示,取值情况如下 A B A^B 0 0 0 0 1 1 1 0 1 1 1 0","categories":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/categories/C语言/"}],"tags":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/tags/C语言/"}]},{"title":"mvn简单使用","date":"2022-03-13T16:00:00.000Z","path":"2022/03/14/java/mvn_简单使用/","text":"mvn简单使用mvn简单使用mvn简单使用 常见命令123456789mvn jar:jar # 只打jar包mvn package # 打包mvn clean #清除产生的项目mvn compile #编译类文件mvn install，包含mvn compile，mvn package，然后上传到本地仓库mvn deploy, 包含mvn install,然后，上传到私服 其他2个maven仓库 mvnrepository 和 search-maven-org","categories":[{"name":"mvn","slug":"mvn","permalink":"http://yoursite.com/categories/mvn/"}],"tags":[{"name":"mvn","slug":"mvn","permalink":"http://yoursite.com/tags/mvn/"}]},{"title":"C 语言随笔01","date":"2022-03-07T16:00:00.000Z","path":"2022/03/08/c_start/fC_01_环境搭建/","text":"C语言开发工具Dev-C++,CLion和 Cygwin Cygwin 和其他两个工具有一个即可, Cygwin主要是为了使用纯命令测试原理,Dev-C++和CLion工具自带C开发环境 环境搭建使用Cygwin只是为了测试一下纯命令开发C语言 windows系统使用Cygwin搭建C语言开发环境 下载Cygwin安装,选择镜像http://mirrors.163.com,更多镜像参考https://cygwin.com/mirrors.html select Packages 中选择gcc-core、gcc-g++、make、gdb、binutils五个包下载(注意在右侧三角选择版本) 配置环境变量,让cmd中可以使用 把安装好的的Cygwin配置环境变量 环境变量 C:\\cygwin64\\bin和 C:\\cygwin64\\sbin 安装结束 第一个程序把下面内容写入到fei.c文件中 123456789#include &lt;stdio.h&gt; int main()&#123; printf(\"这是我的第一个C程序 \\r\\n\"); printf(\"Hello, World! \\n\"); return 0;&#125; 执行命令 1234#编译代码gcc -o fei.out fei.c#执行程序fei.out 回车 用工具创建程序使用Dev-C++和CLion创建Console Application应用即可执行 入门dem01成绩评估 12345678910111213141516171819202122232425#include &lt;stdio.h&gt;int main() &#123; // 优秀 ：90—100之间 // 良好： 70-90 // 及格： 60-70 // 不及格：分数低于60分 system(\"chcp 65001\"); int score; printf(\"请输入你的成绩(0-100):\"); scanf(\"%d:\", &amp;score); // if 从上往下判断, 所以 else if, 依次写即可 if (score &gt;= 90) &#123; printf(\"优秀,你真棒\\n\"); &#125; else if (score &gt;= 70) &#123; // 等价 score &gt;= 70 &amp;&amp; score &lt; 90 printf(\"良好,还不错\\n\"); &#125; else if (score &gt;= 60) &#123; // 等价 score &gt;= 60 &amp;&amp; score &lt; 70 printf(\"及格,要再努力提高\\n\"); &#125; else &#123; // 等价 score &lt; 60 printf(\"不及格,别灰心,加把劲\\n\"); &#125; return 0;&#125; 控制语句 分支 if switch 循环 for while do…while 辅助控制 continue break goto return 用{}括起来的一组语句,(具有作用域功能) 12345678910int a = 2, b = 3, c;c = a + b;&#123; int c; c = a * b; printf(\"%d \\n\", c); // 输出括号里面z的值&#125;printf(\"%d\", c); // 输出括号外面z的值// 输出结果 5 6","categories":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/categories/C语言/"}],"tags":[{"name":"C语言","slug":"C语言","permalink":"http://yoursite.com/tags/C语言/"}]},{"title":"Vue3 传值方式","date":"2022-02-25T16:00:00.000Z","path":"2022/02/26/vue/Vue3/Vue3_02_传值方式/","text":"Vue3 传值方式Vue3 传值方式Vue3 传值方式 Props 方式12345678910111213141516171819202122232425&lt;template&gt; &lt;!-- 父组件--&gt; &lt;Bar :msg=&quot;&apos;prop传值&apos;&quot;/&gt;&lt;/template&gt;&lt;script setup&gt; import Bar from &apos;./bar.vue&apos;&lt;/script&gt;------------------------------------&lt;template&gt; &lt;!-- 子组件 --&gt; &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt; &lt;button type=&quot;button&quot; @click=&quot;count++&quot;&gt; fei 数量 &#123;&#123; count &#125;&#125; &lt;/button&gt;&lt;/template&gt;&lt;script setup&gt; import &#123; ref &#125; from &apos;vue&apos; defineProps(&#123;msg: String&#125;) const count = ref(0)&lt;/script&gt; Emits 方式12345678910111213141516171819202122232425&lt;template&gt; &lt;!-- 父组件--&gt; &lt;Bar @add=&quot;handleFei&quot;/&gt;&lt;/template&gt;&lt;script setup&gt; import Bar from &apos;./bar.vue&apos; const handleFei = (value) =&gt; &#123; console.log(&quot;接受参数:&quot;, value); &#125;&lt;/script&gt;------------------------------------&lt;template&gt; &lt;!-- 子组件 --&gt; &lt;button @click=&quot;feiClick&quot;&gt;点击我触发emits&lt;/button&gt;&lt;/template&gt;&lt;script setup&gt; import &#123; defineEmits &#125; from &apos;vue&apos; const emits = defineEmits([&apos;add&apos;]) const feiClick = () =&gt; &#123; emits(&quot;add&quot;,&quot;我是参数,传给父组件&quot;) &#125;&lt;/script&gt; DefineExpose 父调子1234567891011121314151617181920212223242526272829&lt;template&gt; &lt;!-- 父组件--&gt; &lt;button @click=&quot;feiClick&quot; &gt;点击我触发emits&lt;/button&gt; &lt;Bar ref=&quot;feiRef&quot;/&gt;&lt;/template&gt;&lt;script setup&gt; import Bar from &apos;./bar.vue&apos; import &#123;ref&#125; from &quot;vue&quot;; const feiRef = ref(null); const feiClick = () =&gt; &#123; // 调用子组件 feiRef.value.childrenFei(); &#125;&lt;/script&gt;------------------------------------&lt;template&gt; &lt;!-- 子组件 --&gt;&lt;/template&gt;&lt;script setup&gt; const childrenFei = () =&gt; &#123; console.log(&quot;接受父组件方法&quot;); &#125; // 暴露出去方法,让父组件调用 defineExpose(&#123; childrenFei &#125;)&lt;/script&gt; Provide/Inject隔代传递1234567891011121314151617181920&lt;template&gt; &lt;!-- 父组件--&gt; &lt;Bar /&gt;&lt;/template&gt;&lt;script setup&gt; import Bar from &apos;./bar.vue&apos; import &#123;provide&#125; from &quot;vue&quot;; provide(&apos;list&apos;,&quot;可以隔代传给子组件&quot;)&lt;/script&gt;------------------------------------&lt;template&gt; &lt;!-- 子组件 --&gt;Provide/Inject &lt;p&gt;&#123;&#123;fei&#125;&#125;&lt;/p&gt;&lt;/template&gt;&lt;script setup&gt; import &#123;inject&#125; from &quot;vue&quot;; const fei = inject(&quot;list&quot;)&lt;/script&gt; Provide/Inject 官方链接","categories":[{"name":"Vue3","slug":"Vue3","permalink":"http://yoursite.com/categories/Vue3/"}],"tags":[{"name":"Vue3","slug":"Vue3","permalink":"http://yoursite.com/tags/Vue3/"}]},{"title":"Mybatis_常见使用1","date":"2022-02-06T16:00:00.000Z","path":"2022/02/07/java/Mybatis_常见使用01/","text":"Mybatis_常见使用1Mybatis_常见使用1Mybatis_常见使用1 逗号分隔参数参数为,逗号分隔字符串demo: String ids = &quot;1,2,3&quot; 12345# 常见SQL SELECT * FROM goods where id in (1,2,3)SELECT * FROM goods where id in&lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;ids.split(&apos;,&apos;)&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #&#123;item&#125;&lt;/foreach&gt; 动态SQL选择语句 123456789101112131415#choose、when、otherwise 类型其他语言中 switch select id=&quot;findActiveBlogLike&quot; resultType=&quot;Blog&quot;&gt; SELECT * FROM BLOG WHERE state = ‘ACTIVE’ &lt;choose&gt; &lt;when test=&quot;title != null&quot;&gt; AND title like #&#123;title&#125; &lt;/when&gt; &lt;when test=&quot;author != null and author.name != null&quot;&gt; AND author_name like #&#123;author.name&#125; &lt;/when&gt; &lt;otherwise&gt; AND featured = 1 &lt;/otherwise&gt; &lt;/choose&gt;&lt;/select&gt; 12345678&lt;choose&gt; &lt;when test=&quot;status == 0&quot;&gt; AND status = 0 &lt;/when&gt; &lt;otherwise&gt; AND status &gt;= #&#123;status&#125; &lt;/otherwise&gt;&lt;/choose&gt; 12345678910&lt;if test=&quot;status != null and status != &apos;&apos;&quot;&gt; &lt;choose&gt; &lt;when test=&quot;status == 0&quot;&gt; AND status = 0 &lt;/when&gt; &lt;otherwise&gt; AND status &gt;= #&#123;status&#125; &lt;/otherwise&gt; &lt;/choose&gt;&lt;/if&gt; MyBatis 官网,动态SQL 其他MyBatis官网","categories":[{"name":"Mybatis","slug":"Mybatis","permalink":"http://yoursite.com/categories/Mybatis/"}],"tags":[{"name":"Mybatis","slug":"Mybatis","permalink":"http://yoursite.com/tags/Mybatis/"}]},{"title":"Java_常见使用","date":"2022-02-06T16:00:00.000Z","path":"2022/02/07/java/Java_常见使用01/","text":"Java_常见使用Java_常见使用Java_常见使用 乘法运算BigDecimal 中 乘法运算multiply 12345678910111213import java.math.BigDecimal;public class Main &#123; public static void main(String[] args) &#123; BigDecimal a = new BigDecimal(\"3\"); BigDecimal b = new BigDecimal(\"3.3\"); BigDecimal c = b.multiply(a); System.out.println(c);// 输出 9.9 &#125;&#125; 获取字符串Hash值12345678910111213141516171819202122232425public static String hashKeyForDisk(String key) &#123; String cacheKey; try &#123; final MessageDigest mDigest = MessageDigest.getInstance(\"MD5\"); mDigest.update(key.getBytes()); cacheKey = bytesToHexString(mDigest.digest()); &#125; catch (NoSuchAlgorithmException e) &#123; cacheKey = String.valueOf(key.hashCode()); &#125; return cacheKey;&#125;private static String bytesToHexString(byte[] bytes) &#123; // http://stackoverflow.com/questions/332079 StringBuilder sb = new StringBuilder(); for (int i = 0; i &lt; bytes.length; i++) &#123; String hex = Integer.toHexString(0xFF &amp; bytes[i]); if (hex.length() == 1) &#123; sb.append('0'); &#125; sb.append(hex); &#125; return sb.toString();&#125; 当前时间1234// System.currentTimeMillis() 当前毫秒Date nowTime = new Date(System.currentTimeMillis());SimpleDateFormat sdFormatter = new SimpleDateFormat(\"yyyy-MM-dd\"); // yyyy-MM-dd HH:mm:ssSystem.out.println(sdFormatter.format(nowTime)); 唯一识别码12String fei = UUID.randomUUID().toString(); // 通用唯一识别码System.out.println(fei);","categories":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}]},{"title":"-jjwt 在 Java 中简单使用","date":"2022-02-06T16:00:00.000Z","path":"2022/02/07/java/jjwt简单使用/","text":"jjwt 在 Java 中简单使用jjwt 在 Java 中简单使用jjwt 在 Java 中简单使用 demo1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980package com.example.fei.service;import io.jsonwebtoken.Claims;import io.jsonwebtoken.JwtBuilder;import io.jsonwebtoken.Jwts;import io.jsonwebtoken.SignatureAlgorithm;import org.springframework.stereotype.Component;import javax.crypto.spec.SecretKeySpec;import javax.xml.bind.DatatypeConverter;import java.security.Key;import java.util.Date;/** * 参考资料: * https://github.com/jwtk/jjwt * https://stormpath.com/blog/jwt-java-create-verify */@Componentpublic class TokenService &#123; private final static String myApiKeySecret = \"fei_Secret_123456\"; // 这里写入你的Secret /** * 创建 token * @return &#123;&#125; */ public String createToken() &#123; long nowMillis = System.currentTimeMillis(); Date now = new Date(nowMillis); Date exp = new Date(nowMillis + 1000 * 30); // 过期时间 30秒 SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256; // 签名算法 // 设置秘钥 byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(myApiKeySecret); Key signKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName()); JwtBuilder builder = Jwts.builder() .setId(\"fei123\") // 置唯一编号 .setIssuedAt(now) //设置签发日期 .setExpiration(exp) // 设置过期时间 // .setAudience(\"iot\") // .setIssuer(\"fei\") // 设置发行人 .setSubject( \"fei_setSubject\" ) .claim(\"userName\", \"username_01\") .claim(\"userPwd\", \"123456\") .signWith(signatureAlgorithm, signKey); // 设置签名 使用HS256算法，并设置SecretKey(字符串) return builder.compact(); &#125; /** * 获取 token * @param jwt String * @return &#123;&#125; */ public Boolean parseJWT(String jwt) &#123; try &#123; Claims claims = Jwts.parser() .setSigningKey(DatatypeConverter.parseBase64Binary(myApiKeySecret)) .parseClaimsJws(jwt) .getBody(); Object userName = claims.get(\"userName\"); Object userPwd = claims.get(\"userPwd\"); String subject = claims.getSubject(); System.out.println(userName.toString()); System.out.println(userPwd.toString()); System.out.println(subject); return true; &#125; catch (Exception e) &#123; System.out.println(\"Token格式有误\"); return false; &#125; &#125;&#125; footer 底部jjwt官方文档jwt-demo","categories":[{"name":"jjwt","slug":"jjwt","permalink":"http://yoursite.com/categories/jjwt/"}],"tags":[{"name":"jjwt","slug":"jjwt","permalink":"http://yoursite.com/tags/jjwt/"}]},{"title":"springBoot -文件上传","date":"2022-02-06T16:00:00.000Z","path":"2022/02/07/java/springBoot_文件上传/","text":"springBoot -文件上传springBoot -文件上传 文件上传实现工具类FileUtil 123456789101112131415161718192021222324252627282930313233343536373839404142434445package com.example.fei.common.utils;import org.springframework.web.multipart.MultipartFile;import java.io.*;//文件上传工具类public class FileUtil &#123; public static void uploadFile(byte[] file,String filePath,String fileName) throws IOException &#123; File targetFile = new File(filePath); if (!targetFile.exists()) &#123; // 创建目录 targetFile.mkdirs(); &#125; FileOutputStream out = new FileOutputStream(filePath + fileName); out.write(file); out.flush(); out.close(); &#125; public static void uploadFile2(InputStream fileStream, String filePath, String fileName) throws IOException &#123; File targetFile = new File(filePath); if (!targetFile.exists()) &#123; // 创建目录 targetFile.mkdirs(); &#125; FileOutputStream out = new FileOutputStream(filePath + fileName); //开始复制 int i = 0; byte[] bytes = new byte[1024]; while((i = fileStream.read(bytes))!=-1) &#123; out.write(bytes, 0, i); &#125; out.close(); fileStream.close(); &#125; // 采用MultipartFile的transfer() 实现上传 public static void uploadFile3(MultipartFile uploadFile, String filePath, String fileName) throws IOException &#123; File targetFile = new File(filePath + fileName); uploadFile.transferTo(targetFile); &#125;&#125; 在 Controller 中写方法 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960package com.example.fei.controller;import com.example.fei.common.utils.FileUtil;import org.springframework.web.bind.annotation.*;import org.springframework.web.multipart.MultipartFile;@RestController@RequestMapping(\"/file\")public class FileController &#123; // 上传文件 @PostMapping(\"upload\") public void upload(@RequestParam(\"file\") MultipartFile file) &#123; // String contentType = file.getContentType(); // 获取文件类型 String fileName = file.getOriginalFilename(); // 图片名字 String filePath = \"E:\\\\self_web\\\\git_dev\\\\vue\\\\zFei_springBoot\\\\target\\\\\"; try &#123; FileUtil.uploadFile(file.getBytes(), filePath, fileName); &#125; catch (Exception e) &#123; // TODO: 处理异常信息 &#125; &#125; // 上传文件2 @PostMapping(\"upload2\") public void upload2(@RequestParam(\"file\") MultipartFile uploadFile) &#123; String fileName = uploadFile.getOriginalFilename(); String filePath = \"E:\\\\self_web\\\\git_dev\\\\vue\\\\zFei_springBoot\\\\target\\\\\"; try &#123; FileUtil.uploadFile2(uploadFile.getInputStream(), filePath, fileName); &#125; catch (Exception e) &#123; // TODO: 处理异常信息 &#125; &#125; // 上传文件3 @PostMapping(\"upload3\") public void upload3(@RequestParam(\"file\") MultipartFile uploadFile) &#123; String fileName = uploadFile.getOriginalFilename(); String filePath = \"E:\\\\self_web\\\\git_dev\\\\vue\\\\zFei_springBoot\\\\target\\\\\"; try &#123; FileUtil.uploadFile3(uploadFile, filePath, fileName); &#125; catch (Exception e) &#123; // TODO: 处理异常信息 &#125; &#125; // 下载文件 @GetMapping(\"download\") public void download() &#123; &#125;&#125; 用postman测试接口 12345http://localhost:8080/api/file/uploadhttp://localhost:8080/api/file/upload2http://localhost:8080/api/file/upload3post 方式选择form-data 文件下载…loading 底部xxx没有了","categories":[{"name":"springBoot","slug":"springBoot","permalink":"http://yoursite.com/categories/springBoot/"}],"tags":[{"name":"pringBoot","slug":"pringBoot","permalink":"http://yoursite.com/tags/pringBoot/"}]},{"title":"Vue3 入门","date":"2022-02-03T16:00:00.000Z","path":"2022/02/04/vue/Vue3/Vue3_01/","text":"Vue3 入门Vue3 入门Vue3 入门 setup的参数 setup(props, context) / setup(props, {attrs, slots, emit}) Demo_11234567891011121314&lt;div id=\"app\"&gt;&lt;/div&gt;&lt;script src=\"./vue.global.js\"&gt;&lt;/script&gt;&lt;script&gt; const app = Vue.createApp(&#123; setup(propos,context) &#123; return &#123; msg:\"hello world\" &#125;; &#125;, template:` &lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt; ` &#125;).mount(\"#app\")&lt;/script&gt; Demo_2123456789101112131415161718192021&lt;div id=\"app\"&gt; &lt;div&gt;&#123;&#123;msg1&#125;&#125;___&#123;&#123;msg2&#125;&#125;___&#123;&#123;msg3&#125;&#125;___&#123;&#123;msg4&#125;&#125;&lt;/div&gt;&lt;/div&gt;&lt;script src=\"./vue.global.js\"&gt;&lt;/script&gt;&lt;script&gt; const app = Vue.createApp(&#123; setup(propos, context) &#123; let msg1 = \"hello world\"; let msg3 = Vue.ref(\"fei22\"); const &#123;ref&#125; = Vue; let msg4 = ref(\"fei33\"); return &#123; msg1, msg2:\"daFei\", msg3, msg4 &#125;; &#125;, &#125;).mount(\"#app\");&lt;/script&gt; ref1234567891011121314151617181920212223&lt;div id=\"app\"&gt; &lt;div&gt;&#123;&#123;msg4&#125;&#125;&lt;/div&gt; &lt;button @click=\"updateFei\"&gt;更新&lt;/button&gt;&lt;/div&gt;&lt;script src=\"./vue.global.js\"&gt;&lt;/script&gt;&lt;script&gt; const &#123;ref&#125; = Vue; const app = Vue.createApp(&#123; setup(propos, context) &#123; // const &#123;ref&#125; = Vue; let msg4 = ref(1); function updateFei() &#123; msg4.value = msg4.value + 1; &#125; return &#123; msg4, updateFei &#125;; &#125;, &#125;).mount(\"#app\");&lt;/script&gt; reactive12345678910111213141516171819202122232425262728293031323334&lt;div id=\"app\"&gt; &lt;div&gt; &lt;p&gt;&#123;&#123;msg4.name&#125;&#125;&lt;/p&gt; &lt;p&gt;&#123;&#123;msg4.web.name3&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;button @click=\"updateFei\"&gt;更新&lt;/button&gt;&lt;/div&gt;&lt;script src=\"./vue.global.js\"&gt;&lt;/script&gt;&lt;script&gt; const &#123;reactive&#125; = Vue; const app = Vue.createApp(&#123; setup(propos, context) &#123; let msg4 = reactive(&#123; name:\"daFei\", age: 18, web:&#123; name:\"HTML\", name2:\"CSS\", name3:\"JavaScript\", &#125; &#125;); function updateFei() &#123; msg4.name = msg4.name + \"_1\"; msg4.web.name3 = msg4.web.name3 + \"_1\"; &#125; return &#123; msg4, updateFei &#125;; &#125;, &#125;).mount(\"#app\");&lt;/script&gt; 全局变量12345// 定义全局变量app.config.globalProperties.$fei = \"我是全局变量\";// 访问全局变量import &#123;onMounted, getCurrentInstance&#125; from 'vue'getCurrentInstance().appContext.config.globalProperties.$fei 调用子组件方法12345678910111213// 父组件调用子组件方法,需要在子组件中暴露出去哪个方法可以调用defineExpose// &lt;script setup&gt;import &#123; ref &#125; from 'vue'const a = 1const b = ref(2)// 这2个方法可以在父组件调用defineExpose(&#123; a, b&#125;)// &lt;/script&gt; defineExpose 插槽12// 具名插槽的缩写// demo: v-slot:foo 可以被重写为 #foo 1234567891011&lt;!-- element-plus 步骤条,插槽使用--&gt;&lt;el-steps &gt; &lt;el-step title=&quot;Step 1&quot; /&gt; &lt;el-step title=&quot;Step 2&quot; &gt; &lt;template #description&gt; &lt;div&gt; &lt;span style=&quot;color: red&quot;&gt;这里使用插槽 aaaaa&lt;/span&gt; &lt;/div&gt; &lt;/template&gt; &lt;/el-step&gt;&lt;/el-steps&gt; 绑定CSS1234567&lt;div :style=&quot;&#123;background:`linear-gradient($&#123;bar&#125;)`&#125;&quot;&gt; &lt;div style=&quot;width: 100px;height: 100px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;script setup&gt; import &#123;ref&#125; from &quot;vue&quot;; const bar = ref(&quot;138deg, #3BECF2 0%, #4A84FF 100%&quot;); // 背景渐变色&lt;/script&gt; 使用图标库在Vue3中使用FontAwesome图标库 123456789101112131415161718192021222324252627282930313233// 安装npm i --save @fortawesome/vue-fontawesome@prereleasenpm i --save @fortawesome/fontawesome-svg-corenpm i --save @fortawesome/free-solid-svg-icons// 全局使用import &#123; library &#125; from \"@fortawesome/fontawesome-svg-core\";import &#123; faPhone &#125; from \"@fortawesome/free-solid-svg-icons\";library.add(faPhone);import &#123; FontAwesomeIcon &#125; from \"@fortawesome/vue-fontawesome\";createApp(App).component(\"font-awesome-icon\", FontAwesomeIcon) .mount(\"#app\");// 显示图标// &lt;FontAwesomeIcon icon=\"phone\" /&gt;// &lt;FontAwesomeIcon icon=\"heart\" /&gt;// &lt;FontAwesomeIcon icon=\"home\" /&gt;//**** 另一种写法// &lt;FontAwesomeIcon :icon=\"['fas','home']\" /&gt;// ********** 单页面中加载使用 ********** import &#123; FontAwesomeIcon &#125; from \"@fortawesome/vue-fontawesome\";import &#123; library &#125; from \"@fortawesome/fontawesome-svg-core\";import &#123; faPhone,faHeart,faHome &#125; from \"@fortawesome/free-solid-svg-icons\";// library.add(&#123;faPhone,faHeart,faHome&#125;) 一次加载多个library.add(faPhone) // 单个加载library.add(faHeart)library.add(faHome)// 显示图标// &lt;FontAwesomeIcon icon=\"phone\" /&gt;// &lt;FontAwesomeIcon icon=\"heart\" /&gt;// &lt;FontAwesomeIcon icon=\"home\" /&gt; 简单封装 1234567891011import &#123; FontAwesomeIcon &#125; from \"@fortawesome/vue-fontawesome\";import * as fontIconModules from \"@fortawesome/free-solid-svg-icons\";import &#123;useIcon&#125; from \"@/utils/fontAwesomeIconUtils\";const iconObj = &#123;...fontIconModules&#125;;for (const iconObjKey in iconObj) &#123; // 这个循环最后有个字符串 prefix if (Object.prototype.toString.call(iconObj[iconObjKey]) === \"[object Object]\") &#123; library.add(iconObj[iconObjKey]) &#125;&#125;","categories":[{"name":"Vue3","slug":"Vue3","permalink":"http://yoursite.com/categories/Vue3/"}],"tags":[{"name":"Vue3","slug":"Vue3","permalink":"http://yoursite.com/tags/Vue3/"}]},{"title":"-vue 随笔01 Vue3新特性","date":"2022-02-03T16:00:00.000Z","path":"2022/02/04/vue/Vue3/随笔_01_Vue3/","text":"-Vue3 随笔01 Vue3新特性-Vue3 随笔01 Vue3新特性 Vue2 和 Vue3 对比Vue3 支持大多数Vue特性Vue3中设计了一套更强大的组合API代替了Vue2中的Option API,复用性更强了更好的支持TS最主要: Vue3中使用了Proxy配合Reflec代替了Vue2中object.defineProperty()方法实现数据的响应式(数据代理)重写虚拟DOM,速度更快新的组件Fragment(片段),Teleport(瞬移),Suspense(不确定)设计了一个新的脚手架工具vite vite搭建Vue312345678910npm init @vitejs/app --template vue或者npm init vite-app &lt;project-name&gt; cd xxx npm install (or `yarn`) npm run dev (or `yarn dev`)#搭建react npm init @vitejs/app --template react Vite 官网 vue-cli搭建Vue3不使用全局安装 1234567891011121314### vue-cli 手册https://cli.vuejs.org/zh/guide/installation.html### Vue3 手册https://v3.cn.vuejs.org/guide/migration/introduction.html#快速开始#开始---局部安装 vue-clinpm install @vue/cli#查看版本./node_modules/.bin/vue --version显示: @vue/cli 4.5.15#通过ui创建Vue3./node_modules/.bin/vue ui#--- 或者只用命令行创建(注意命令行使用cmd,不要使用gitbash否则键盘不能选择)./node_modules/.bin/vue create 项目名称 生命周期下表包含如何在 setup () 内部调用生命周期钩子 xxx| 选项式 API | Hook inside setup || —————– | ——————- || beforeCreate | Not needed || created | Not needed || beforeMount | onBeforeMount || mounted | onMounted || beforeUpdate | onBeforeUpdate || updated | onUpdated || beforeUnmount | onBeforeUnmount || unmounted | onUnmounted || errorCaptured | onErrorCaptured || renderTracked | onRenderTracked || renderTriggered | onRenderTriggered || activated | onActivated || deactivated | onDeactivated | xxx 生命周期钩子","categories":[{"name":"Vue3","slug":"Vue3","permalink":"http://yoursite.com/categories/Vue3/"}],"tags":[{"name":"Vue3","slug":"Vue3","permalink":"http://yoursite.com/tags/Vue3/"}]},{"title":"ECharts4.9 基本地图","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_00/","text":"Vue 中 ECharts4.9 基本地图Vue 中 ECharts4.9 基本地图Vue 中 ECharts4.9 基本地图 地图实现01123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475&lt;template&gt; &lt;div&gt; &lt;h3&gt;Vue + echarts4.9 基本地图&lt;/h3&gt; &lt;div id=&quot;daFeiMap&quot; ref=&quot;daFeiMap&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;/** main.js 全局注册* import echarts from &apos;echarts&apos;* Vue.prototype.$echarts = echarts* import &apos;echarts/map/js/china&apos;;** 使用 this.$echarts.init()* */import echarts from &apos;echarts&apos;import &apos;echarts/map/js/china&apos;; // 这个主要执行了 echarts.registerMap(&apos;china&apos;, &quot; china.json 数据 &quot;);export default &#123; mounted() &#123; this.drawMap(); &#125;, methods: &#123; drawMap() &#123; // const myChart = echarts.init(document.getElementById(&apos;daFeiMap&apos;)) const myChart = echarts.init(this.$refs.daFeiMap) const mapBoxOption = &#123; series: [ &#123; type: &apos;map&apos;, mapType: &apos;china&apos;, label: &#123; normal: &#123; show: true, // 显示省份标签 textStyle: &#123; color: &apos;blue&apos; // 省份标签字体颜色 &#125; &#125;, emphasis: &#123; // 对应的鼠标悬浮效果 show: false, textStyle: &#123; color: &apos;#800080&apos; &#125; &#125; &#125;, itemStyle: &#123; normal: &#123; borderWidth: 0.5, // 区域边框宽度 borderColor: &apos;#009fe8&apos;, // 区域边框颜色 areaColor: &apos;#ffefd5&apos; // 区域颜色 &#125;, emphasis: &#123; borderWidth: 0.5, borderColor: &apos;#4b0082&apos;, areaColor: &apos;#ffdead&apos; &#125; &#125;, &#125; ], &#125; // myChart.registerMap(&quot;china&quot;,&quot; china.json 数据 &quot;) myChart.setOption(mapBoxOption) &#125; &#125;,&#125;;&lt;/script&gt;&lt;style scoped&gt;#daFeiMap &#123; width: 500px; height: 480px;&#125;&lt;/style&gt; 地图实现02world 地图,和地图01代码逻辑类似 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475&lt;template&gt; &lt;div&gt; &lt;h3&gt;Vue + echarts 基本地图&lt;/h3&gt; &lt;div id=&quot;daFeiMap&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;/** main.js 全局注册* import echarts from &apos;echarts&apos;* Vue.prototype.$echarts = echarts* import &apos;echarts/map/js/china&apos;;** 使用 this.$echarts.init()* */import echarts from &apos;echarts&apos;import &apos;echarts/map/js/world&apos;; // 这个主要执行了 echarts.registerMap(&apos;world&apos;, &quot; world.json 数据 &quot;);export default &#123; mounted() &#123; this.drawMap(); &#125;, methods: &#123; drawMap() &#123; /* 获取地图数据*/ const myChart = echarts.init(document.getElementById(&apos;daFeiMap&apos;)) const mapBoxOption = &#123; series: [ &#123; type: &apos;map&apos;, mapType: &apos;world&apos;, label: &#123; normal: &#123; // show: true, // 显示省份标签 textStyle: &#123; color: &apos;blue&apos; // 省份标签字体颜色 &#125; &#125;, emphasis: &#123; // 对应的鼠标悬浮效果 show: false, textStyle: &#123; color: &apos;#800080&apos; &#125; &#125; &#125;, itemStyle: &#123; normal: &#123; borderWidth: 0.5, // 区域边框宽度 borderColor: &apos;#009fe8&apos;, // 区域边框颜色 areaColor: &apos;#ffefd5&apos; // 区域颜色 &#125;, emphasis: &#123; borderWidth: 0.5, borderColor: &apos;#4b0082&apos;, areaColor: &apos;#ffdead&apos; &#125; &#125;, &#125; ], &#125; // myChart.registerMap(&quot;world&quot;,&quot; world.json 数据 &quot;) myChart.setOption(mapBoxOption) &#125; &#125;,&#125;;&lt;/script&gt;&lt;style scoped&gt;#daFeiMap &#123; width: 500px; height: 480px;&#125;&lt;/style&gt; 其他12345678&lt;template&gt; &lt;div id=&quot;fei&quot; class=&quot;fei&quot; :style=&quot;&#123; height: &apos;100px&apos;, width: &apos;100px&apos; &#125;&quot; /&gt;&lt;/template&gt;&lt;script&gt; //Vue 初始化echart this.chart = this.$echarts.init(this.$el, &apos;tdTheme&apos;) this.chart.setOption(this.options, true)&lt;/script&gt; 世界地图显示中文使用 nameMap,自定义地区的名称映射 123456nameMap:&#123; 'China' : '中华人民共和国', 'Australia': '澳大利亚', 'Canada': '加拿大', 'Brazil': '巴西',&#125; footerxxx series-map 配置","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"-svg简单使用","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/css/svg_简单使用/","text":"svg简单使用svg简单使用svg简单使用 文本123456&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;svg width=\"121px\" height=\"32px\" viewBox=\"0 0 121 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt; &lt;text x=\"55\" y=\"20\" fill=\"#ff6b81\"&gt;飞&lt;/text&gt;&lt;/svg&gt; 直线利用直线画一个长方形 12345678&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;svg width=\"121px\" height=\"32px\" viewBox=\"0 0 121 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt; &lt;path d=\"M0,0 0,0 0,32 121,32 121,0 0,0\" style=\"stroke: #000000; fill:#c0c0c0;\"/&gt; &lt;path d=\"M30,5 30,5 90,5 90,25 30,25 30,5\" style=\"stroke: #afeeee; fill:none;\"/&gt;&lt;/svg&gt; 图片1234567&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;svg width=\"121px\" height=\"32px\" viewBox=\"0 0 121 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt; &lt;image id=\"image0\" width=\"32\" height=\"32\" x=\"0\" y=\"0\" href=\"data:image/png;base64,iVB 这里是base64图片字符串\"&gt;&lt;/image&gt;&lt;/svg&gt;","categories":[{"name":"svg","slug":"svg","permalink":"http://yoursite.com/categories/svg/"}],"tags":[{"name":"svg","slug":"svg","permalink":"http://yoursite.com/tags/svg/"}]},{"title":"ECharts 特殊图形","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_00_特殊/","text":"ECharts 特殊图形 ECharts 特殊图形 ECharts 特殊图形 无数据提示011234567891011121314151617181920let option = &#123; graphic: &#123; type: 'text', left: 'center', top: '45%', style: &#123; text: '暂无数据', // fill: '#ff68b1', fontSize: 20, // fontWeight: 700 &#125; &#125;, series: [ &#123; // name: '空数据', type: 'pie', radius: ['65%', '70%'], &#125; ]&#125; 无数据提示0212345678910111213141516171819202122let option = &#123; title: &#123; text: '暂无数据', left: 'center', top: '45%', textStyle: &#123; // color: '#27D9C8', fontSize: 20, &#125; &#125;, // color: ['#ff68b1', '#D8D8D8'], 控制圆环颜色 series: [ &#123; // name: '空数据', type: 'pie', radius: ['65%', '70%'], // data: [ // 控制圆环颜色,用了这个后会有一根线 // &#123;value: 0, name: ''&#125; // ] &#125; ]&#125; 无数据提示031234567891011121314let option = &#123; graphic: &#123; type: 'text', left: 'center', top: '40%', style: &#123; text: '暂无数据', textAlign: 'center', fill: '#c0c0c0', fontSize: 20, fontWeight: 700 &#125; &#125;,&#125;; 无数据提示041234567891011let option = &#123; title: &#123; text: '暂无数据', left: 'center', top: '50%', textStyle: &#123; color: '#dda0dd', fontSize: 36, &#125; &#125;,&#125;; footerxxx","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"ECharts5.2 双圆环","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_03_3_双圆环/","text":"Vue 中 ECharts5.2.2 双圆环Vue 中 ECharts5.2.2 双圆环Vue 中 ECharts5.2.2 双圆环 双圆环利用pie实现双圆环,options配置如下 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071option = &#123; tooltip: &#123; trigger: 'item', formatter: function (params) &#123; return `$&#123;params.name&#125;` &#125; &#125;, color: ['#ff6b81', '#00ffff'], // 外到内 series: [ &#123; name: '', type: 'pie', emphasis: &#123; // 鼠标移入变大,背景色 scale: false, disabled: true &#125;, radius: ['105px', '130px'], label: &#123; // 不显示外部指示线 show: false, &#125;, data: [ &#123; value: 90, name: 'fei001', itemStyle: &#123; color: \"#ff6b81\", // borderRadius: '50%' &#125;, &#125;, &#123; value: 10, name: '', itemStyle: &#123; color: \"#c0c0c0\", &#125;, &#125; ] &#125;, &#123; name: '', type: 'pie', emphasis: &#123; // 鼠标移入变大,背景色 scale: false, disabled: true &#125;, radius: ['80px', '104px'], label: &#123; // 不显示外部指示线 show: false, &#125;, data: [ &#123; value: 80, name: 'fei002', itemStyle: &#123; color: \"#00ffff\", &#125;, &#125;, &#123; value: 20, name: '', itemStyle: &#123; color: \"#c0c0c0\", &#125;, &#125; ] &#125;, ] &#125;; 底部footer","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"ECharts5.2 柱状图","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_03_3_柱状图/","text":"Vue 中 ECharts5.2.2 柱状图Vue 中 ECharts5.2.2 柱状图Vue 中 ECharts5.2.2 柱状图 柱状图__垂直123456789101112131415option = &#123; xAxis: &#123; type: 'category', data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'] &#125;, yAxis: &#123; type: 'value' &#125;, series: [ &#123; data: [120, 200, 250, 80, 70, 110, 130], type: 'bar', &#125; ]&#125;; 柱状图__水平123456789101112131415option = &#123; xAxis: &#123; type: 'value', &#125;, yAxis: &#123; type: 'category', data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'] &#125;, series: [ &#123; data: [120, 200, 250, 80, 70, 110, 130], type: 'bar', &#125; ]&#125;; 底部footer","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"Vue + ECharts4.0 实现地图背景色","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_01/","text":"Vue + ECharts4.0 之前版本 实现中国地图背景色Vue + ECharts4.0 之前版本 实现中国地图背景色Vue + ECharts4.0 之前版本 实现中国地图背景色 4.0 之前版本 中自带数据 demo123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154&lt;template&gt; &lt;div&gt; &lt;h3&gt;vue + echarts实现地图背景色&lt;/h3&gt; &lt;div id=&quot;daFeiMap&quot;/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;/** main.js 全局注册* import echarts from &apos;echarts&apos;* Vue.prototype.$echarts = echarts* import &apos;echarts/map/js/china&apos;;** 使用 this.$echarts.init()* */import echarts from &apos;echarts&apos;import &apos;echarts/map/js/china&apos;;export default &#123; mounted() &#123; this.drawMap(); &#125;, created() &#123; this.drawMap(); &#125;, methods: &#123; drawMap() &#123; this.$nextTick(() =&gt; &#123; /* 获取地图数据*/ const myChart = echarts.init(document.getElementById(&apos;daFeiMap&apos;)) var mapBoxOption = &#123; series: [&#123; type: &apos;map&apos;, mapType: &apos;china&apos;, label: &#123; normal: &#123; show: true, // 显示省份标签 textStyle: &#123; color: &apos;blue&apos; &#125; // 省份标签字体颜色 &#125;, emphasis: &#123; // 对应的鼠标悬浮效果 show: false, textStyle: &#123; color: &apos;#800080&apos; &#125; &#125; &#125;, aspectScale: 0.75, zoom: 1.2, itemStyle: &#123; normal: &#123; borderWidth: 0.5, // 区域边框宽度 borderColor: &apos;#009fe8&apos;, // 区域边框颜色 areaColor: &apos;#ffefd5&apos; // 区域颜色 &#125;, emphasis: &#123; borderWidth: 0.5, borderColor: &apos;#4b0082&apos;, areaColor: &apos;#ffdead&apos; &#125; &#125;, data: [ &#123;name: &apos;北京&apos;, selected: false, value: 1&#125;, &#123;name: &apos;天津&apos;, selected: false, value: 2&#125;, &#123;name: &apos;上海&apos;, selected: false, value: 3&#125;, &#123;name: &apos;重庆&apos;, selected: false, value: 4&#125;, &#123;name: &apos;河北&apos;, selected: false, value: 5&#125;, &#123;name: &apos;河南&apos;, selected: false, value: 6&#125;, &#123;name: &apos;云南&apos;, selected: false, value: 7&#125;, &#123;name: &apos;辽宁&apos;, selected: false, value: 8&#125;, &#123;name: &apos;黑龙江&apos;, selected: false, value: 9&#125;, &#123;name: &apos;湖南&apos;, selected: false, value: 10&#125;, &#123;name: &apos;安徽&apos;, selected: false, value: 11&#125;, &#123;name: &apos;山东&apos;, selected: false, value: 12&#125;, &#123;name: &apos;新疆&apos;, selected: false, value: 13&#125;, &#123;name: &apos;江苏&apos;, selected: false, value: 14&#125;, &#123;name: &apos;浙江&apos;, selected: false, value: 15&#125;, &#123;name: &apos;江西&apos;, selected: false, value: 16&#125;, &#123;name: &apos;湖北&apos;, selected: false, value: 17&#125;, &#123;name: &apos;广西&apos;, selected: false, value: 18&#125;, &#123;name: &apos;甘肃&apos;, selected: false, value: 19&#125;, &#123;name: &apos;山西&apos;, selected: false, value: 20&#125;, &#123;name: &apos;内蒙古&apos;, selected: false, value: 21&#125;, &#123;name: &apos;陕西&apos;, selected: false, value: 22&#125;, &#123;name: &apos;吉林&apos;, selected: false, value: 23&#125;, &#123;name: &apos;福建&apos;, selected: false, value: 24&#125;, &#123;name: &apos;贵州&apos;, selected: false, value: 25&#125;, &#123;name: &apos;广东&apos;, selected: false, value: 26&#125;, &#123;name: &apos;青海&apos;, selected: false, value: 27&#125;, &#123;name: &apos;西藏&apos;, selected: false, value: 28&#125;, &#123;name: &apos;四川&apos;, selected: false, value: 29&#125;, &#123;name: &apos;宁夏&apos;, selected: false, value: 30&#125;, &#123;name: &apos;海南&apos;, selected: false, value: 31&#125;, &#123;name: &apos;台湾&apos;, selected: false, value: 32&#125;, &#123;name: &apos;香港&apos;, selected: false, value: 33&#125;, &#123;name: &apos;澳门&apos;, selected: false, value: 34&#125; ] // 各省地图颜色数据依赖value &#125;], dataRange: &#123; x: &apos;-1000 px&apos;, // 图例横轴位置 y: &apos;-1000 px&apos;, // 图例纵轴位置 splitList: [ &#123;start: 1, end: 1, label: &apos;北京&apos;, color: &apos;#e60000&apos;&#125;, &#123;start: 2, end: 2, label: &apos;天津&apos;, color: &apos;#f1ebd1&apos;&#125;, &#123;start: 3, end: 3, label: &apos;上海&apos;, color: &apos;#feffdb&apos;&#125;, &#123;start: 4, end: 4, label: &apos;重庆&apos;, color: &apos;#e0cee4&apos;&#125;, &#123;start: 5, end: 5, label: &apos;河北&apos;, color: &apos;#fde8cd&apos;&#125;, &#123;start: 6, end: 6, label: &apos;河南&apos;, color: &apos;#e4f1d7&apos;&#125;, &#123;start: 7, end: 7, label: &apos;云南&apos;, color: &apos;#fffed7&apos;&#125;, &#123;start: 8, end: 8, label: &apos;辽宁&apos;, color: &apos;#e4f1d7&apos;&#125;, &#123;start: 9, end: 9, label: &apos;黑龙江&apos;, color: &apos;#e60000&apos;&#125;, &#123;start: 10, end: 10, label: &apos;湖南&apos;, color: &apos;#fffed7&apos;&#125;, &#123;start: 11, end: 11, label: &apos;安徽&apos;, color: &apos;#fffed8&apos;&#125;, &#123;start: 12, end: 12, label: &apos;山东&apos;, color: &apos;#dccee7&apos;&#125;, &#123;start: 13, end: 13, label: &apos;新疆&apos;, color: &apos;#e60000&apos;&#125;, &#123;start: 14, end: 14, label: &apos;江苏&apos;, color: &apos;#fce8cd&apos;&#125;, &#123;start: 15, end: 15, label: &apos;浙江&apos;, color: &apos;#ddceeb&apos;&#125;, &#123;start: 16, end: 16, label: &apos;江西&apos;, color: &apos;#e4f1d3&apos;&#125;, &#123;start: 17, end: 17, label: &apos;湖北&apos;, color: &apos;#fde8cd&apos;&#125;, &#123;start: 18, end: 18, label: &apos;广西&apos;, color: &apos;#fde8cd&apos;&#125;, &#123;start: 19, end: 19, label: &apos;甘肃&apos;, color: &apos;#fde8cd&apos;&#125;, &#123;start: 20, end: 20, label: &apos;山西&apos;, color: &apos;#fffdd6&apos;&#125;, &#123;start: 21, end: 21, label: &apos;内蒙古&apos;, color: &apos;#ddcfe6&apos;&#125;, &#123;start: 22, end: 22, label: &apos;陕西&apos;, color: &apos;#fad8e9&apos;&#125;, &#123;start: 23, end: 23, label: &apos;吉林&apos;, color: &apos;#fce8cd&apos;&#125;, &#123;start: 24, end: 24, label: &apos;福建&apos;, color: &apos;#fad8e8&apos;&#125;, &#123;start: 25, end: 25, label: &apos;贵州&apos;, color: &apos;#fad8e8&apos;&#125;, &#123;start: 26, end: 26, label: &apos;广东&apos;, color: &apos;#ddcfe8&apos;&#125;, &#123;start: 27, end: 27, label: &apos;青海&apos;, color: &apos;#fad8e9&apos;&#125;, &#123;start: 28, end: 28, label: &apos;西藏&apos;, color: &apos;#ddcfe6&apos;&#125;, &#123;start: 29, end: 29, label: &apos;四川&apos;, color: &apos;#e4f1d5&apos;&#125;, &#123;start: 30, end: 30, label: &apos;宁夏&apos;, color: &apos;#fefcd5&apos;&#125;, &#123;start: 31, end: 31, label: &apos;海南&apos;, color: &apos;#e60000&apos;&#125;, &#123;start: 32, end: 32, label: &apos;台湾&apos;, color: &apos;#e60000&apos;&#125;, &#123;start: 33, end: 33, label: &apos;香港&apos;, color: &apos;#dc9bbb&apos;&#125;, &#123;start: 34, end: 34, label: &apos;澳门&apos;, color: &apos;#e0f7cc&apos;&#125; ] &#125; // 各省地图颜色；start：值域开始值；end：值域结束值；label：图例名称；color：自定义颜色值； &#125; myChart.setOption(mapBoxOption) &#125;); &#125; &#125;,&#125;;&lt;/script&gt;&lt;!-- more --&gt;&lt;style scoped&gt;#daFeiMap &#123; width: 500px; height: 480px;&#125;&lt;/style&gt; footerxxx","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"ECharts5.2 基本地图","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_02/","text":"Vue 中 ECharts5.2.2 基本地图Vue 中 ECharts5.2.2 基本地图Vue 中 ECharts5.2.2 基本地图 地图实现12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;template&gt; &lt;div id=&quot;main-map&quot;&gt; &lt;div id=&quot;myChart&quot; ref=&quot;myChart&quot; style=&quot;width: 600px; height:300px&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;// 加载echarts，注意引入文件的路径var echarts = require(&quot;echarts&quot;);// 地图 GeoJson 数据, 可以从之前版本中下载 // 可选。GeoJson 格式的数据，具体格式见 https://geojson.org/。// 可以是 JSON 字符串，也可以是解析得到的对象。这个参数也可以写为 geoJson，效果相同 import echartMap from &apos;./map/json/china&apos;; export default &#123; components: &#123;&#125;, data () &#123; return &#123;&#125; &#125;, mounted () &#123; this.fei(); &#125;, methods:&#123; fei() &#123; let myChart = echarts.init(document.getElementById(&quot;myChart&quot;)); echarts.registerMap(&apos;china&apos;, echartMap); let option = &#123; series: [ &#123; // 地图 type: &apos;map&apos;, map: &apos;china&apos;, label: &#123; show: true, //显示省份标签 color: &quot;#ff6b81&quot; &#125;, &#125;, ] &#125; myChart.setOption(option,true) &#125; &#125;&#125;&lt;/script&gt; footer地图 GeoJson结构demo格式 12345678910111213141516171819202122232425262728&#123; \"type\": \"FeatureCollection\", \"features\": [ &#123; \"id\": \"130000\", \"type\": \"Feature\", \"geometry\": &#123; \"type\": \"MultiPolygon\", \"coordinates\": [ [\"@@o~Z]ªrºc_ħ²G¼s`jÎŸnüsÂłNX_M`Ç½ÓnUKĜēs¤­©yrý§uģcJe\"], [\"@@U`Ts¿mÂ\"], [\"@@oºƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r&#125;èonb&#125;`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ&#125;LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäìë|³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs&#123;S¯r æÝlNd®²Ğ ǆiGĘJ¼lr&#125;~K¨ŸƐÌWöÆzR¤lêmĞLÎ@¡|q]SvKÑcwpÏÏĿćènĪWlĄkT&#125;J¤~ÈTdpddʾĬBVtEÀ¢ôPĎƗè@~kü\\\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG&#123;ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âDùyŜŲIÄuĐ¨D¸dɂFOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu&#123;Z&#125;Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ȭµu¯b&#123;ÍDěïÿȧuT£ġěŗƃĝQ¨fVƋƅn­a@³@ďyÃ½IĹÊKŭfċŰóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏlTíb ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±´°^[À|ĠO@ÆxO\\\\ta\\\\tĕtû&#123;ġȧXýĪÓjùÎRb^ÎfK[ÝděYfíÙTyuUSyŌŏů@Oi½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v&#123;ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^&#125;¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\\\mĆJfl@cĢ¬¢aĦtRıÒ¾ùƀ^juųœK­UFyƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq&#125;HyÃ]¹ǧ£Í÷¿qáµ§g¤o^á¾ZE¤i`ĳ&#123;nOl»WÝĔįhgF[¿¡ßkOüš_ūiǱàUtėGyl&#125;ÓM&#125;jpEC~¡FtoQiHkk&#123;Ãmï\"] ], \"encodeOffsets\": [ [[119712, 40641]], [[121616, 39981]], [[116462, 37237]] ] &#125;, \"properties\": &#123; \"cp\": [114.502461, 38.045474], \"name\": \"河北\", \"childNum\": 3 &#125; &#125; ], \"UTF8Encoding\": true&#125; series-map 配置","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"ECharts4.9 地图飞线实例","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_03_1/","text":"Vue 中 ECharts4.9 地图飞线实例Vue 中 ECharts4.9 地图飞线实例Vue 中 ECharts4.9 地图飞线实例 地区坐标自行找坐标资料,本文只写几个demo地区坐标自行找坐标资料,本文只写几个demo地区坐标自行找坐标资料,本文只写几个demo 地图实现123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222&lt;template&gt; &lt;div&gt; &lt;h3&gt;Vue + echarts4.9 基本地图&lt;/h3&gt; &lt;div id=&quot;daFeiMap&quot; ref=&quot;daFeiMap&quot; /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;/** main.js 全局注册* import echarts from &apos;echarts&apos;* Vue.prototype.$echarts = echarts* import &apos;echarts/map/js/china&apos;;** 使用 this.$echarts.init()* */import echarts from &apos;echarts&apos;import &apos;echarts/map/js/china&apos;; // 这个主要执行了 echarts.registerMap(&apos;china&apos;, &quot; china.json 数据 &quot;);const planePath = &apos;path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.&apos; + &apos;662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,&apos; + &apos;121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,&apos; + &apos;241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,&apos; + &apos;42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z&apos;;export default &#123; data () &#123; return &#123; msg: &apos;涟漪特效动画 effectScatter&apos;, geoCoordMapChina: &#123; // 出发地 -------------------------地区坐标自行找坐标资料 &apos;新疆&apos;: [87.36, 43.45], &apos;北京&apos;: [116.413554, 39.911013], &apos;杭州&apos;: [120.161693, 30.280059], &apos;广东&apos;: [113.14, 23.08], &#125;, destinationMsg: &#123; // 目的地 name: &quot;北京&quot;, value: [116.413554, 39.911013, &quot;&quot;] &#125;, planePath: planePath &#125; &#125;, mounted() &#123; this.drawMap(); &#125;, methods: &#123; drawMap() &#123; let planePath = this.planePath; // fei_tip: 见下面 // 接口给的数据格式---可以考虑用这种格式 let seriesData = [ // todo: 接口数据 &#123;&quot;name&quot;: &quot;杭州&quot;, &quot;value&quot;: &quot;&quot;&#125;, &#123;&quot;name&quot;: &quot;广东&quot;, &quot;value&quot;: &quot;&quot;&#125;, &#123;&quot;name&quot;: &quot;新疆&quot;, &quot;value&quot;: &quot;&quot;&#125; ]; let resData = this.convertData(seriesData) const myChart = echarts.init(this.$refs.daFeiMap) const mapBoxOption = &#123; geo: &#123; // 地理坐标系 show: true, map: &apos;china&apos;, &#125;, series: [ &#123; // 基本地图 type: &apos;map&apos;, mapType: &apos;china&apos;, &#125;, &#123; // fei_tip:线路---航线 type: &apos;lines&apos;, symbolSize: 10, effect: &#123; // 航线动态 show: true, period: 6, trailLength: 0, symbol: planePath, symbolSize: 15 &#125;, lineStyle: &#123; color: &apos;#2d9df1&apos;, //航线的颜色 width: 1, opacity: 0.6, curveness: 0.2 // 弯曲程度 &#125;, // data: [ // &#123; // &quot;fromName&quot;: &quot;杭州&quot;, // &quot;toName&quot;: &quot;北京&quot;, // &quot;coords&quot;: [[120.161693, 30.280059], [116.413554, 39.911013, &quot;&quot;]], // &quot;value&quot;: [116.413554, 39.911013, &quot;&quot;] // &#125;, // &#123; // &quot;fromName&quot;: &quot;广东&quot;, // &quot;toName&quot;: &quot;北京&quot;, // &quot;coords&quot;: [[113.14, 23.08], [116.413554, 39.911013, &quot;&quot;]], // &quot;value&quot;: [116.413554, 39.911013, &quot;&quot;] // &#125;, // &#123; // &quot;fromName&quot;: &quot;新疆&quot;, // &quot;toName&quot;: &quot;北京&quot;, // &quot;coords&quot;: [[87.36, 43.45], [116.413554, 39.911013, &quot;&quot;]], // &quot;value&quot;: [116.413554, 39.911013, &quot;&quot;] // &#125; // ], data: resData.resResult &#125;, &#123; // fei_tip: 出发地 type: &apos;effectScatter&apos;, coordinateSystem: &apos;geo&apos;, // fei_tip: 使用地理坐标系 rippleEffect: &#123; //涟漪特效 period: 4, //动画时间，值越小速度越快 brushType: &apos;stroke&apos;, //波纹绘制方式 stroke, fill scale: 4 //波纹圆环最大限制，值越大波纹越大 &#125;, label: &#123; show: true, position: &apos;right&apos;, //显示位置 offset: [5, -10], //偏移设置 formatter: function (params) &#123; // 圆环显示文字 return params.data.name; &#125;, fontSize: 13, color: &apos;#ff6b81&apos;, &#125;, symbol: &apos;circle&apos;, symbolSize: function (val) &#123; return 6; //圆环大小 &#125;, itemStyle: &#123; show: true, color: &apos;#90a5dc&apos; // 圆环颜色 &#125;, // data: [ // &#123;name: &apos;杭州&apos;, value: [120.161693, 30.280059, &quot;&quot;]&#125;, // &#123;name: &apos;广东&apos;, value: [113.14, 23.08, &quot;&quot;]&#125;, // &#123;name: &apos;新疆&apos;, value: [87.36, 43.45, &quot;&quot;]&#125;, // ] data: resData.resFromResult &#125;, &#123; // 目的地样式---北京 type: &apos;effectScatter&apos;, coordinateSystem: &apos;geo&apos;, label: &#123; show: true, position: &apos;right&apos;, formatter: &apos;&#123;b&#125;&apos;, color: &apos;#ff6b81&apos; &#125;, symbolSize: function (val) &#123; return 8 &#125;, itemStyle: &#123; color: &apos;#fe4272&apos;, &#125;, data: [ // &#123;name: &quot;北京&quot;, value: [116.413554, 39.911013, &quot;&quot;]&#125;, this.destinationMsg ] &#125; ], &#125; myChart.setOption(mapBoxOption) &#125;, /** * 数据处理 * @param resData * @returns &#123;&#123;resFromResult: *[], resResult: *[]&#125;&#125; * * * resResult 数据格式 * [ * &#123; * &quot;fromName&quot;: &quot;杭州&quot;, * &quot;toName&quot;: &quot;北京&quot;, * &quot;coords&quot;: [[120.161693, 30.280059], [116.413554, 39.911013, &quot;&quot;]], * &quot;value&quot;: [116.413554, 39.911013, &quot;&quot;] * &#125; * ] * * resFromResult 数据格式 * [ * &#123; * &quot;name&quot;: &quot;杭州&quot;, * &quot;value&quot;: [120.161693, 30.280059] * &#125; * ] * */ convertData(resData) &#123; let resResult = []; // 航线覆盖地址 let resFromResult = []; // 飞行来源地址 for (let i = 0; i &lt; resData.length; i++) &#123; let fromCoord = this.geoCoordMapChina[resData[i].name]; resResult.push(&#123; fromName: resData[i].name, toName: this.destinationMsg.name, coords: [fromCoord, this.destinationMsg.value], value: this.destinationMsg.value &#125;) resFromResult.push(&#123; name: resData[i].name, value: fromCoord &#125;); &#125; return &#123;resResult, resFromResult&#125;; &#125;, &#125;,&#125;;&lt;/script&gt;&lt;style scoped&gt;#daFeiMap &#123; width: 500px; height: 480px;&#125;&lt;/style&gt; footer航线planePath 12// 航线export const planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z'; 汽车行驶图 12// 汽车行驶图export const planePath = 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z'; effectScatter-涟漪特效 配置","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"ECharts5.2 地图飞线实例","date":"2022-01-03T16:00:00.000Z","path":"2022/01/04/vue/ECharts/echarts_03_2/","text":"Vue 中 ECharts5.2.2 地图飞线实例Vue 中 ECharts5.2.2 地图飞线实例Vue 中 ECharts5.2.2 地图飞线实例 地图实现123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188&lt;template&gt; &lt;div class=&quot;hello&quot;&gt; 涟漪特效动画 &lt;div id=&quot;myChart&quot; ref=&quot;myChart&quot; style=&quot;width: 700px;height:500px;&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;var echarts = require(&quot;echarts&quot;);import &#123;planePath&#125; from &quot;./map/dataPlanePath&quot;export default &#123; name: &apos;effectScatter&apos;, data () &#123; return &#123; msg: &apos;涟漪特效动画 effectScatter&apos;, geoCoordMapChina: &#123; &apos;新疆&apos;: [87.36, 43.45], &apos;北京&apos;: [116.413554, 39.911013], &apos;杭州&apos;: [120.161693, 30.280059], &apos;广东&apos;: [113.14, 23.08], &#125;, planePath: planePath &#125; &#125;, mounted() &#123; this.drawMap(); &#125;, methods: &#123; /** * 地图 */ drawMap() &#123; let planePath = this.planePath; // fei_tip: 见下面 // 接口给的数据格式---可以考虑用这种格式 // let resData = [ // todo: 接口数据 // &#123;&quot;name&quot;: &quot;杭州&quot;, &quot;value&quot;: 60&#125;, // &#123;&quot;name&quot;: &quot;广东&quot;, &quot;value&quot;: 59&#125;, // &#123;&quot;name&quot;: &quot;新疆&quot;, &quot;value&quot;: 15&#125; // ]; let _data = [ [&#123;&quot;name&quot;: &quot;北京&quot;, &quot;value&quot;: 60&#125;, &#123;name: &apos;杭州&apos;&#125;], [&#123;&quot;name&quot;: &quot;广东&quot;, &quot;value&quot;: 59&#125;, &#123;name: &apos;杭州&apos;&#125;], [&#123;&quot;name&quot;: &quot;新疆&quot;, &quot;value&quot;: 15&#125;, &#123;name: &apos;杭州&apos;&#125;], ]; let option = &#123; tooltip: &#123; trigger: &apos;item&apos;, formatter: function (params) &#123; if (params.seriesType === &quot;effectScatter&quot;) &#123; return &quot;线路：&quot; + params.data.name + &quot;&quot; + params.data.value[2]; &#125; else if (params.seriesType === &quot;lines&quot;) &#123; return params.data.fromName + &quot;&gt;&quot; + params.data.toName + &quot;&lt;br /&gt;&quot; + params.data.value; &#125; else &#123; return params.name; &#125; &#125; &#125;, geo: &#123; show: true, map: &apos;china&apos;, roam: false, &#125;, series: [ &#123; // 地图 type: &apos;map&apos;, map: &apos;china&apos;, roam: false, //是否开启鼠标缩放和平移漫游 label: &#123; show: true, //显示省份标签 color: &quot;#90ee90&quot;, &#125;, itemStyle: &#123; // 地图整体背景颜色 areaColor: &quot;#c0c0c0&quot; &#125; &#125;, &#123; // fei_tip:线路 name: &apos;杭州Top3&apos;, type: &apos;lines&apos;, zlevel: 2, symbol: [&apos;none&apos;, &apos;arrow&apos;], symbolSize: 10, effect: &#123; show: true, period: 6, trailLength: 0, symbol: planePath, symbolSize: 15 &#125;, lineStyle: &#123; color: &apos;#2d9df1&apos;, //航线的颜色 width: 1, opacity: 0.6, curveness: 0.2 // 弯曲程度 &#125;, data: this.convertData(_data) &#125;, &#123; type: &apos;effectScatter&apos;, // fei_tip: 点名字 coordinateSystem: &apos;geo&apos;, // fei_tip: 使用地理坐标系 zlevel: 2, rippleEffect: &#123; //涟漪特效 period: 4, //动画时间，值越小速度越快 brushType: &apos;stroke&apos;, //波纹绘制方式 stroke, fill scale: 4 //波纹圆环最大限制，值越大波纹越大 &#125;, label: &#123; show: true, position: &apos;right&apos;, //显示位置 offset: [5, -10], //偏移设置 formatter: function (params) &#123;// 圆环显示文字 return params.data.name; &#125;, fontSize: 13, color: &apos;#ff6b81&apos;, &#125;, symbol: &apos;circle&apos;, symbolSize: function (val) &#123; return 6; //圆环大小 &#125;, itemStyle: &#123; show: true, color: &apos;#90a5dc&apos; // 圆环颜色 &#125;, data: [ // todo:fei_tip &#123;name: &apos;北京&apos;, value: [116.413554, 39.911013, 60]&#125;, &#123;name: &apos;广东&apos;, value: [113.14, 23.08, 59]&#125;, &#123;name: &apos;新疆&apos;, value: [87.36, 43.45, 15]&#125;, ] &#125;, &#123; // 目的地样式 name: &apos;杭州&apos;, type: &apos;effectScatter&apos;, coordinateSystem: &apos;geo&apos;, zlevel: 2, rippleEffect: &#123; brushType: &apos;stroke&apos; &#125;, label: &#123; show: true, position: &apos;right&apos;, formatter: &apos;&#123;b&#125;&apos;, color: &apos;#ff6b81&apos; &#125;, symbolSize: function (val) &#123; return 8 &#125;, itemStyle: &#123; color: &apos;#fe4272&apos;, &#125;, data: [ &#123;name: &apos;杭州&apos;, value: [120.161693, 30.280059, null]&#125;, ] &#125; ], &#125;; let myChart = echarts.init(document.getElementById(&quot;myChart&quot;)); myChart.setOption(option,true) &#125;, convertData(data) &#123; let res = []; for (var i = 0; i &lt; data.length; i++) &#123; let dataItem = data[i]; let fromCoord = this.geoCoordMapChina[dataItem[0].name]; let toCoord = [119.5313, 29.8773]; // todo:fei_tip:??? if (fromCoord &amp;&amp; toCoord) &#123; res.push(&#123; fromName: dataItem[0].name, toName: dataItem[1].name, coords: [fromCoord, toCoord], value: dataItem[1].value &#125;); &#125; &#125; return res; &#125; &#125;&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; footer航线planePath 12// 航线export const planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z'; 汽车行驶图 12// 汽车行驶图export const planePath = 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z'; effectScatter-涟漪特效 配置","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"},{"name":"ECharts","slug":"Vue/ECharts","permalink":"http://yoursite.com/categories/Vue/ECharts/"}],"tags":[{"name":"ECharts","slug":"ECharts","permalink":"http://yoursite.com/tags/ECharts/"}]},{"title":"传统项目项目引入Vue","date":"2021-12-03T16:00:00.000Z","path":"2021/12/04/vue/zzz_vue_传统项目使用/","text":"传统项目项目引入Vue传统项目项目引入Vue传统项目项目引入Vue下面more是分隔符 Vue12345678910111213141516171819&lt;div id=&quot;app&quot;&gt; &#123;&#123; message &#125;&#125; &lt;button type=&quot;button&quot; @click=&quot;foo()&quot;&gt;提交&lt;/button&gt;&lt;/div&gt;&lt;script src=&quot;./vue-2.6.14.js&quot;&gt;&lt;/script&gt;&lt;script&gt; var app = new Vue(&#123; el: &apos;#app&apos;, data: &#123; message: &apos;Hello C#!&apos;, visible: false &#125;, methods:&#123; foo() &#123; console.log(&apos;我是vue&apos;); &#125;, &#125; &#125;)&lt;/script&gt; jQ和Vue1234567&lt;button type=\"button\" onclick=\"foo()\"&gt;提交&lt;/button&gt;&lt;script&gt; function foo() &#123; console.log('ok'); app.foo() // 调用Vue 中的方法 &#125;&lt;/script&gt; axios1234// tip: 在 axios-0.24.0.min.js 同级目录下需要下载好 axios.min.map&lt;script src=\"./axios-0.24.0.min.js\"&gt;&lt;/script&gt;// 使用方法参考官网 https://www.npmjs.com/package/axios element-ui123456789101112131415161718192021// 下载链接地址 https://unpkg.com/browse/element-ui@2.15.6/lib/theme-chalk/fonts/// https://unpkg.com/browse/element-ui@2.15.6/lib/theme-chalk/fonts/// tip: 在同级目录下需要有 /font/element-icons.woff /font/&lt;link rel=\"stylesheet\" href=\"./element-ui-2.15.6.css\"&gt;&lt;script src=\"../common/js/element-ui-2.15.6.js\"&gt;&lt;/script&gt;&lt;script&gt; // 使用 ELEMENT.Message(\"消息提示\") ELEMENT.MessageBox(&#123; type: 'alert', title: \"标题\", message: \"我是弹窗\", callback:()=&gt;&#123; console.log('回调ok'); &#125; &#125;)&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"win server 2008 部署php","date":"2021-11-11T16:40:05.370Z","path":"2021/11/12/win/win_server_2008_IIS/","text":"win server 2008 部署phpwin server 2008 部署phpwin server 2008 部署php 配置IIS （安装好 PHPstudy 后测试php）在计算机右击,选择管理，出现服务器管理界面；或者打开“开始”菜单→“服务器管理”，出现服务器管理界面 添加角色，下一步，选择 web 服务器（IIS）,下一步 选择 CGI,一直下一步 安装好IIS后，需要测试一下，在浏览器中输入 localhost ，如果出现 IIS7 欢迎界面说明正常； 配置一个新网站，打开 IIS 管理器（“开始”→“所有程序”→“管理工具”→“internet 信息服务（IIS）管理器”）；备注：使用 PHPstudy 打开 IIS 管理器，需要提前安装好 PHPstudy； 添加好后，在 IIS 管理器中，在刚才添加的网站 “网站名称” 上右键，点击 “编辑权限” ，进入后点击“安全”选项卡，再点击其中的“编辑” 。打开“编辑”窗口后点击“添加”按钮。添加一个“用户”到权限用户列表中，然后为其勾选除了“完全控制”之外的权限。然后点击“确定” “应用”。 结束后，在刚才选择的物理路径下创建 index.html ,然后用记事本打开，输入 ”hello world“ 测试； 如果是做 PHP 开发，安装好 PHPstudy 后，可出在刚才选择的物理路径下创建 index.php ,然后用记事本打开，输入 如下做测试 123&lt;?phpecho phpinfo();?&gt;","categories":[{"name":"IIS","slug":"IIS","permalink":"http://yoursite.com/categories/IIS/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"Win","slug":"Win","permalink":"http://yoursite.com/tags/Win/"},{"name":"IIS","slug":"IIS","permalink":"http://yoursite.com/tags/IIS/"}]},{"title":"other JavaScript02","date":"2021-11-11T16:40:04.362Z","path":"2021/11/12/JavaScript/other_JavaScript02_重绘_回流/","text":"重绘和回流 重绘(repaint)和回流(reflow)全局回流(reflow), 部分重画(重绘 repaint) 重绘(repaint): 屏幕的一部分要重画,更新当前节点外观不影响布局,比如color 全局回流(reflow): 布局或者几何属性尺寸改变(HTML使用的是 flow based layout,也就是流式布局,所以如果某元素的几何尺寸发生了改变,需要重新布局,也叫reflow) 下面这些动作很大可能会是导致性能问题: 改变window窗口大小 改变字体大小 添加,删除,修改DOM节点 定位或者浮动引起DOM的位置变化 display:none 会触发回流(reflow) visibility:hidden 只会引起重绘(repaint) 减少重绘(repaint)和回流(reflow) DOM样式集中修改 不要把DOM节点的属性值放在一个循环里当成循环里的变量 尽可能修改层级比较低的DOM 为动画的HTML元素使用fixed或者 absolute的position(原因:动画速度越快,回流次数越多,修改fixed和absolute不会回流) 减少使用table布局,因为可能很小的一个小改动会造成整个table的重新布局","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"centos -PHP7安装","date":"2021-11-11T16:40:03.912Z","path":"2021/11/12/centos/php/","text":"centos -PHP7安装centos -PHP7安装centos -PHP7安装 centos PHP7 安装安装依赖12345yum install -y epel-releaseyum -y install libxslt libxslt-develyum -y install libxml2 libxml2-devel libjpeg-devel libpng-devel libmcrypt-develyum -y install curl-devel freetype-develyum install openssl openssl-devel 安装12345678安装phpwget http://cn2.php.net/get/php-7.0.28.tar.gz/from/this/mirrormv mirror php-7.0.28.tar.gz解压到你指定的目录，我这里选择 /data/server/ 目录tar -zxvf php-7.0.28.tar.gz -C /data/server/mv php-7.0.28 php7cd php7/ 编译12345678910111213141516171819202122232425262728293031323334353637./configure --prefix=/data/server/php7 \\ --with-curl \\ --with-freetype-dir \\ --with-gd \\ --with-gettext \\ --with-iconv-dir \\ --with-kerberos \\ --with-libdir=lib64 \\ --with-libxml-dir \\ --with-mysqli \\ --with-openssl \\ --with-pcre-regex \\ --with-pdo-mysql \\ --with-pdo-sqlite \\ --with-pear \\ --with-png-dir \\ --with-xmlrpc \\ --with-xsl \\ --with-zlib \\ --enable-fpm \\ --enable-bcmath \\ --enable-libxml \\ --enable-inline-optimization \\ --enable-gd-native-ttf \\ --enable-mbregex \\ --enable-mbstring \\ --enable-opcache \\ --enable-pcntl \\ --enable-shmop \\ --enable-soap \\ --enable-sockets \\ --enable-sysvsem \\ --enable-xml \\ --enable-zip \\ --enable-mysqlnd \\ --with-pdo-mysql=mysqlnd \\ --with-mcrypt 预处理ok后，make 编译123make &amp;&amp; make install最后用 make test 测试一下【这个过程时间比较长】 安装完毕123查看 php 版本/data/server/php7/bin/php -v这时候在命令窗口执行 php -v ,会提示命令找不到,需要配置环境变量,详情看下文 配置PHP12345cp /data/server/php7/php.ini-development /data/server/php7/lib/php.inicp /data/server/php7/etc/php-fpm.conf.default /data/server/php7/etc/php-fpm.confcp /data/server/php7/etc/php-fpm.d/www.conf.default /data/server/php7/etc/php-fpm.d/www.conf官方这里拷贝文件有点不一样，注意一下 添加 PHP 启动用户12345678910111213groupadd wwwuseradd -r -g www -s /bin/false www设置 PHP 启动用户cd /data/server/php7/etc/php-fpm.dvi www.conf 修改23、24行，内容如下： user = 启动fpm的用户名 group = 启动fpm的用户所在组 user = www group = www修改完启动 PHP-fpm php 启动命令1/data/server/php7/sbin/php-fpm 配置虚拟主机测试一下在 /data/www/ 目录下创建 index.php 内容如下： 123&lt;?phpecho phpinfo();?&gt; 在 nginx 中配置虚拟主机 12345678910111213141516server &#123; listen 80; server_name 127.0.0.1 192.168.1.230; client_max_body_size 10m; charset utf-8; #access_log /data/server/tengine/logs/127.0.0.1_access.log; #error_log /data/server/tengine/logs/127.0.0.1_error.log; root /data/www/; # index index.html; index index.php; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; &#125;&#125; 配置环境变量123456这时候在命令窗口执行 php -v ,会提示命令找不到,需要配置环境变量,详情看下文修改 /etc/profile 配置环境变量PATH=$PATH:/data/server/php/binexport PATH然后执行source /etc/profile 或者 ./profile 使其生效; 执行完后可以通过 echo $PATH 命令查看环境变量,在次执行 PHP -v 就看到PHP信息","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"CentOS","slug":"Linux/CentOS","permalink":"http://yoursite.com/categories/Linux/CentOS/"},{"name":"PHP","slug":"Linux/CentOS/PHP","permalink":"http://yoursite.com/categories/Linux/CentOS/PHP/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"},{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"PHP7","slug":"PHP7","permalink":"http://yoursite.com/tags/PHP7/"}]},{"title":"-Apache 压缩","date":"2021-11-11T16:40:03.872Z","path":"2021/11/12/apache/apache压缩/","text":"Apache 压缩Apache 压缩Apache 压缩 压缩 开启模块123LoadModule deflate_module modules/mod_deflate.soLoadModule headers_module modules/mod_headers.soLoadModule filter_module modules/mod_filter.so 压缩配置123456789101112131415161718192021222324252627&lt;IfModule mod_deflate.c&gt; #告诉浏览器内容进行压缩 # https://httpd.apache.org/docs/2.4/mod/mod_deflate.html#deflatecompressionlevel SetOutputFilter DEFLATE #压缩级别1--9,默认为6 # https://httpd.apache.org/docs/2.4/mod/mod_deflate.html#deflatecompressionlevel DeflateCompressionLevel 6 #不对那些进行压缩 # https://httpd.apache.org/docs/2.4/mod/mod_setenvif.html#setenvifnocase SetEnvIfNoCase Request_URI .(?:gif|jpe?g|png)$ no-gzip dont-vary SetEnvIfNoCase Request_URI .(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary SetEnvIfNoCase Request_URI .(?:pdf|mov|avi|mp3|mp4|rm)$ no-gzip dont-vary #对那些压缩 # https://httpd.apache.org/docs/2.4/mod/mod_filter.html#addoutputfilterbytype AddOutputFilterByType DEFLATE text/* AddOutputFilterByType DEFLATE application/ms* application/vnd* application/postscript application/javascript application/x-javascript AddOutputFilterByType DEFLATE application/x-httpd-php application/x-httpd-fastphp #解决一下兼容问题 # https://httpd.apache.org/docs/2.4/mod/mod_setenvif.html#browsermatch BrowserMatch ^Mozilla/4 gzip-only-text/html BrowserMatch ^Mozilla/4.0[678] no-gzip BrowserMatch \\bMSIE !no-gzip !gzip-only-text/html&lt;/IfModule&gt;","categories":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/categories/Apache/"}],"tags":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/tags/Apache/"}]},{"title":"vue 父子组件之间访问","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_父子组件之间访问/","text":"vue 父子组件之间访问 this.$refs 和 this.$parent 访问跟组件 this.$root.xxxxxxxx vue 父组件访问子组件 this.$refs123456789101112131415161718192021222324252627282930313233343536373839&lt;div id=\"app\"&gt; &#123;&#123; message &#125;&#125; &lt;button value=\"点击\" @click=\"p_click\"&gt;点击获取子组件&lt;/button&gt; &lt;children_fei ref=\"children_ref\"&gt; &lt;/children_fei&gt;&lt;/div&gt;&lt;template id=\"children_foo\"&gt; &lt;!--子组件--&gt; &lt;div&gt;&lt;button value=\"点击\"&gt;点击&lt;/button&gt;&lt;/div&gt;&lt;/template&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const children_fei = &#123; template: '#children_foo', data() &#123; return &#123; children_message: \"我是子组件bar\" &#125; &#125;, methods: &#123; &#125; &#125;; const app = new Vue(&#123; el: '#app', data() &#123; return &#123; message: 'Hello Vue!' &#125; &#125;, methods: &#123; p_click:function () &#123; // 访问子组件 children_message console.log(this.$refs.children_ref.children_message); &#125; &#125;, components: &#123; children_fei &#125; &#125;);&lt;/script&gt; refs vue 子组件访问父组件 this.$parent这种方式不太好,尽量不使用, 尽量让父组件传值进来 1234567891011121314151617181920212223242526272829&lt;div id=\"app\"&gt; &#123;&#123; message &#125;&#125; &lt;children_fei&gt; &lt;/children_fei&gt;&lt;/div&gt;&lt;template id=\"children_foo\"&gt; &lt;!--子组件--&gt; &lt;div&gt;&lt;button value=\"点击\" @click=\"ccc_click\"&gt;点击&lt;/button&gt;&lt;/div&gt;&lt;/template&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const children_fei = &#123; template: '#children_foo', data() &#123; return &#123;children_message: \"我是子组件bar\"&#125; &#125;, methods: &#123; ccc_click: function () &#123; console.log(this.$parent.message); &#125; &#125; &#125;; const app = new Vue(&#123; el: '#app', data() &#123; return &#123;message: 'Hello Vue!'&#125; &#125;, methods: &#123;&#125;, components: &#123; children_fei &#125; &#125;);&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"vue中main.js文件解析","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/cli3_main_js/","text":"入口文件mian.js 中 render函数 01) 入口文件 mians.js 中 render 函数12345678910111213141516171819202122232425262728293031import Vue from 'vue'// import App from './App.vue'Vue.config.productionTip = falsenew Vue(&#123; // render: h =&gt; h(App), // render:function (h) &#123; // return h(App); // &#125; // render:function (createdElement) &#123; // return createdElement(App) // &#125; // render: function (createdElement) &#123; // return createdElement('h2', &#123;class: 'fei_foo'&#125;, ['hello world']) // &#125; // 用h2标签替换掉App.vue中的内容 render: function (createdElement) &#123; return createdElement( 'h2', &#123;class: 'fei_foo'&#125;, [ 'hello world', createdElement('button', ['点击']) ]) &#125;&#125;).$mount('#app'); 02) render 传入组件对象12345678910111213// main.js 内容如下import Vue from 'vue'// import App from './App.vue'import Fei from './components/Fei.vue'Vue.config.productionTip = falsenew Vue(&#123; render: function (createdElement) &#123; // return createdElement(App) return createdElement(Fei) &#125;&#125;).$mount('#app'); 1234567891011121314// components/Fei.vue 中文件如下&lt;template&gt; &lt;div&gt;我是组件Fei.vue&lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: &quot;Fei&quot; &#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; runtime-compiler 和 runtime-onlyruntime-compiler: 1template(解析)--&gt;ast(abstract syntax tree 抽象语法树)--&gt;render--&gt;virtual dom--&gt;UI runtime-only: 直接使用render渲染 1template(解析)--&gt;render--&gt;virtual dom--&gt;UI","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"-computed 和 -watch","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_computed和watch/","text":"computed 和 watch 计算属性和监听属性computed 和 watch 计算属性和监听属性computed 和 watch 计算属性和监听属性 computed: 它支持缓存，只有依赖的数据发生了变化，才会重新计算 computed的值会默认走缓存，计算属性是基于它们的响应式依赖进行缓存的，也就是基于data声明过，或者父组件传递过来的props中的数据进行计算的。 不支持异步，当Computed中有异步操作时，无法监听数据的变化 如果一个属性是由其他属性计算而来的，这个属性依赖其他的属性，一般会使用computed 如果computed属性的属性值是函数，那么默认使用get方法，函数的返回值就是属性的属性值；在computed中，属性有一个get方法和一个set方法，当数据发生变化时，会调用set方法。 watch: 支持异步监听 它不支持缓存，数据变化时，它就会触发相应的操作 监听的函数接收两个参数，第一个参数是最新的值，第二个是变化之前的值 当一个属性发生变化时，就需要执行相应的操作 监听数据必须是data中声明的或者父组件传递过来的props中的数据，当发生变化时，会触发其他操作，函数有两个的参数： immediate：组件加载立即触发回调函数 deep：深度监听，发现数据内部的变化，在复杂数据类型中使用，例如数组中的对象发生变化。需要注意的是，deep无法监听到数组和对象内部的变化 demo:12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;div id=\"app\"&gt; &lt;span&gt;app.price=6 app.price=12 app.price=50&lt;/span&gt; &lt;div&gt;&#123;&#123;computedPrice&#125;&#125; &#123;&#123;price&#125;&#125; &#123;&#123;vipPrice&#125;&#125;&lt;/div&gt;&lt;/div&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const app = new Vue(&#123; el: '#app', data() &#123; return &#123; price: 5, vipPrice: 0, &#125; &#125;, computed:&#123; // computedPrice: function () &#123; // console.log(\"仅读取,不做修改\"); // &#125; computedPrice:&#123; // 不能使用异步操作 // setTimeout(() =&gt; &#123; // return this.price * 0.8; // &#125;, 2000); // // return \"fei\"; get: function () &#123; console.log(\"get方法\"); return this.price + 1 &#125;, set: function (v) &#123; console.log(\"set方法\"); this.price = v - 1 &#125; &#125; &#125;, watch: &#123; price(current, pre) &#123; // 最新值, 之前值 // 异步操作/ setTimeout(()=&gt;&#123; this.vipPrice = current * 0.5; &#125;,2000) &#125; &#125; &#125;);&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"-vue-router 路由","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_config_js配置/","text":"vue-cli3 中 vue.config.js 配置vue-cli3 中 vue.config.js 配置 vue.config.js 配置文件 在根目录下创建 vue.config.js 即可使用 [ 和 package.json 同级] 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162module.exports = &#123; // 基本路径 publicPath: './', // 打包输出文件目录 outputDir: 'dist', // eslint-loader 是否在保存的时候检查 lintOnSave: false, // use the full build with in-browser compiler? // https://vuejs.org/v2/guide/installation.html#Runtime-Compiler-vs-Runtime-only runtimeCompiler: false, // webpack配置 // see https://github.com/vuejs/vue-cli/blob/dev/docs/webpack.md chainWebpack: () =&gt; &#123;&#125;, configureWebpack: () =&gt; &#123;&#125;, // 生产环境是否生成 sourceMap 文件 productionSourceMap: false, // css相关配置 /*css: &#123; // 是否使用css分离插件 ExtractTextPlugin extract: true, // 开启 CSS source maps? sourceMap: false, // css预设器配置项 loaderOptions: &#123;&#125;, // 启用 CSS modules for all css / pre-processor files. modules: false &#125;,*/ // use thread-loader for babel &amp; TS in production build // enabled by default if the machine has more than 1 cores parallel: require('os').cpus().length &gt; 1, // 是否启用dll // See https://github.com/vuejs/vue-cli/blob/dev/docs/cli-service.md#dll-mode // dll: false, // PWA 插件相关配置 // see https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa pwa: &#123;&#125;, // webpack-dev-server 相关配置 devServer: &#123; // open: process.platform === 'darwin', //将服务启动后默认打开浏览器 open: true, host: '0.0.0.0', port: 8080, https: false, hotOnly: false, proxy: &#123;// 设置代理 '/api': &#123; target: 'https://www.cnblogs.com/', changeOrigin: true, pathRewrite: &#123; '^/api': '/' &#125; &#125; &#125;, before: app =&gt; &#123;&#125; &#125;, // 第三方插件配置 pluginOptions: &#123; // ... &#125;&#125;;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"vue 组件之间传值","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_组件之间传值兄弟_父子传值/","text":"vue 父子之间传值 props 和 emitvue 父子之间传值 props 和 emitvue 父子之间传值 props 和 emit vue 父组件传值子组件 props1234567891011121314151617181920212223242526272829&lt;div id=\"app\"&gt; &#123;&#123; message &#125;&#125; &#123;&#123; books &#125;&#125; &lt;children_fei :children_message=\"message\" :children_books=\"books\"&gt;&lt;/children_fei&gt;&lt;/div&gt;&lt;template id=\"children_foo\"&gt; &lt;!-- 子组件 --&gt; &lt;div&gt; &#123;&#123; children_message &#125;&#125; &#123;&#123; children_books &#125;&#125; &lt;/div&gt;&lt;/template&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const children_fei = &#123; template:'#children_foo', props:&#123; children_message: String, children_books: Array &#125; &#125;; const app = new Vue(&#123; el: '#app', data()&#123; return &#123; message: 'Hello Fei!', books: ['论语', '史记', '左传', '汉书', '战国策'] &#125; &#125;, components:&#123; children_fei &#125; &#125;);&lt;/script&gt; props vue 子组件传值父组件 emit12345678910111213141516171819202122232425262728293031323334353637383940&lt;div id=\"app\"&gt; &#123;&#123; message &#125;&#125; &lt;children_fei @item_click=\"parent_function\"&gt; &lt;/children_fei&gt;&lt;/div&gt;&lt;template id=\"children_foo\"&gt; &lt;!--子组件--&gt; &lt;div&gt;&lt;button @click=\"btnClick()\" value=\"点击\"&gt;点击&lt;/button&gt;&lt;/div&gt;&lt;/template&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const children_fei = &#123; template: '#children_foo', data() &#123; return &#123; children_message: \"我是子组件bar\" &#125; &#125;, methods: &#123; btnClick() &#123; this.$emit('item_click', this.children_message) // 发射一个事件 &#125; &#125; &#125;; const app = new Vue(&#123; el: '#app', data() &#123; return &#123; message: 'Hello Vue!' &#125; &#125;, methods: &#123; parent_function(items) &#123; console.log(items); &#125; &#125;, components: &#123; children_fei &#125; &#125;);&lt;/script&gt; vue 跨级组件传值 provider/inject1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&lt;div id=\"app\"&gt; &lt;children_fei&gt;&lt;/children_fei&gt;&lt;/div&gt;&lt;!-- 子组件 --&gt;&lt;template id=\"children_foo\"&gt; &lt;div&gt; 我是第一 &lt;children_fei222&gt;&lt;/children_fei222&gt; &lt;/div&gt;&lt;/template&gt;&lt;!-- 子组件22222 --&gt;&lt;template id=\"children_foo222\"&gt; &lt;div&gt; 我是第222222222 隔代组件 &lt;br /&gt; &#123;&#123;foo&#125;&#125; &lt;br /&gt; &lt;ul&gt; &lt;li v-for=\"item in books\"&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const children_fei222 = &#123; template: '#children_foo222', inject: [\"foo\", \"books\"], // 接受 ************ created() &#123; console.log(this.foo); console.log(this.books); &#125; &#125;; const children_fei = &#123; template: '#children_foo', components: &#123; children_fei222 &#125;, &#125;; const app = new Vue(&#123; el: '#app', provide: &#123; // 传值 ************ foo: \"bar\", books: ['论语', '史记', '左传', '汉书', '战国策'] &#125;, components: &#123; children_fei &#125; &#125;);&lt;/script&gt; vue 兄弟组件传值 事件总线 EventBus123456789101112131415161718192021222324// src/utils/eventBus.js 文件内容 ***新建全局vue实例***// 事件总线// 非父子组件传参 import Vue from \"vue\";export default new Vue();// src/App.vue 文件内容 ***接受事件***import eventBus from './utils/eventBus';export default &#123; mounted() &#123; eventBus.$on(\"daFei\", function (val) &#123; console.log(\"我是接受数据__\", val); &#125;) &#125;&#125;// src/views/index.vue 文件内容 ***发送事件***import eventBus from '../../utils/eventBus';export default &#123; created() &#123; eventBus.$emit(\"daFei\",\"hello foo_bar\") &#125;&#125; 使用 vuex 状态管理参考另一篇文章,有详细介绍 vue-cli 中使用父子之间传值父组件传值子组件封装button按钮study01.vue 中代码 12345678910111213141516171819202122232425262728293031&lt;template&gt; &lt;div&gt; &lt;header-btn @handleSave=\"handleSave\" @handleSubmit=\"handleSubmit\" :headerBtns=\"headerBtns\"/&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import HeaderBtn from \"../../components/headerBtn.vue\"; export default &#123; components: &#123; HeaderBtn, &#125;, data() &#123; return &#123; headerBtns: [ &#123;type: 'primary', icon: 'save', name: '保存', handleClick: 'handleSave'&#125;, &#123;type: 'primary', icon: 'check-submit', name: '提交', handleClick: 'handleSubmit'&#125;, ], &#125; &#125;, methods: &#123; handleSave() &#123; console.log(\"handleSave\"); &#125;, handleSubmit() &#123; console.log(\"handleSubmit\"); &#125; &#125;, &#125;&lt;/script&gt; 02) 组件headerBtn.vue 中代码 1234567891011121314151617181920212223242526272829&lt;template&gt; &lt;div&gt; &lt;button v-for=\"(item,index) in headerBtns\" :key=\"index\" @click=\"$emit(item.handleClick)\"&gt; &#123;&#123; item.name&#125;&#125; &lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: \"headerBtn\", props: &#123; headerBtns: &#123; //父组件没有传参时,使用这个 type: Array, default() &#123; return [ &#123;type: 'primary', icon: 'goBack', name: '返回', handleClick: 'handleBack'&#125;, &#123;type: 'primary', icon: 'save', name: '保存', handleClick: 'handleSave'&#125;, &#123;type: 'primary', icon: 'check-submit', name: '提交', handleClick: 'handleSubmit'&#125;, ] &#125; &#125; &#125; &#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"vuex","slug":"vuex","permalink":"http://yoursite.com/tags/vuex/"}]},{"title":"vue_webstorm_debug","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_webstorm_断点/","text":"vue 和 debug 断点调试vue 和 debug 断点调试 vue 和 debug 断点调试 vue 打断点debug [ 普通断点] 在webstorm中断点调试01) 在chrome中安装插件 JetBrains IDE Support [ 想办法自己下载 ]02) 创建demo项目 vue init webpack vuejs-webpack-project-dafei03) 在config/index.js 中 修改 devtool: ‘source-map’ , [ 不配置这项,后面断点的时候会显示不出结果 ]04-01) 先使用npn 正常启动vue项目,可以使用 http://localhost:8080/#/ 访问到项目04-02) 配置debug启动 Edit Configurations –&gt;JavaScript Debug–&gt; Name自己随便写, URL:[ http://localhost:8080/#/ 注意要he04-01中端口保持一致 ]123http://localhost:8080/#/ 选中src 目录,在右侧写 webpack:///src 05) 测试代码,在 src/components/HelloWorld.vue 中写测试代码,在test方法上打上断点,点击虫子启动debug","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"vue_webstorm _模板","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_webstorm_模板/","text":"webstrom 和 vue webstorm 设置 vue 模板快捷方式 123456789101112131415&lt;div id=\"app\"&gt; &#123;&#123; message &#125;&#125;&lt;/div&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const app = new Vue(&#123; el: '#app', data() &#123; return &#123; message: 'Hello Vue!' &#125; &#125; &#125;);&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"WebStorm","slug":"WebStorm","permalink":"http://yoursite.com/tags/WebStorm/"}]},{"title":"-vuex 状态管理","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vuex/","text":"vuex 状态管理vuex 状态管理demo vuex 5个属性 state, getters, mutations, actions, modules 01) 基本目录结构(自己创建)123456src--vuex------actions.js------getters.js------index.js------mutations.js 02) src/vuex/index.js 内容123456789101112131415161718192021import Vue from 'vue'import Vuex from 'vuex'import mutations from './mutations'import actions from './actions'import getters from './getters'Vue.use(Vuex);const state = &#123; //demo ,定义需要的属性 count: 10&#125;;const store = new Vuex.Store(&#123; state, mutations, actions, getters&#125;);export default store 03)src/vuex/mutations.js 内容12345678// mutations 同步函数const mutations = &#123; increment_vuex(state) &#123; //demo state.count++ &#125;&#125;;export default mutations 04)src/vuex/actions.js 内容1234// actions 异步函数;提交使用dispatchconst actions = &#123;&#125;;export default actions 05)src/vuex/getters.js 内容1234// 相当于计算属性 computedconst getters = &#123;&#125;;export default getters 06)src/main.js 注册vuex1234567891011121314import Vue from 'vue'import App from './App.vue'import router from './router/index'import store from './vuex/index'Vue.config.productionTip = falseVue.prototype.$dafei = \"我是自定义全局变量\";new Vue(&#123; render: h =&gt; h(App), router, store //demo&#125;).$mount('#app'); 07)src/App.vue中使用1234567891011121314151617181920&lt;template&gt; &lt;div id=\"app\"&gt; &#123;&#123; $route.meta.title&#125;&#125; ---我是元数据title &lt;input type=\"button\" value=\"点击vuex\" @click=\"increment()\"&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: 'app', methods:&#123; increment() &#123; // increment_vuex 为 src/vuex/index.js mutations中的方法 this.$store.commit('increment_vuex'); console.log(this.$store.state.count); &#125; &#125; &#125;&lt;/script&gt; Module 模块化这里暂时不做介绍 辅助函数辅助函数 mapState mapGetters mapMutations mapActions 123456789101112131415161718192021222324252627const book=&#123; state:&#123; bookState:\"001\", bookStateName:\"大飞\", foo: \"123\", bar: \"456\" &#125;, getters: &#123; bookFoo: state =&gt; state.bookStateName + '123', &#125;, mutations: &#123; SET_FOO: (state, newVal) =&gt; &#123; state.foo = newVal; &#125;, SET_BAR: (state, newVal) =&gt; &#123; state.bar = newVal; &#125; &#125;, actions: &#123; update(&#123;commit&#125;, info) &#123; commit('SET_BAR', info); &#125; &#125;,&#125;export &#123; book &#125; 123456789101112131415161718// vue文件中使用export default &#123; data() &#123; return &#123;&#125; &#125;, computed: &#123; ...mapState(['book']), ...mapGetters(['bookFoo']), &#125;, created() &#123; this.SET_FOO('abc') this.update('xyz') &#125;, methods: &#123; ...mapMutations(['SET_FOO']), ...mapActions(['update']), &#125;,&#125;; vuex状态管理","categories":[{"name":"Vuex","slug":"Vuex","permalink":"http://yoursite.com/categories/Vuex/"}],"tags":[{"name":"Vuex","slug":"Vuex","permalink":"http://yoursite.com/tags/Vuex/"}]},{"title":"vue 响应式","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_响应式/","text":"响应式可以刷新视图中数据响应式可以刷新视图中数据响应式可以刷新视图中数据 123456789101112this.$set(对象, '属性', '值');/// this.$set(this.obj, 'hobby', 'obj.Hobby');[ 'push', 'pop', 'shift', 'unshift', 'splice', 'sort', 'reverse'] demo:1234567891011121314151617181920212223242526272829303132&lt;div id=\"app\"&gt; &lt;ul&gt; &lt;li v-for=\"value in obj\" :key=\"value\"&gt; &#123;&#123;value&#125;&#125; &lt;/li&gt; &lt;/ul&gt; &lt;button @click=\"addAge\"&gt;添加 obj.age&lt;/button&gt; &lt;button @click=\"addHobby\"&gt;添加 obj.hobby&lt;/button&gt;&lt;/div&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const app = new Vue(&#123; el: '#app', data() &#123; return &#123; obj: &#123; name: 'obj.name' &#125; &#125; &#125;, methods: &#123; addAge () &#123; this.obj.age = 'obj.age'; console.log(this.obj) &#125;, addHobby () &#123; this.$set(this.obj, 'hobby', 'obj.Hobby'); console.log(this.obj); &#125; &#125; &#125;);&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"-vue-router 路由02","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_router_02/","text":"路由 vue-router路由 vue-route 基本使用 路由 vue-router 基本使用 全局导航守卫beforeEach处理元数据meta12345678910// src/router/index.js 文件中// 全局导航守卫router.beforeEach((to, from, next) =&gt; &#123; document.title = to.meta.title; next();&#125;);// 在组件中获取meta数据信息&lt;div&gt; &#123;&#123; $route.meta.title&#125;&#125; &lt;/div&gt; 组件内导航守卫123456789// beforeRouteEnter// beforeRouteUpdate // beforeRouteLeavebeforeRouteLeave(to, from, next) &#123; console.log(to,\"去那个页面\"); console.log(from,\"来自哪个页面\"); next(); //这个不要丢了&#125; vue-router","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"Vue之性能优化篇","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/zzz_优化综合整理/","text":"Vue之性能优化篇Vue之性能优化篇Vue之性能优化篇 v-if 和 v-show 分场景使用 computed 和 watch 分场景使用 v-for 遍历添加 key 事件销毁addEventListener removeEventListener 图片懒加载 路由懒加载 第三方插件按需引入(需要什么引入什么) 图片压缩 公用代码提取(相同组件在首页一次加载) gzip 压缩(前端或者nginx都可以) 使用浏览器缓存(强制缓存,对比缓存) 使用 CDN 以上方法还不能达到目的,查找日志寻找瓶颈","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"vue 插槽 -slot","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_插槽/","text":"具名插槽、作用域插槽、理解编译作用域 编译作用域 1父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的 插槽1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;div id=\"app\"&gt; &lt;children_fei&gt;&lt;/children_fei&gt; &lt;children_fei&gt;&lt;span slot=\"center\"&gt;父_中间&lt;/span&gt;&lt;/children_fei&gt;&lt;!-- 具名插槽 --&gt; &lt;children_fei&gt; &lt;ul slot=\"name_c\" slot-scope=\"slot_bar\"&gt; &lt;!-- 作用域插槽 --&gt; &lt;span v-for=\"item in slot_bar.data_fei\"&gt;&#123;&#123;item&#125;&#125;&lt;/span&gt; &lt;/ul&gt; &lt;/children_fei&gt;&lt;/div&gt;&lt;template id=\"children_foo\"&gt; &lt;div&gt; &lt;slot name=\"left\"&gt;&lt;span&gt;左边&lt;/span&gt;&lt;/slot&gt; &lt;slot name=\"center\"&gt;&lt;span&gt;中间&lt;/span&gt;&lt;/slot&gt; &lt;slot name=\"right\"&gt;&lt;span&gt;右边&lt;/span&gt;&lt;/slot&gt; &lt;slot name=\"name_c\" :data_fei=\"c_books\"&gt; &lt;ul&gt; &lt;li v-for=\"item in c_books\"&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;/slot&gt; &lt;/div&gt;&lt;/template&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script&gt; const children_fei = &#123; template: '#children_foo', data() &#123; return &#123; children_message: \"我是子组件bar\", c_books: ['论语', '史记', '左传', '汉书', '战国策'] &#125; &#125; &#125;; const app = new Vue(&#123; el: '#app', data() &#123; return &#123; message: 'Hello Vue!', &#125; &#125;, components: &#123; children_fei &#125; &#125;);&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"-vue 随笔01","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/随笔_01/","text":"vue 随笔01vue 随笔01vue 随笔01 vue-cli3 基本使用123456789vue-cli3:vue create my-projectnpm install axiosnpm install element-uinpm install vue-routernpm install qsnpm install vuexnpm install echarts vuejs-templates_webpack_Quickstart 响应式赋值1Object.assign(vueFoo,&#123;fei:\"111\",bar:\"222\"&#125;) $router 和 $route 区别123456$router 为 VueRouter 实例,想要导航到不同URL,则使用$router.push(&#123;path:'foo',query:&#123;id:'123',name:'大飞'&#125;&#125;)$route 为当前router跳转对象,里面可以获取到name、path、query、paramsthis.$route.querythis.$route.params this.$router.push 中get 和post 请求1234567891011121314151617181920212223242526272829303132333435// 01) 路由文件配置export default new Router(&#123; mode:'history', routes: [ &#123; path: '/HelloWorld', name: 'HelloWorld', component:HelloWorld &#125;, ]&#125;)//02) 点击事件&lt;button @click=\"clickBut\"&gt;push 点击我&lt;/button&gt;//push 点击我 path ===&gt; 对应query |||| name==&gt;对应paramsclickBut() &#123; this.$router.push(&#123; path: 'HelloWorld', query: &#123; id: 123, username: \"dafei 我是path==&gt;query\" &#125; &#125;);//get 请求 this.$router.push(&#123; name: 'HelloWorld', params: &#123; id: 123, username: \"dafei 我是name==&gt;params \" &#125; &#125;) //post 请求&#125;// 03) 在 HelloWorld 页面接受参数&lt;p&gt;get方法接收参数 &#123;&#123;this.$route.query.username&#125;&#125;&lt;/p&gt;&lt;p&gt;post方法接收参数 &#123;&#123;this.$route.params.username&#125;&#125;&lt;/p&gt; ES6异步操作 promise1234567891011121314151617181920212223242526272829303132// 输出 success barnew Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve('success');//成功调用函数resolve() &#125;, 1000);&#125;).then(data =&gt; &#123; console.log(data + \" bar\");&#125;);//--------------------------//输出 success bar foonew Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve('success'); &#125;, 1000);&#125;).then(data =&gt; &#123; console.log(data + \" bar\");&#125;).then(data=&gt;&#123; console.log(\"foo\");&#125;);//--------------------------// 输出 failure foonew Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; reject('failure');//失败调用函数reject() &#125;, 1000);&#125;).then(data =&gt; &#123; console.log(data + \" bar\");&#125;,error=&gt;&#123; console.log(error + ' foo');&#125;); Promise 那些数组操作是响应式1234567891011121314151617181920212223242526272829303132&lt;div id=\"app\"&gt; &lt;ul&gt; &lt;li v-for=\"item in items\" :key=\"item \"&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt;&lt;script&gt; const app = new Vue(&#123; el: '#app', data()&#123; return &#123; items: ['fei', 'foo', 'bar'], number: 123 &#125; &#125; &#125;); // !!! 通过索引直接修改不是响应式 !!!// Vue.set(app.items, 3, 'aaa');// app.items.push('bbb','ccc'); //在数组最后面添加元素// app.items.pop(); // 删除最后一个元素// app.items.shift(); // 从数组中删除第一个元素// app.items.unshift('ddd','eee'); // 在数组中最前面添加元素// app.items.reverse() // 翻转数组// app.items.sort() //排序数组 // splice作用:删除元素/插入元素/替换元素// 只有一个参数,从第几个开始删除后面元素// 2个参数从第几个开始,删除几个元素// 3个参数插入元素// app.items.splice(1,0,'bbbb');&lt;/script&gt; 设置全局变量 Vue.prototype1234567Vue.prototype.$appName = 'My App'new Vue(&#123; beforeCreate: function () &#123; console.log(this.$appName) &#125;&#125;) Vue.prototype 高阶函数 filter map reduce12345678910111213141516171819202122232425// 高阶函数 filter map reduce 用es6语法// 过滤小于20的值,返回布尔值 true 或者 false// 循环数组中的每一个元素//接受一个函数作为参数，这个函数作为一个累加器，从左到右遍历整个类型数组，最后返回一个单一的值const nums = [10, 15, 18, 25, 34];let newNums = nums.filter(item =&gt; item &lt; 20) .map(item2 =&gt; item2 * 2) .reduce((total, item3) =&gt; total + item3); //--------------------const nums = [10, 15, 18, 25, 34];let newNum_1 = nums.filter(function (item1) &#123; return item1 &lt; 20;&#125;);console.log(newNum_1); // [10, 15, 18]let newNum_2 = newNum_1.map(function (item2) &#123; return item2 * 2;&#125;);console.log(newNum_2); // [20, 30, 36]let newNum_3 = newNum_2.reduce(function (total, item3) &#123; return total + item3;&#125;)console.log(newNum_3); // 86 nginx中配置vue项目123456789101112131415161718192021222324#这是在一个PHP的laravel中配置的前后端server &#123; listen 80; server_name demo.fei.com; charset utf-8; root E:/selfweb/fei_laravel/public/; index index.php index.html; #laravel location / &#123; #autoindex on; try_files $uri $uri/ /index.php?$query_string; &#125; #php location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; &#125; #vue location /web &#123; alias E:/selfweb/vue/temp_vue2/dist; index index.html; &#125;&#125; webpack搭建Vue123456# http://vuejs-templates.github.io/webpack/$ npm install -g vue-cli$ vue init webpack my-project$ cd my-project$ npm install$ npm run dev vue-cli 搭建vue1234npm root -g #查看全局下载目录vue create my-projectnpm install vue-routeryarn add vue-router 2中搭建区别 vue create 和vue init webpack的区别vue create 是 vue-cli3.x 的初始化方式,模板可以自由配置vue init webpack 是vue-cli2.x的初始化方式,模板使用webpack官方推荐的标准模板 vue init webpack 项目名称vue create 项目名称","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"-vue-router 路由01","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_router/","text":"路由 vue-router 路由 vue-router 基本使用 $route 和 $router 的区别$router 为VueRouter 实例,想要导航到不同的URL,则使用 $router.push方法$route 为当前 router跳转对象里面可以获取 name、path、query、params等 01) 基本目录结构 02) src/router/index.js 路由文件123456789101112131415161718192021222324import Vue from 'vue'import VueRouter from 'vue-router'const Home = () =&gt; import('../views/Home.vue');const Login = () =&gt; import('../views/Login.vue');// 01)安装 VueRouterVue.use(VueRouter);// 02)配置路由信息const routes = [ &#123;path: '/', component: Home, meta: &#123;title: '首页'&#125;&#125;, &#123;path: '/home', component: Home, meta: &#123;title: 'home首页'&#125;&#125;, &#123;path: '/login', component: Login, meta: &#123;title: 'login页面'&#125;&#125;,];// 03)创建路由对象const router = new VueRouter(&#123; mode: 'history', routes&#125;);//04) 导出export default router; 03) src/main.js 加载路由12345678910import Vue from 'vue'import App from './App.vue'import router from './router/index'Vue.config.productionTip = falsenew Vue(&#123; render: h =&gt; h(App), router&#125;).$mount('#app'); 04) src/App.vue 渲染路径匹配到的视图123456789101112&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: &apos;app&apos; &#125;&lt;/script&gt; 05-01) src/views/Home.vue 视图文件1234567891011121314151617181920&lt;template&gt; &lt;div id=&quot;home&quot;&gt; &lt;div&gt;我是home&lt;/div&gt; &lt;router-link :to=&quot;&#123;path: &apos;/login&apos;&#125;&quot;&gt;login&lt;/router-link&gt; &amp;nbsp; &lt;router-link :to=&quot;&#123;path: &apos;/login&apos;&#125;&quot; tag=&quot;button&quot;&gt; tag属性,我是自定义标签 &lt;/router-link&gt; &amp;nbsp; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: &quot;Home&quot; &#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; 05-02) src/views/Login.vue 视图文件12345678910111213141516&lt;template&gt; &lt;div id=&quot;login&quot;&gt; &lt;div&gt;我是login&lt;/div&gt; &lt;router-link :to=&quot;&#123; path: &apos;/home&apos; &#125;&quot;&gt;home&lt;/router-link&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; name: &quot;Login&quot; &#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; 全局导航守卫处理元数据meta12345678910// src/router/index.js 文件中// 全局导航守卫router.beforeEach((to, from, next) =&gt; &#123; document.title = to.meta.title; next();&#125;);// 在组件中获取meta数据信息&lt;div&gt; &#123;&#123; $route.meta.title&#125;&#125; &lt;/div&gt; 历史模式使用mode: &#39;history&#39;模式的时候 vue.config.js 配置中 publicPath: &#39;/&#39;,历史模式中不能加点 1234module.exports = &#123; // 基本路径 publicPath: '/', // 历史模式中不能加点&#125; 否则报错 Uncaught SyntaxError: Unexpected token &#39;&lt;&#39; vue-router","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"-vue_axios","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/axios/","text":"vue 和 axiosvue 和 axios 目录结构1234src--networkAxios----axios_instance.js----home.js src/networkAxios/axios_instance.js 文件内容1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// axios 封装............import Axios from 'axios'// import Qs from 'qs'// qs 对请求的参数进行序列化export default function axios_instance(option) &#123; return new Promise((resolve, reject) =&gt; &#123; // 创建 axios 实例 const instance = Axios.create(&#123; baseURL: 'http://demo.yizheng_fei.com/api', // baseURL: 'https://gank.io/api', timeout: 300000, headers:&#123; 'Content-Type': 'application/x-www-form-urlencoded', &#125;, &#125;); // 配置请求 instance.interceptors.request.use(config =&gt; &#123; // 判断token,用于登录 // 请求数据序列号 // config.data = Qs.stringify(config.data) return config; &#125;, error =&gt; &#123; // 网络请求失败 return error; &#125;); // 配置响应拦截 instance.interceptors.response.use(response =&gt; &#123; return response.data; &#125;, error =&gt; &#123; if (error &amp;&amp; error.response) &#123; switch (error.response.status) &#123; case 400: error.message = '请求错误'; break; case 401: error.message = '未授权的访问'; break; case 403: error.message = '没有权限'; break; case 500: case 501: case 503: default: error.message = '服务器出问题'; break; &#125; &#125; return error; &#125;); // 传入对象进行网络访问 instance(option).then(res =&gt; &#123; resolve(res); &#125;).catch(error =&gt; &#123; reject(error) &#125;); &#125;);&#125; src/networkAxios/home.js 文件内容12345678import axios_instance from './axios_instance'export function getWeatherData() &#123; return axios_instance(&#123; url: '/user/detail?id=3' // url: '/v2/categories/GanHuo' &#125;)&#125; src/views/Home.vue 文件内容123456789101112131415161718192021222324&lt;template&gt; &lt;div id=\"home\"&gt; &lt;div&gt;我是home &lt;input type=\"button\" value=\"点击请求数据\" @click=\"fetch_data()\"&gt;点击请求数据&lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import &#123;getWeatherData&#125; from \"../networkAxios/home\" export default &#123; name: \"Home\", methods:&#123; fetch_data() &#123; getWeatherData().then(res=&gt;&#123; console.log(res.data); &#125;) &#125; &#125; &#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; axios","categories":[{"name":"Axios","slug":"Axios","permalink":"http://yoursite.com/categories/Axios/"}],"tags":[{"name":"Axios","slug":"Axios","permalink":"http://yoursite.com/tags/Axios/"}]},{"title":"-vue 随笔02","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/随笔_02/","text":"-vue 随笔02-vue 随笔02 vue 组件名字使用123456789101112131415161718# 组件使用&lt;loginLikeBtn style=\"margin-left: 0;\"&gt;我是组件&lt;/loginLikeBtn&gt;&lt;loginCloseBtn style=\"margin-left: 10px;\"&gt;我是组件&lt;/loginCloseBtn&gt;&lt;br /&gt;&lt;br /&gt;&lt;login-like-btn style=\"margin-left: 0;\"&gt;我是组件&lt;/login-like-btn&gt;&lt;login-close-btn style=\"margin-left: 10px;\"&gt;我是组件&lt;/login-close-btn&gt;#组件引入&lt;script&gt; import likeBtn from '../components/like-btn.vue' import closeBtn from '../components/close-btn.vue' export default &#123; components: &#123; loginLikeBtn: likeBtn, loginCloseBtn: closeBtn &#125; &#125;&lt;/script&gt; vue 打断点debug vue -router 打开新页面方法01123456789//打开新页面let routeUrl = this.$router.resolve(&#123; name: 'HelloWorld', query: &#123;username: \"dafei_name\"&#125;&#125;);window.open(routeUrl.href, '_blank')// 接受参数&#123;&#123;this.$route.query.username&#125;&#125; 方法021&lt;router-link :to=\"&#123; path: '/404',query: &#123;username:'我是大飞'&#125; &#125;\"&gt;404&lt;/router-link&gt; mixins 选项合并123456789101112131415161718&lt;div id=\"app\"&gt; &#123;&#123;message&#125;&#125; &lt;br /&gt; &#123;&#123;message22&#125;&#125;&lt;/div&gt;&lt;script src=\"vue.js\"&gt;&lt;/script&gt;&lt;script type=\"module\"&gt; const mixin = &#123; data()&#123; return &#123;message22: 'hello world index.js',&#125; &#125; &#125; const app = new Vue(&#123; el: '#app', mixins: [mixin], data() &#123;return &#123;message: 'Hello Vue!',&#125;&#125; &#125;);&lt;/script&gt;","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"vue -meta 元数据","date":"2020-07-03T16:00:00.000Z","path":"2020/07/04/vue/vue_meta_login/","text":"vue 中 meta 元数据使用和页面中title处理,登录判断处理 vue 中 meta 元数据使用和页面中title处理,登录判断处理 vue 中 meta 元数据使用和页面中title处理,登录判断处理 router.js 路由文件中设置meta1234567891011121314151617181920212223242526export default new Router(&#123; // mode: 'history', routes: [ &#123; path: '/', name: 'home', meta:&#123; title: \"首页-title\", content: \"首页-content\", isLogin: false, // 是否需要登录 selfContent: \"首页-selfContent\", // 自定义属性 &#125;, component: () =&gt; import('../views/Home.vue'), &#125;, &#123; path: '/HelloWorld', name: 'HelloWorld', meta:&#123; title: \"我是title\", content: \"我是content\", isLogin: true, &#125;, component: HelloWorld &#125;, ]&#125;) main.js 中代码12345678910111213141516171819202122232425router.beforeEach((to, form, next) =&gt; &#123; /* 路由发生变化修改页面meta */ if (to.meta.content) &#123; // !!!这里的meta在页面上会越来越多,请自行解决!!! let head = document.getElementsByTagName('head'); let meta = document.createElement('meta'); meta.content = to.meta.content; head[0].appendChild(meta) &#125; /* 路由发生变化修改页面title */ if (to.meta.title) &#123; document.title = to.meta.title; &#125; // 登录判断 if (to.path === '/http-login') &#123; sessionStorage.removeItem('user'); &#125; // 没有登录跳转到登录界面 if (to.meta.isLogin &amp;&amp; !JSON.parse(sessionStorage.getItem('user'))) &#123; next(&#123;path: '/http-login'&#125;) &#125; next()&#125;);","categories":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/categories/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"数据库账号管理","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/mysql_DDU_数据库账号/","text":"注意事项 分配数据库账号权限时，请按最小权限原则和业务角色创建账号，并合理分配只读和读写权限。必要时可以把数据库账号和数据库拆分成更小粒度，使每个数据库账号只能访问其业务之内的数据。如果不需要数据库写入操作，请分配只读权限 为保障数据库的安全，请将数据库账号的密码设置为强密码，并定期更换。","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-MySQL8","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/mysql8/","text":"MySQL8 使用MySQL8 使用MySQL8 使用 mysql8忘记密码01) 停止mysql服务 1net stop mysql 02) 打开命令窗口,跳过验证密码,[ 注意:这个窗口不要关闭,不要动 ] 1mysqld --console --skip-grant-tables --shared-memory 03) 打开一个新的窗口,无密码登录mysql 1mysql -u root -p #输入密码行,直接回车跳过 04) 重置密码 1234567use mysqlupdate user set authentication_string='' where user='root';flush privileges;#注意这里不能使用 alter user 'root'@'localhost' identified by ''; ,# 到这里为止就可以无密码登录数据库,可以在打开一个命令窗口测试一下# !!!这里也可以直接设置上密码!!! 05) 退出02 步骤的跳过密码窗口 12345#重启mysql服务,无密码登录mysql数据库# 现在可以使用 alert 修改密码mysql -u root -p #无密码登录数据库alter user 'root'@'localhost' identified by '123456'; #修改密码flush privileges; Resetting the Root Password 官网","categories":[{"name":"MySQL8","slug":"MySQL8","permalink":"http://yoursite.com/categories/MySQL8/"}],"tags":[{"name":"MySQL8","slug":"MySQL8","permalink":"http://yoursite.com/tags/MySQL8/"}]},{"title":"计算两点之间的距离","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/mysql_DDU_计算两点之间的距离/","text":"计算两点之间的距离计算两点之间的距离 MySql查询执行流程图12345发送语句查询缓存查询优化执行查询返回结果 计算两点之间的距离一个典型的例子是计算以某个点为中心，一定半径内的所有点。典型的实际案例可能是查找某个附近所有可以出租的房子，或者社交网站中“匹配”附近的用户，等等。假设我们有如下表：123456789CREATE TABLE `locations` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(30) DEFAULT NULL, `lat` float NOT NULL, `lon` float NOT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=latin1;INSERT INTO locations(name,lat,lon)VALUES(\"Charlottesville,Virginia\",38.03,-78.48),(\"Chicago,Illinois\",41.85,-87.65),(\"Mashington,DC\",38.89,-77.04) 这里经度和纬度的单位是“度”，通常我们假设地球是圆的，然后使用两点所在最大圆（半正矢）公式来计算两点之间的距离。现在有坐标latA和lonA、latB和lonB，那么点A和点B的距离计算公式如下： 1234AcOS(COS(latA)*COS(latB)*COS(lonA-lonB)+SIN(1atA)*SIN(LatB)) 计算出的结果是一个弧度，如果要将结果的单位转换成英里或者千米，则需要乘以地球的半径，也就是3959英里或者6371千米。假设我们需要找出所有距离Baron所居住的地方Charlottesville100英里以内的点，那么我们需要将经纬度带入上面的计算公式： 12345678910111213SELECT * FROM locations WHERE 3979*ACOS(COS(radians(lat))*COS(radians(38.03))*COS(radians(lon)-radians(-78.48))+SIN(radians(lat))*SIN(radians(38.03)))&lt;=100;+----+--------------------------+-------+--------+| id | name | lat | lon |+----+--------------------------+-------+--------+| 1 | Charlottesville,Virginia | 38.03 | -78.48 || 3 | Mashington,DC | 38.89 | -77.04 |+----+--------------------------+-------+--------+ 这类查询不仅无法使用索引，而且还会非常消耗CPU时间，给服务器带来很大的压力，而且我们还得反复计算这个。那要怎样优化呢?这个设计中有几个地方可以微优化。第一，看看是否真的需要这么精确的计算。其实这种算法已经有很多不精确的地方了，如下所示：两个地方之间的直线距离可能是100英里，但实际上它们之间的行走距离很可能不是这个值。无论你们在哪两个地方，要到达彼此位置的行走距离多半都不是直线距离，路上可能需要绕很多的弯，比如说如果有一条河，需要绕远走到一个有桥的地方。所以，这里计算的绝对距离只是一个参考值。 如果我们根据邮政编码来确定某个人所在的地区，再根据这个地区的中心位置计算他和别人的距离，那么这本身就是一个估算。Baron 住在Charlottesville，不过不是在中心地区，他对华盛顿物理位置的中心也不感兴趣。所以，通常并不需要精确计算，很多应用如果这样计算，多半是认真过头了。这类似于有效数字的估算：计算结果的精度永远都不会比测量的值更高。（换句话说，“错进，错出”。） 如果不需要太高的精度，那么我们认为地球是圆的应该也没什么问题，其实准确的说应该是椭圆。根据毕达哥拉斯定理，做些三角函数变换，我们可以把上面的公式转换得更简单，只需要做些求和、乘积以及平方根运算，就可以得出一个点是否在另一个点多少英里之内。益习等等，为什么就到这为止？我们是否真需要计算一个圆周呢？为什么不直接使用一个正方形代替?边长为200英里的正方形，一个顶点到中心的距离大概是141英里，这和实际计算的100英里相差得并不是那么远。那我们根据正方形公式来计算弧度为0.0253（100英里）的中心到边长的距离： 12345678910SELECT * FROM locations WHERE lat BETWEEN 38.03 - DEGREES(0.0253) AND 38.03 + DEGREES(0.0253)AND lon BETWEEN -78.48 - DEGREES(0.0253) AND -78.48 + DEGREES(0.0253);+----+--------------------------+-------+--------+| id | name | lat | lon |+----+--------------------------+-------+--------+| 1 | Charlottesville,Virginia | 38.03 | -78.48 || 3 | Mashington,DC | 38.89 | -77.04 |+----+--------------------------+-------+--------+ 现在我们看看如何使用索引来优化这个查询。简单地，我们可以增加索引（lat,lon)或者（lon,lat)。不过这样做效果并不会很好。正如我们所知，MySQL5.5和之前的版本，如果第一列是范围查询的话，就无法使用素引后面的列了。因为两个列都是范围的，所以这里只能使用索引的一个列（BETMEEN等效于一个大于和一个小于）。我们再次想起了通常使用的IN（）优化。我们先新增两个列，用来存储坐标的近似值FLOOR()，然后在查询中使用IN（）将所有点的整数值都放到列表中。下面是我们需要新增的列和索引： 12345678ALTER TABLE locations ADD lat_floor INT NOT NULL DEFAULT 0, ADD lon_floor INT NOT NULL DEFAULT 0, ADD KEY (lat_floor,lon_floor);-----------------------------------------UPDATE locationsSET lat_floor = FLOOR(lat),lon_floor=FLOOR(lon); 现在我们可以根据坐标的一定范围的近似值来搜索了，这个近似值包括最小值和最大值，地理上分别对应的是南北。下面的查询为我们只展示了如何查某个范围的所有点：数值需要在应用程序中计算而不是MySQL中： 12345678910SELECT FLOOR(38.03 - DEGREES(0.0253))AS lat_1b,CEILING( 38.03 + DEGREES(0.0253))AS lat_lub,FLOOR(-78.48 - DEGREES(0.0253))AS 1on_1b,CEILING(-78.48 + DEGREES(0.0253))AS 1on_ub;------------------------------------------------------+--------+---------+--------+--------+| lat_1b | lat_lub | 1on_1b | 1on_ub |+--------+---------+--------+--------+| 36 | 40 | -80 | -77 |+--------+---------+--------+--------+ 现在我们就可以生成IN（）列表中的整数了，也就是前面计算的地板和天花板数值之间的数字。下面是加上WHERE条件的完整查询：12345678910111213现在我们就可以生成IN（）列表中的整数了，也就是前面计算的地板和天花板数值之间的数字。下面是加上WHERE条件的完整查询：SELECT * FROM locationsWHERE lat BETWEEN 38.03-DEGREES(0.0253)AND 38.03 + DEGREES(0.0253)AND lon BETWEEN-78.48-DEGREES(0.0253)AND-78.48 +DEGREES(0.0253)AND lat_floor IN(36,37,38,39,40)AND lon_floor IN(-80,-79,-78,-77);+----+--------------------------+-------+--------+-----------+-----------+| id | name | lat | lon | lat_floor | lon_floor |+----+--------------------------+-------+--------+-----------+-----------+| 1 | Charlottesville,Virginia | 38.03 | -78.48 | 38 | -79 || 3 | Mashington,DC | 38.89 | -77.04 | 38 | -78 |+----+--------------------------+-------+--------+-----------+-----------+ 使用近似值会让我们的计算结果有些偏差，所以我们还需要一些额外的条件剔除在正方形之外的点。这和前面使用CRC32做哈希索引类似：先建一个索引帮我们过滤出近似值，再使用精确条件匹配所有的记录并移除不满足条件的记录。事实上，到这时我们就无须根据正方形的近似来过滤数据了，我们可以使用最大圆公式或者毕达哥拉斯定理来计算： 123456789101112131415SELECT * FROM locationsWHERE lat_floor IN(36,37,38,39,40)AND lon_floor IN(-80,-79,-78,-77)AND 3979*ACOS(COS(radians(lat))*COS(radians(38.03))*COS(radians(lon)-radians(-78.48))+SIN(radians(lat))*SIN(radians(38.03)))&lt;=100;----------------------------------------------+----+--------------------------+-------+--------+-----------+-----------+| id | name | lat | lon | lat_floor | lon_floor |+----+--------------------------+-------+--------+-----------+-----------+| 1 | Charlottesville,Virginia | 38.03 | -78.48 | 38 | -79 || 3 | Mashington,DC | 38.89 | -77.04 | 38 | -78 |+----+--------------------------+-------+--------+-----------+-----------+ 这时计算精度再次回到前面——使用一个精确的圆周——不过，现在的做法更快。只要能够高效地过滤掉大部分的点，例如使用近似整数和索引，之后再做精确数学计算的代价并不大。只是不要直接使用大圆周的算法，否则速度会很慢。 Sphinx有很多内置的地理信息搜索功能，比MySQL实现要好很多。如果正在考虑使用MyISAM的GIS函数，并使用上面的技巧来计算，那么你需要记住：这样做效果并不会很好，MyISAM本身也并不适合大数据量、高并发的应用，另外MyISAM本身还有一些弱点，如数据文件崩溃、表级锁等。 回顾一下上面的案例，我们采用了下面这些常用的优化策略：·尽量少做事，可能的话尽量不做事。这个案例中就不要对所有的点计算大圆周公式；先使用简单的方案过滤大多数数据，然后再到过滤出来的更小的集合上使用复杂的公式运算。 快速地完成事情。确保在你的设计中尽可能地让查询都用上合适的索引，使用近似计算（例如本案例中，认为地球是平的，使用一个正方形来近似圆周）来避免复杂的计算。 需要的时候，尽可能让应用程序完成一些计算。例如本案例中，在应用程序中计算所有的三角函数。","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-mysql-shell 工具使用(windows篇)","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/mysql_shell/","text":"mysql-shell123MySQL Shell是MySQL Server的高级客户端和代码编辑器。除了提供的SQL功能，类似于 mysql，MySQL Shell还提供了JavaScript和Python的脚本功能，并包含用于MySQL的API!!!! 以下暂时提供windows中demo,其他系统原理相同 !!! mysql-shell 文档 基本使用12345\\? &#123;command&#125; #查看命令的用法,也可以用\\help &#123;command&#125;\\py #python模式\\js #js模式\\sql #sql模式\\exit #退出 连接数据库01 mysqlsh12345678910#这种方式需要在mysql-shell的bin目录下面直接执行命令mysqlsh --uri 用户名@IP地址 #使用默认端口mysqlsh root@localhostmysqlsh --uri root@localhost #使用默认端口mysqlsh --uri root@localhost:3306 #指定端口\\sql #切换SQL模式show databases #正常SQL语句或者\\sql show databases #查看数据库 连接数据库02 \\connect12345678##这种连接方式,需要点击mysqlsh.exe,在弹出的窗口中执行下面的命令\\connect root@localhost:3306 #连接数据库\\sql #切换SQL模式show databases #正常SQL语句或者\\sql show databases #查看数据库 连接数据库03 shell.connect12345678##这种连接方式,需要点击mysqlsh.exe,在弹出的窗口中执行下面的命令shell.connect(&#123;'user':'root','host':'localhost','port':3306&#125; #连接数据库\\sql #切换SQL模式show databases #正常SQL语句或者\\sql show databases #查看数据库 mysql-shell 文档","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"},{"name":"MySQL-shell","slug":"MySQL-shell","permalink":"http://yoursite.com/tags/MySQL-shell/"}]},{"title":"-sql -DDL表操作","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/sql_DDL/","text":"sql -DDL表操作sql -DDL表操作 列操作123456789101112desc 表名; ...................................... #查看表结构alter table 表名 add 列名称 属性; .............. # 添加列alter table 表名 add 列名称 属性 after 列名; ... # 指定在某列后面添加alter table 表名 drop 列名; .............. #删除列名alter table 表名 change 旧列名 新列名 新属性 ..... #修改列名alter table a modify change_username varchar(20) ; # 修改列属性alter table a add new_username char(10); # 添加列alter table a add new_username2 char(10) after id; # 添加列,指定在某列后面添加alter table a drop new_username2; #删除列名alter table a change new_username change_username char(5); # 修改列名alter table a modify change_username varchar(20); #修改列属性 表操作1234567891011121314show tables; #查看所有表desc 表名; #查看表结构show create table 表名; # 查看创建表sqlshow tables; #查看表信息show table status where name =&apos;表名&apos;; # 查看某一张表信息rename table 旧表名 to 新表名 #修改表名字delete from user_t; #清空表内容truncate user_t; #清空表内容 id 从最初开始#视图show create view 视图名 #查看建视图过程drop view 视图名 #删除视图create view v1 as select * from student2 #创建视图 as后面跟普通sqlcreate view v2 as select id,name,score from student2 #创建视图 as后面跟普通sql 索引1234567891011121314151617181920212223242526272829#普通索引(index 另一个名字normal)、#唯一索引(unique)、#全文索引(fulltext)、#空间索引(SPATIAL)unique key email(email(10)) #使用索引长度alter table 表名 add index 索引名(字段名) #添加普通索引alter table 表名 drop index 索引名 #删除索引show index from 表名 #查看索引create table a1( name char(5), email char(15), key name(name), unique key email(email));#多列索引create table a3( name char(5), email char(15), key name(name), unique key name_email(name,email));explain select * from a3 WHERE name=&quot;张&quot;; # 分析sqlalter table a1 add unique(name); # 添加唯一索引alter table a1 add index index_name(email) #添加普通索引alter table a1 drop index index_name #删除索引show index from a1 \\G #查看索引 !!!库操作 [此操作比较危险,请谨慎操作]1234567create database 数据库; #创建库create database 数据库 default character set 字符集 collate 排序规则; #创建库指定字符集create database yourdb; #创建库create database yourdb3 default character set utf8mb4 collate utf8mb4_unicode_ci; #创建库指定字符集!!! 数据库的的名字不要直接修改,容易丢数据!!! 不常用,有实际用处sql12345SELECT name, NULL AS hello, ---空值作为一列 &quot;foo&quot; AS bar ---字符串作为一列FROM student2","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-sql DML (insert update delete select)基本使用","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/sql_DML/","text":"(insert update delete select)基本使用(insert update delete select)基本使用(insert update delete select)基本使用 事务123456789101112start transaction;update 表名 set money=money+500 where id = 2;update 表名 set money=money-500 where id = 1;commit;select * from 表名 where id =1;select * from 表名 where id =2;+++++++start transaction;update 表名 set money=money+500 where id = 2;rollback; where having group查询1234567891011121314151617181920212223242526272829303132333435363738394041424344454647要求:查询出2门及2门以上不及格者的平均成绩 demo sql如下:--------------------------------------------------------------------------CREATE TABLE `student2` ( `id` int(11) NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `subject` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, `score` double(255,0) DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;INSERT INTO `student2` VALUES (&apos;1&apos;, &apos;张三&apos;, &apos;数学&apos;, &apos;90&apos;);INSERT INTO `student2` VALUES (&apos;2&apos;, &apos;张三&apos;, &apos;语文&apos;, &apos;50&apos;);INSERT INTO `student2` VALUES (&apos;3&apos;, &apos;张三&apos;, &apos;地理&apos;, &apos;40&apos;);INSERT INTO `student2` VALUES (&apos;4&apos;, &apos;李四&apos;, &apos;语文&apos;, &apos;55&apos;);INSERT INTO `student2` VALUES (&apos;5&apos;, &apos;李四&apos;, &apos;政治&apos;, &apos;45&apos;);INSERT INTO `student2` VALUES (&apos;6&apos;, &apos;王五&apos;, &apos;政治&apos;, &apos;30&apos;);INSERT INTO `student2` VALUES (&apos;7&apos;, &apos;马六&apos;, &apos;地理&apos;, &apos;80&apos;);INSERT INTO `student2` VALUES (&apos;8&apos;, &apos;马六&apos;, &apos;英语&apos;, &apos;90&apos;);+----+------+---------+-------+--------+| id | name | subject | score | score2 |+----+------+---------+-------+--------+| 1 | 张三 | 数学 | 90 | 10 || 2 | 张三 | 语文 | 50 | 10 || 3 | 张三 | 地理 | 40 | 10 || 4 | 李四 | 语文 | 55 | 10 || 5 | 李四 | 政治 | 45 | 10 || 6 | 王五 | 政治 | 30 | 10 || 7 | 马六 | 地理 | 80 | 10 || 8 | 马六 | 英语 | 90 | 10 |+----+------+---------+-------+--------+--------------------------------------------------------------------------select name,subject,score,score&lt;60 from student2select name,sum(score&lt;60) as gk ,avg(score) as pj from student2 group by name select name,sum(score&lt;60) as gk ,avg(score) as pj from student2 group by name HAVING gk&gt;=2结果:+--------+------+---------+| name | gk | pj |+--------+------+---------+| 张三 | 2 | 60.0000 || 李四 | 2 | 50.0000 |+--------+------+---------++++++++++++++ having 是对表的结果进行查询筛选 ++++++++select * from student2 where id&gt;1select * from student2 having id&gt;1select * from student2 where id&gt;1 having id&lt;5 INNER JOIN 查询123456789101112131415161718192021222324252627282930313233demos sql:--------------------------------------------------------------------------DROP TABLE IF EXISTS `m`;CREATE TABLE `m` ( `id` int(10) unsigned NOT NULL AUTO_INCREMENT, `hid` int(11) DEFAULT NULL COMMENT &apos;主队ID&apos;, `gid` int(11) DEFAULT NULL COMMENT &apos;客队ID&apos;, `mres` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &apos;比赛结果&apos;, `matime` date DEFAULT NULL COMMENT &apos;比赛开始时间&apos;, PRIMARY KEY (`id`)) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;INSERT INTO `m` VALUES (&apos;1&apos;, &apos;1&apos;, &apos;2&apos;, &apos;2:0&apos;, &apos;2006-05-21&apos;);INSERT INTO `m` VALUES (&apos;2&apos;, &apos;2&apos;, &apos;3&apos;, &apos;1:2&apos;, &apos;2006-06-21&apos;);INSERT INTO `m` VALUES (&apos;3&apos;, &apos;3&apos;, &apos;1&apos;, &apos;2:5&apos;, &apos;2006-06-25&apos;);INSERT INTO `m` VALUES (&apos;4&apos;, &apos;2&apos;, &apos;1&apos;, &apos;3:2&apos;, &apos;2006-07-21&apos;);DROP TABLE IF EXISTS `t`;CREATE TABLE `t` ( `tid` int(11) NOT NULL AUTO_INCREMENT, `tname` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT &apos;队伍名称&apos;, PRIMARY KEY (`tid`)) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;INSERT INTO `t` VALUES (&apos;1&apos;, &apos;国安&apos;);INSERT INTO `t` VALUES (&apos;2&apos;, &apos;申花&apos;);INSERT INTO `t` VALUES (&apos;3&apos;, &apos;布尔联队&apos;);--------------------------------多次使用INNER JOIN 查询----------------------SELECT m.id,t1.tname,mres,t2.tname,matime FROM mINNER JOIN t as t1 on m.hid=t1.tid INNER JOIN t as t2 ON m.gid=t2.tid union 和 union all!!!! 使用union waring:1.各语句的列数相同2.列名称未必要一直,列名称会使用第一条sql 的列名称为准3.完全相等行将会合并,合并是比较耗时的操作,使用”union all” 可以避免合并 12345678910111213141516171819202122232425262728293031demos sql:--------------------------------------------------------------------------DROP TABLE IF EXISTS `a`;CREATE TABLE `a` ( `id` char(1) COLLATE utf8mb4_unicode_ci NOT NULL DEFAULT &apos;&apos;, `num` int(11) DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;INSERT INTO `a` VALUES (&apos;a&apos;, &apos;5&apos;);INSERT INTO `a` VALUES (&apos;b&apos;, &apos;10&apos;);INSERT INTO `a` VALUES (&apos;c&apos;, &apos;15&apos;);INSERT INTO `a` VALUES (&apos;d&apos;, &apos;10&apos;);DROP TABLE IF EXISTS `b`;CREATE TABLE `b` ( `id` char(1) COLLATE utf8mb4_unicode_ci NOT NULL, `num` int(11) DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;INSERT INTO `b` VALUES (&apos;b&apos;, &apos;5&apos;);INSERT INTO `b` VALUES (&apos;c&apos;, &apos;15&apos;);INSERT INTO `b` VALUES (&apos;d&apos;, &apos;20&apos;);INSERT INTO `b` VALUES (&apos;e&apos;, &apos;99&apos;);---------------------------------分组后求和--------------------------------------select id,sum(num) from(select id,num from aunion allselect id,num from b) as tmpgroup by id; 数据从B库导入到A库1INSERT INTO a(id,num) SELECT id,num FROM b case when end123456789101112131415161718SELECT *,CASE WHEN score &gt;= 90 THEN&apos;优秀&apos; WHEN score &gt;= 80 AND score &lt; 90 THEN &apos;良好&apos; WHEN score &gt;= 60 AND score &lt; 80 THEN &apos;及格&apos;ELSE &apos;不及格&apos; END AS score_name FROM student2#---------------------id name subject score score_name1 张三 数学 90 优秀2 张三 语文 50 不及格3 张三 地理 40 不及格4 李四 语文 55 不及格5 李四 政治 45 不及格6 王五 政治 30 不及格7 马六 地理 80 良好8 马六 英语 90 优秀","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-mysql -sql other02","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/sql_other02/","text":"MySQL 的复制原理及负载均衡MySQL主从复制工作原理:123在主库上把数据更改记录到二进制日志从库将主库的日志复制到自己的中继日志从库读取中继日志中的事件,将其重放到从库数据库中 MySQL主从复制解决的问题:1234数据分布: 随意停止或开始复制,并在不同地理位置分布数据库备份负载均衡:降低单个服务器的压力高可用和故障切换: 帮助应用程序避免单点失败升级测试:可使用更高版本的MySQL作为从库 SQL查询处理的安全方案123451) 使用预处理语句放置SQL注入2)写入数据库的数据要进行特殊字符的转义3)查询错误信息不要反悔给用户,将错误记录到日志PHP端尽量使用PDO对数据库进行相关操作,PDO拥有对预处理语句很好的支持,MySQLi也有,但是可扩展性不如PDO,效率高于PDO MySQL的其他安全设置123456781)定期做备份2)不给用户root权限,合理分配权限3)关闭远程访问数据库权限4)修改root口令,不用默认口令,使用较复杂的口令5)删除多余的用户6)改变root用户名称7)限制一般用户浏览其他库8)限制用户对数据库的访问权限","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"MySQL 常见查询","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/sql_demo_01/","text":"MySQL 常见查询MySQL 常见查询MySQL 常见查询 排序某条数据置顶123SELECT * FROM user WHERE id&lt;10 ORDER BY id!=3 AND id!=4 #3,4数据放到开始SELECT * FROM user WHERE id&lt;10 ORDER BY id in (3,4) DESC #3,4数据放到开始","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-mysql -sql other","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/sql_other/","text":"sql othersql othersql other mysql 简单整理 group by ; group_concat 1234567891011121314151617181920SELECT * FROM student_01 GROUP BY `name`;SELECT *,GROUP_CONCAT(name) FROM student_01 GROUP BY `name`;+----+------+---------+-------+| id | name | kecheng | score |+----+------+---------+-------+| 1 | 张三 | 语文 | 81 || 3 | 李四 | 语文 | 76 || 5 | 王五 | 语文 | 81 |+----+------+---------+-------++----+------+---------+-------+--------------------+| id | name | kecheng | score | GROUP_CONCAT(name) |+----+------+---------+-------+--------------------+| 1 | 张三 | 语文 | 81 | 张三,张三 || 3 | 李四 | 语文 | 76 | 李四,李四 || 5 | 王五 | 语文 | 81 | 王五,王五,王五 |+----+------+---------+-------+--------------------+ int (3) int (5) 区别,是否需要零填充12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#没有使用零填充 init(3) CREATE TABLE `test` ( `id` int(3) NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;mysql&gt; select * from test;+----+------+| id | name |+----+------+| 1 | 许褚 || 2 | 郭嘉 || 3 | 贾诩 |+----+------+#使用零填充 init(3) zerofill CREATE TABLE `test` ( `id` int(3) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;mysql&gt; select * from test;+-----+------+| id | name |+-----+------+| 001 | 许褚 || 002 | 郭嘉 || 003 | 贾诩 |+-----+------+3 rows in set (0.00 sec)#使用零填充 init(5) zerofill CREATE TABLE `test` ( `id` int(5) unsigned zerofill NOT NULL AUTO_INCREMENT, `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL, PRIMARY KEY (`id`)) ENGINE=MyISAM AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;mysql&gt; select * from test;+-------+------+| id | name |+-------+------+| 00001 | 许褚 || 00002 | 郭嘉 || 00003 | 贾诩 |+-------+------+3 rows in set (0.00 sec) mysql 存储引擎1234567891011#InnoDB表引擎通过一些机制和工具支持真真的热备份支持奔溃后的安全恢复支持行级锁支持外键#MyISAM表引擎5.1版本之前,MyISAM是默认的存储引擎拥有全文索引、压缩、 空间函数不支持事务和行级锁,不支持奔溃后的安全恢复表存储在两个文件,MYD和MYI mysql 锁1234567891011121314151617181920212223当多个查询同一时刻进行数据修改时,就会产生并发控制的问题, 共享锁(读锁) 、排他锁(写锁)#共享锁(读锁)共享的,不堵塞,多个用户可以同时读取一个资源,互不干扰#排他锁(写锁)排他的,一个写锁会阻塞一塔的写锁和读锁,这样可以值允许一个人写进行写入,防止其他用户读取正在写入的资源#demo共享锁(读锁)select * from test; lock table test read; #共享锁unlock TABLES; #解锁update test set name=\"贾诩_update\" where id=03; #排他锁 执行完lock加锁后,update 结束后及时执行解锁操作lock tables test write;update test set name=\"贾诩_update\" where id=03;unlock TABLES;在排他锁执行期间.在当前窗口其他SQL是不能执行的,#通过进程id, kill 掉锁show processlist; #查看锁状态kill id #杀掉等待sqlshow OPEN TABLES where In_use &gt; 0; #查看是否有在锁表 123456粒度锁#表锁系统性能开销最小,会锁定整张表,MyISAM 使用表锁#行锁最大程度地支持并发处理,但是也带来了最大的的锁开销,InnoDb 实现行级锁 12#Mysql 存储过程使用场景,通过处理把封装在容易使用的单元中,简化复杂的操作,保证数据的一致性 mysql 索引1234567891011121314#索引类型: 普通索引(index 另一个名字normal)、唯一索引(unique)、全文索引(fulltext)、空间索引(SPATIAL)ALTER TABLE `test`.`test` ADD INDEX `id_score_score2`(`id`, `score`, `score2`);ALTER TABLE `test`.`test` ADD UNIQUE INDEX `id_score_score2`(`id`, `score`, `score2`);ALTER TABLE `test`.`test` ADD FULLTEXT INDEX `id_score_score2`(`id`, `score`, `score2`);ALTER TABLE `test`.`test` ADD SPATIAL INDEX `id_score_score2`(`id`, `score`, `score2`);SHOW INDEX FROM test #查看表索引 mysql 连接查询12#自己关联自己查询select * from test a1 inner join test a2 on a1.score=a2.score2 数据库优化查找分析查询速度慢的原因 ↓ ↑优化查询过程中的数据访问 ↓↓ ↑优化长难查询语句 ↓↓ ↑优化特定类型的查询语句 ↓↓ ↑↑查找分析查询速度慢的原因 1234分析SQL查询慢的方法 记录慢查询日志 分析查询日志,不要直接打开慢日志进行分析, 这样比较浪费时间和经理,可以使用pt-query-digest工具进行分析 1234使用show profile set profiling=1;开启,服务器上执行的所有语句会检测消耗的时间,存到临时表中 show profiles show profile for query 临时表ID 123使用show status show status 会返回一些计数器,show global status查看服务器级别的所有计数 有时候根据这些计数,可以猜测出那些操作代价较高或者消耗时间多 12使用show processlist 观察是否有大量线程处于不正常的状态护着特征 12使用explain 分析单条SQL语句 123- 访问数据太多导致查询性能下降- 确定应用程序是否存在检索大量超过需要的数据,可能是太多行或列- 确认MySQL服务器是否存在分析大量不必要的数据行 ↑↑ 优化查询过程中的数据访问 12345避免使用如下SQL语句 - 查询不需要的记录,使用limit解决 多表关联返回全部列,指定A.id,A.name,B.age - 总是取出全部列,select * 会让优化器无法完成索引覆盖扫描的优化 - 重复查询相同的数据,可以缓存数据,下次直接读取缓存 1234567是否在扫描额外的记录 - 使用explain来进行分析,如果发现查询需要扫描大量的数据大只返回少数的行, 可以通过以下技巧去优化: -- 使用索引覆盖扫描,吧所有用的列都放在索引中, 这样存储引擎不需要返回表获取对应行就可返回结果 -- 改变数据库和表结构,修改数据表范式 -- 重写SQL语句,让优化器可以以更优的方式进行执行查询 ↑↑ 优化长难语句查询语句 12345678切分查询 将一个大的查询分为多个小的相同的查询: 一次行删除1000万的数据要比一次删除一次1万更加损耗服务器开销, [可先先删除一万暂停一会儿在删除一万]其他:一个复杂查询还是多个简单查询??? MySQL内部每秒能扫描内存中上百万行数据,相比之下,相应数据给客户端就压慢很多 使用尽可能少的查询是好的,但是有时将一个大的查询分解为多个小的查血是很有必要的 1234567分辨关联查询 可以将一条关联语句分解成多条SQL来执行,好处: 让缓存的效率更高 执行单个查询可以减少锁的竞争 在应用层做关联可以更加容易对数据进行拆分, 查询效率会有大幅提升 较少冗余记录查询 ↑↑ 优化特定类型的查询 123456优化 count() 查询 count(*)中的*会忽略所有的列,直接统计所有列数,因此不要使用count(别名) MyISAM中,没有任何where条件非常快 可以使用explain查询近似值,用近似值代替count(*), 增加汇总表 使用缓存 123优化关联查询 确定on或者using子句的列上有索引 确保group by 和 order by 中只有一个表中的列,这样MySQL才有可能使用索引 12优化子查询 尽可能使用关联查询代替 1234优化group by 和 distinct 这两种查询可使用索引来优化,是最有效的优化方法 关联查询中,使用表示列进行分组的效率会更高 如果不需要order by ,进行group by 时使用order by NUll,MySQL不会进行文件排序 12345678优化limit分页 01) limit 便宜量大的时候,查询效率较低,可以记录上次查询的最大id 下次查询的时候直接根据该id来查询 02) limit 数据量问题 select `id`, `name` from `user` where `status` = 1 order by `id` desc limit 10 上面这条SQL如果表中的数据量大的时候,status 为 1的数据不够10表,这条SQL会全表扫描 修改后SQL为:(添加范围) select `id`, `name` from `user` where id&gt;788008 AND `status` = 1 order by `id` desc limit 10 12优化union查询 union all 的效率高于union 综上, 数据库优化: 先找原因定位低效SQL语句,然后根据SQL语句坑你低效的原因做排查,先从索引着手,如果索引没有问题,考虑以上几个方面,数据库访问的问题,长难度语句的问题还是一些特定类型优化的问题","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"mysql -Documentation  手册","date":"2015-10-31T16:00:00.000Z","path":"2015/11/01/mysql/documentation/","text":"mysql -Documentation 手册mysql -Documentation 手册 sql123456789101112131415161718192021222324SELECT PASSWORD(&apos;mypass&apos;); #生成的密码值SHOW STATUS; SHOW STATUS LIKE &apos;Table%&apos;;SHOW VARIABLES; SHOW VARIABLES LIKE &apos;datadir&apos;;SHOW VARIABLES LIKE &apos;have_symlink&apos;;SHOW VARIABLES LIKE &apos;host_cache_size&apos;;SET GLOBAL host_cache_size=300;SELECT &apos;hello&apos;, &apos;&quot;hello&quot;&apos;, &apos;&quot;&quot;hello&quot;&quot;&apos;, &apos;hel&apos;&apos;lo&apos;, &apos;\\&apos;hello&apos;;SELECT &quot;hello&quot;, &quot;&apos;hello&apos;&quot;, &quot;&apos;&apos;hello&apos;&apos;&quot;, &quot;hel&quot;&quot;lo&quot;, &quot;\\&quot;hello&quot;;SET @t1=1, @t2=2, @t3:=4; #赋值SELECT @t1, @t2, @t3, @t4 := @t1+@t2+@t3;SET NAMES &apos;utf8&apos;;SHOW CHARACTER SET;USE test;SELECT @@character_set_database, @@collation_database;SELECT USER(); 访问控制阶段1,21234567!!! 用户名和密码为空危险 !!!!!!如果User列值为非空，则传入连接中的用户名必须完全匹配。如果 User值为空，则它匹配任何用户名!!!该authentication_string列可以为空白。这不是通配符，并不表示任何密码匹配。这意味着用户必须在不指定密码的情况下进行连接## 查看当前登录用户SELECT CURRENT_USER(); 访问控制阶段1 添加账号,分配权限和删除账号1234567891011创建用户授权GRANT ALL PRIVILEGES ON *.* TO &apos;fei&apos;@&apos;%&apos; IDENTIFIED BY &apos;123456&apos; WITH GRANT OPTION; FLUSH PRIVILEGES;撤销账户权限REVOKE ALL PRIVILEGES ON *.* FROM &apos;fei&apos;@&apos;%&apos;;FLUSH PRIVILEGES;删除账号DROP USER &apos;fei&apos;@&apos;%&apos;;FLUSH PRIVILEGES; 6.2.7添加帐户，分配权限和删除帐户 数据库备份和恢复1234567891011121314创建数据库指定数据库字符集utf8mb4 排序规则 utf8mb4_general_ci ; mysql8有些字符集在低版本mysql没有#使用mysqldump以SQL格式转储数据/data/server/mysql/bin/mysqldump -h127.0.0.1 -uvagrant -p --databases fei fei02 &gt;/data/web/mysql_dump/dump.sql./mysqldump -h127.0.0.1 -uvagrant -p --databases fei fei02 &gt;/data/web/mysql_dump/dump.sql#重新加载SQL格式备份./mysql -h127.0.0.1 -uvagrant -p &lt; /data/web/mysql_dump/dump.sql/data/server/mysql/bin/mysql -h127.0.0.1 -uvagrant -p &lt; /data/web/mysql_dump/dump.sqlsource /data/dump.sql ###这里没有&lt;符号source /data/web/mysql_dump/dump.sql 使用mysqldump以SQL格式转储数据 数据库备份脚本 12345678910111213141516171819202122#!/bin/bashMYSQLDBUSERNAME=用户名MYSQLDBPASSWORD='用户密码'MYSQBASEDIR=/var/lib/mysqlMYSQL=/usr/bin/mysqlMYSQLDUMP=/usr/bin/mysqldumpBACKDIR=/var/lib/mysql/DB/backup/mysqldump#DATEFORMATTYPE1=$(date +%Y-%m-%d)DateFormatType1=$(date +%Y-%m-%d)#DATEFORMATTYPE2=$(date +%Y%m%d%H%M%S)DateFormatType2=$(date +%Y%m%d%H:%M:%S)[ -d $MYSQBASEDIR ] &amp;&amp; MYSQDATADIR=$MYSQBASEDIR || MYSQDATADIR=/var/lib/mysql[ -x $MYSQL ] || MYSQL=mysql[ -x $MYSQLDUMP ] || MYSQLDUMP=mysqldump[ -d $&#123;BACKDIR&#125; ] || mkdir -p $&#123;BACKDIR&#125;[ -d $&#123;BACKDIR&#125;/$&#123;DateFormatType1&#125; ] || mkdir $&#123;BACKDIR&#125;/$&#123;DateFormatType1&#125;DBLIST=`ls -p $MYSQDATADIR | grep / |tr -d /`for DBNAME in $DBLIST do $&#123;MYSQLDUMP&#125; --user=$&#123;MYSQLDBUSERNAME&#125; --password=$&#123;MYSQLDBPASSWORD&#125; --routines --events --triggers --single-transaction --flush-logs --databases $&#123;DBNAME&#125; | gzip &gt; $&#123;BACKDIR&#125;/$&#123;DateFormatType1&#125;/$&#123;DBNAME&#125;-backup-$&#123;DateFormatType2&#125;.sql.gz [ $? -eq 0 ] &amp;&amp; echo \"$&#123;DBNAME&#125; has been backuped successful\" || echo \"$&#123;DBNAME&#125; has been backuped failed\" /bin/sleep 5done mysql查看二进制日志文件12#查看mysql二进制日志/data/server/mysql/bin/mysqlbinlog -d demodb binlog.000004 EXPLAIN12 EXPLAIN 输出格式 优化锁定操作12345SHOW STATUS LIKE &apos;Table%&apos;; #查看表上锁争用MyISAM 表锁LOCK TABLES t1 WRITE, temp_t1 WRITE;UNLOCK TABLES; 表锁定问题 字符集123456USE test;SELECT @@character_set_database, @@collation_database;utf8mb4：Unicode字符集的UTF-8编码，每个字符使用一到四个字节。utf8mb3：Unicode字符集的UTF-8编码，每个字符使用一到三个字节。utf8：别名 utf8mb3。 数据类型 mysql5.7.8 新类型 json123CREATE TABLE t1 (jdoc JSON);INSERT INTO t1 VALUES(&apos;&#123;&quot;key1&quot;: &quot;value1&quot;, &quot;key2&quot;: &quot;value2&quot;&#125;&apos;);SELECT JSON_OBJECT(&apos;key1&apos;, 1, &apos;key2&apos;, &apos;abc&apos;); 控制运算符 case if12345678910111213141516171819mysql&gt; SELECT CASE 1 WHEN 1 THEN &apos;one&apos; -&gt; WHEN 2 THEN &apos;two&apos; ELSE &apos;more&apos; END; -&gt; &apos;one&apos;mysql&gt; SELECT CASE 2 WHEN 1 THEN &apos;one&apos; -&gt; WHEN 2 THEN &apos;two&apos; ELSE &apos;more&apos; END; -&gt; &apos;two&apos; mysql&gt; SELECT CASE 3 WHEN 1 THEN &apos;one&apos; -&gt; WHEN 2 THEN &apos;two&apos; ELSE &apos;more&apos; END; -&gt; &apos;more&apos; -----------------mysql&gt; SELECT CASE WHEN 1&gt;0 THEN &apos;true&apos; ELSE &apos;false&apos; END; -&gt; &apos;true&apos; --------------mysql&gt; SELECT IF(1&gt;2,2,3); -&gt; 3 全文搜索功能12345678#自然语言全文搜索mysql&gt; SELECT * FROM articles WHERE MATCH (title,body) AGAINST (&apos;database&apos; IN NATURAL LANGUAGE MODE);#布尔全文搜索mysql&gt; SELECT * FROM articles WHERE MATCH (title,body) AGAINST (&apos;+MySQL -YourSQL&apos; IN BOOLEAN MODE); 全文搜索功能 show 语法1234SHOW COLUMNS FROM city; #显示列SHOW CREATE DATABASE test; #显示创建库语法SHOW CREATE TABLE student2; #显示创建表语法SHOW INDEX FROM test; #显示索引 innoDB 表移动或者复制123456方法一、 复制数据文件(冷备份) 01) 在新的库中新建和原来一样的表 , 在data目录下找到创建的表,删除 .ibd 文件 02) 执行: ALTER TABLE tbl_name DISCARD TABLESPACE; 03) 复制 .ibd 文件,到新刚才删除的位置 04) 执行 ALTER TABLE tbl_name IMPORT TABLESPACE; 告诉InnoDb使用新的.bd文件方法二、 导出和导入（热备份 mysqldump） innoDB 表移动或者复制 innodb 锁123456789101112131415共享锁(S锁) ShareLock排他锁(X锁) ExclusiveLock区别:如果事务T对数据A加上共享锁，则其他事务只能对A再加共享锁，不能加排它锁。只有事务T可以对A进行读取和修改，其他事务只能读取数据而不能修改数据。如果事务T对数据A加上排它锁，只有事务T可以对A进行读取和修改，其他任何事务都不能对A进行读取和修改 SHOW ENGINE INNODB STATUS #解除锁 SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCKS; #查看当前锁定的事务 SELECT * FROM INFORMATION_SCHEMA.INNODB_LOCK_WAITS; #查看当前等锁的事务 SELECT * FROM INFORMATION_SCHEMA.INNODB_TRX; #查看下在锁的事务 kill 线程ID #杀死进程id（就是上面命令的trx_mysql_thread_id列） innodb处理死锁 主从复制123# 在主服务器上，您必须启用二进制日志记录并配置唯一的服务器ID# 在要连接到主服务器的每个从服务器上，必须配置唯一的服务器ID# 在读取二进制日志以进行复制时，为主服务器创建一个单独的用户 基于二进制文件复制 存储过程12345678910111213141516171819202122232425262728293031323334https://dev.mysql.com/doc/refman/5.7/en/stored-routines-syntax.htmlCREATE PROCEDURE CREATE FUNCTIONCALLDROP PROCEDUREDROP FUNCTIONALTER PROCEDUREALTER FUNCTION#一个库中不能出现2个相同的触发器#创建的触发器在数据库 INFORMATION_SCHEMA 的 TRIGGERS 表中可以看到#SELECT * FROM INFORMATION_SCHEMA.TRIGGERSmysql&gt; CREATE TABLE account (acct_num INT, amount DECIMAL(10,2));mysql&gt; CREATE TRIGGER ins_sum BEFORE INSERT ON account FOR EACH ROW SET @sum = @sum + NEW.amount;mysql&gt; SET @sum = 0;mysql&gt; INSERT INTO account VALUES(137,14.98),(141,1937.50),(97,-100.00);mysql&gt; SELECT @sum AS &apos;Total amount inserted&apos;;#查看创建的触发器mysql&gt; SELECT * FROM INFORMATION_SCHEMA.TRIGGERS WHERE TRIGGER_SCHEMA=&apos;test&apos; AND TRIGGER_NAME=&apos;ins_sum&apos; #查看创建触发器语法 mysql&gt; SHOW CREATE TRIGGER test.ins_sum #删除触发器mysql&gt; DROP TRIGGER test.ins_sum; 触发语法和示例 视图12345mysql&gt; CREATE TABLE t (qty INT, price INT);mysql&gt; INSERT INTO t VALUES(3, 50), (5, 60);mysql&gt; CREATE VIEW v AS SELECT qty, price, qty*price AS value FROM t;mysql&gt; SELECT * FROM v;mysql&gt; SELECT * FROM v WHERE qty = 5; 视图","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-算法02","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_算法/算法_03/","text":"算法02算法02算法02 01). 输出 9*9 乘法口诀1234567for ($x = 1; $x &lt; 10; $x++) &#123; for ($y = 1; $y &lt;= $x; $y++) &#123; echo $y . \"*\" . $x . \"=\" . $y * $x; echo \"&amp;nbsp&amp;nbsp&amp;nbsp\"; &#125; echo \"&lt;br&gt;\";&#125; 02) 猴子吃桃123456789//题目：猴子吃桃问题：猴子第一天摘下若干个桃子，当即吃了一半，还不瘾，又多吃了一个 //第二天早上又将剩下的桃子吃掉一半，又多吃了一个。//以后每天早上都吃了前一天剩下 的一半零一个。到第10天早上想再吃时，见只剩下一个桃子了。求第一天共摘了多少。 $x = 1; //最后一天的桃子个数for ($i = 2; $i &lt;= 10; $i++) &#123; //天数循环 $x = ($x + 1) * 2;&#125;echo \"猴子第1天条摘了\" . $x . \"个桃子\";","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"算法","slug":"算法","permalink":"http://yoursite.com/tags/算法/"}]},{"title":"-桥接模式","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_设计模式/index_06_桥接模式/","text":"PHP桥接模式PHP桥接模式PHP桥接模式 将抽象部分与实现部分分离，使它们都可以独立的变化。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586// 桥接模式 bridge// 论坛给用户发消息,可以是站内短息,email,手机abstract class info&#123; protected $send = null; public function __construct($send) &#123; $this-&gt;send = $send; &#125; abstract public function msg($content); public function send($to, $content) &#123; $content = $this-&gt;msg($content); $this-&gt;send-&gt;send($to, $content); &#125;&#125;class zn&#123; public function send($to, $content) &#123; echo ' 站内给 ', $to, ' 内容是: ', $content; &#125;&#125;class email&#123; public function send($to, $content) &#123; echo ' email给 ', $to, ' 内容是: ', $content; &#125;&#125;class sms&#123; public function send($to, $content) &#123; echo ' sms给 ', $to, ' 内容是: ', $content; &#125;&#125;//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++class commonInfo extends info&#123; public function msg($content) &#123; // TODO: Implement msg() method. return ' 普通 ' . $content; &#125;&#125;class warnInfo extends info&#123; public function msg($content) &#123; // TODO: Implement msg() method. return ' 紧急 ' . $content; &#125;&#125;class dangerInfo extends info&#123; public function msg($content) &#123; // TODO: Implement msg() method. return ' 特急 ' . $content; &#125;&#125;// 用站内发普通消息$commonInfo = new commonInfo(new zn());$commonInfo-&gt;send('小飞飞', 'hello world');echo '&lt;br&gt;';// 用手机发特急信息$dangerInfo = new commonInfo(new sms());$dangerInfo-&gt;send('飞', '这是手机信息');","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"桥接模式","slug":"桥接模式","permalink":"http://yoursite.com/tags/桥接模式/"}]},{"title":"-cookie -localStorage -sessionStorage","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/js_cookie_storage/","text":"-cookie -localStorage -sessionStorage 区别-cookie -localStorage -sessionStorage 区别-cookie -localStorage -sessionStorage 区别","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"cookie","slug":"cookie","permalink":"http://yoursite.com/tags/cookie/"},{"name":"localStorage","slug":"localStorage","permalink":"http://yoursite.com/tags/localStorage/"},{"name":"sessionStorage","slug":"sessionStorage","permalink":"http://yoursite.com/tags/sessionStorage/"}]},{"title":"-算法01","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_算法/算法/","text":"算法01算法01算法01 01). 羊生羊一种羊, 第一年生一只小羊, 第四年生生一只小羊, 第五年死 20年后有多少只羊 12345678$arr = [1, 0, 0, 0, 0];for ($i = 1; $i &lt;= 20; $i++) &#123; $tmp = $arr[1] + $arr[3]; array_unshift($arr, $tmp); array_pop($arr);&#125;print_r($arr);echo array_sum($arr); 02). 猴子选大王一群猴子排成一圈，按1,2,…,n依次编号。然后从第1只开始数，数到第m只,把它踢出圈，从它后面再开始数，再数到第m只，在把它踢出去…，如此不停的进行下去，直到最后只剩下一只猴子为止，那只猴子就叫做大王。要求编程模拟此过程，输入m、n, 输出最后那个大王的编号。用程序模拟该过程 123456789101112131415161718function monkey($n ,$m)&#123; $arr = range(1,$n); //构造数组 array(1,2,3,4,5,6,7,8); $i = 0; //设置数组指针 while(count($arr)&gt;1)&#123; //遍历数组，判断当前猴子是否为出局序号，如果是则出局，否则放到数组最后 if(($i+1) % $m ==0) &#123; unset($arr[$i]); &#125; else &#123; //array_push() 函数向第一个参数的数组尾部添加一个或多个元素（入栈），然后返回新数组的长度。 array_push($arr ,$arr[$i]); //本轮非出局猴子放数组尾部 unset($arr[$i]); //删除 &#125; $i++; &#125; return $arr;&#125;print_r(monkey(10,4)); 03). 10 进制; 8进制; 16进制 ; 2 进制12345678910111213141516171819202122232425262728293031323334/** * 生活中常用10进制 * 计算机中常用2进制,8进制,16进制 */// 10 进制echo 123; echo \"&lt;br&gt;\"; //从右到左3个位,分别是以1顶1,以1顶10,以1顶100echo 100 * 1 + 10 * 2 + 1 * 3; echo \"&lt;br&gt;\";// 8 进制echo 0123; echo \"&lt;br&gt;\"; //从做到右3个位,分别是以1顶1,以1顶8,以1顶64echo 64 * 1 + 8 * 2 + 3; echo \"&lt;br&gt;\";echo 027; echo \"&lt;br&gt;\";echo 8 * 2 + 7; echo \"&lt;br&gt;\";//16进制 0、1、2、3、4、5、6、7、8、9、A、B、C、D、E、F// A、B、C、D、E、F 不去分大小写echo 0x123; echo \"&lt;br&gt;\"; //从左到右3个位,分别是1顶1,以1顶16,以1顶256echo 256 * 1 + 16 * 2 + 3; echo \"&lt;br&gt;\";// 2 进制, PHP 目前不支持直接表示// 从右到左,分别以1顶1,顶2,顶4,顶8.........../** * 10 进制 2 进制 * 5 0000 0101 * 255 1111 1111, 128+64+32+16+8+4+2+1 * -1 1111 1111 * 像上面8个1,到底理解成255,还是理解成-1 * 这个取决于程序 * 比如在 mysql 中 ,int 则理解为 -1 ,unsigned int理解为255 */// 为什么 程序员总是分不清万圣节和圣诞节? 因为 Oct 31=Dec 25 04). 8瓶水,其中1瓶有毒,那小白鼠做试验,药效发挥需要2小时1234567891011121314151617181920212223242526// 8瓶水,其中1瓶有毒,拿小白鼠做试验,药效发挥需要2小时,最少需要几只老鼠,只能试一次// 分析:// 2 个小时后,小白鼠,只有2种状态: 死/活// 2只小白鼠,有4中组合状态;// n只小白鼠有2^n 次方组合状态// 一共有8瓶药水,最多需要8中状态,就可以区分// 3只老鼠,组合8种状态// 因此理论上与3只老鼠就可以//// 思路:// 把8瓶药水分成两堆,让一只老鼠在其中一堆里面喝水,如果死了,毒药就在这堆里面,// 反之,毒药就在另外一堆里面, 然后// 把有毒药的那一堆分成2堆,让第2只老鼠在其中一堆里喝,如果喝死毒药就在这堆里面,// 反之,毒药就在另外一堆里面, 然后// 把有毒要的那一堆再分成2堆,让第三只老鼠喝就能知道毒药在几号里//// 解答:// 1代表活着,0代表死// 毒药: 1 2 3 4 5 6 7 8// 白鼠1: 0 0 0 0 1 1 1 1// 白鼠2: 0 0 1 1 0 0 1 1// 白鼠3: 0 1 0 1 0 1 0 1// // 白鼠一死, 毒药在 1 2 3 4// 白鼠二死, 毒药在 3 4// 白鼠三死, 毒药在 4 05). 递归123456789function sum($n)&#123; if ($n == 1) &#123; return 1; &#125; return $n + sum($n-1);&#125;echo sum(100); 06). PHP实现斐波那契数列1234567891011121314151617181 1 2 3 5 8 13 21 34 55 .........//用递归实现 输出某一位的数字function fbnq($n)&#123; if($n &lt;= 0) return 0; if($n == 1 || $n == 2) return 1; return fbnq($n - 1) + fbnq($n - 2);&#125;echo fbnq(10); //输出第十个数是 55//经典案例//有一对兔子，从出生后第3个月起每个月都生一对兔子，小兔子长到第三个月后每个月又生一对兔子，假如兔子都不死，问每个月的兔子总数为多少 (注意:这里是总数,还是对, 斐波那契数列结果是对)// 第30位数字的值$arr = [1,1];for ($i=2; $i &lt; 30; $i++) &#123; $arr[$i]=$arr[$i-1]+$arr[$i-2];&#125;var_dump($arr); 07). 静态变量12345678910111213141516/** * 静态变量 * static 变量有一个特点,在第一次调用声明之后存在,切不随函数结束而结束 * 当函数再次调用时,可以直接利用上次的结果 */function t()&#123; static $a = 5; // $a = 5; $a += 1; return $a;&#125;echo t();echo t();echo t(); 08). 递归练习,计算所有单元的和1234567891011121314151617// 递归函数,计算所有单元的和$arr = [1, 2, 3, [4, [5, 6]]];function sum($arr)&#123; static $sum = 0; // static 当函数再次调用时,可以直接利用上次的结果 foreach ($arr as $value) &#123; if (is_array($value)) &#123; sum($value); &#125; else &#123; $sum += $value; &#125; &#125; return $sum;&#125;echo sum($arr); 09). 递归练习 一个多维数组,如果单元值为数字,则把其值修改为原来2倍123456789101112131415161718192021222324252627282930313233// 一个多维数组,如果单元值为数字,则把其值修改为原来2倍// 方法1$arr = [1, 2, 'b', [3, 'c', [5, 6]]];function double($arr)&#123; foreach ($arr as $key=&gt;$value) &#123; if (is_array($value)) &#123; $arr[$key] = double($arr[$key]); &#125; else &#123; if (is_numeric($value)) &#123; $arr[$key] *= 2; &#125; &#125; &#125; return $arr;&#125;echo \"&lt;pre&gt;\";print_r( double($arr));/////////////-----------------------// 方法2 ,使用系统函数 array_walk_recursive// @see http://php.net/manual/zh/function.array-walk-recursive.php$crr = [1, 2, 'b', [3, 'c', [5, 6]]];;function double_2(&amp;$crr,$key)&#123; if (is_numeric($crr)) &#123; $crr*=2; &#125;&#125;array_walk_recursive($crr, 'double_2');echo \"&lt;pre&gt;\";print_r($crr); 10). 递归创建目录123456789101112131415161718$filepath = \"./test/upload/2018/test.txt\";mk_dir($filepath);// 循环创建目录// 注意,$filepath 最后的文件,名字也会被当成目录创建function mk_dir($dir, $mode = 0755)&#123; if (is_dir($dir) || @mkdir($dir,$mode)) return true; if (!mk_dir(dirname($dir),$mode)) return false; return @mkdir($dir,$mode);&#125;/////////////-----------------------// 方法2 ,使用系统函数 mkdir 第三个参数// @see http://www.php.net/mkdir// 注意,$filepath 最后的文件,名字也会被当成目录创建$filepath = \"./test/upload/2018/test.txt\";mkdir($filepath, 0755, true);","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"算法","slug":"算法","permalink":"http://yoursite.com/tags/算法/"}]},{"title":"-适配器模式","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_设计模式/index_05_适配器模式/","text":"将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。 123456789101112131415161718192021222324252627282930313233343536373839// 适配器模式 -------- 其实平时一直在使用,没有起个名字, 呵呵呵// 服务器端的代码class weather&#123; public static function show() &#123; $today = ['temperature' =&gt; 25, 'wind' =&gt; 7, 'sun' =&gt; 'sunny']; return serialize($today); &#125;&#125;// ========= 客户端调用 ==========$weather = unserialize(weather::show());echo '温度: ', $weather['temperature'], '&lt;br&gt;';echo '风力: ', $weather['wind'], '&lt;br&gt;';echo '阳光: ', $weather['sun'], '&lt;br&gt;';// 来了一批手机上的 java 客户端,不认识 PHP 的串行化后的字符串,怎么办?// 把服务器端的代码改了?? ---旧的客户端又会受影响???// 增加一个适配器class AdapterWeather extends weather&#123; public static function show() &#123; $today = parent::show(); $today = unserialize($today); $today = json_encode($today); return $today; &#125;&#125;// ===== 客户端调用 ======$todayWeather = AdapterWeather::show();$todayWeather = json_decode($todayWeather, true);echo '温度: ', $weather['temperature'], '&lt;br&gt;';echo '风力: ', $weather['wind'], '&lt;br&gt;';echo '阳光: ', $weather['sun'], '&lt;br&gt;';","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"适配器模式","slug":"适配器模式","permalink":"http://yoursite.com/tags/适配器模式/"}]},{"title":"-观察者模式","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_设计模式/index_04_观察者模式/","text":"当对象间存在一对多关系时，则使用观察者模式（Observer Pattern）。比如，当一个对象被修改时，则会自动通知它的依赖对象。观察者模式属于行为型模式。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687// ------------PHP 实现观察者模式// php5中提供观察者 observer 与被观察者 subject 的接口// @link http://php.net/manual/zh/class.splsubject.php// @link http://php.net/manual/zh/class.splobjectstorage.phpclass user implements SplSubject &#123; // attach() detach() notify() PHP自带 public function attach(SplObserver $observer) &#123; // TODO: Implement attach() method. $this-&gt;observers-&gt;attach($observer); &#125; public function detach(SplObserver $observer) &#123; // TODO: Implement detach() method. $this-&gt;observers-&gt;detach($observer); &#125; public function notify() &#123; // TODO: Implement notify() method. $this-&gt;observers-&gt;rewind(); while ($this-&gt;observers-&gt;valid()) &#123; $observer = $this-&gt;observers-&gt;current(); $observer-&gt;update($this); // 参数 $this-&gt;observers-&gt;next(); &#125; &#125; //-------------------------------------------- public $lognum; public $hobby; protected $observers = null; public function __construct($hobby) &#123; $this-&gt;lognum = rand(1, 10); $this-&gt;hobby = $hobby; $this-&gt;observers = new SplObjectStorage(); &#125; public function login() &#123; // 操作 session... $this-&gt;notify(); &#125;&#125;class security implements SplObserver&#123; public function update(SplSubject $subject) &#123; // TODO: Implement update() method. if ($subject-&gt;lognum &lt; 3) &#123; echo '这是第 ' . $subject-&gt;lognum . ' 次安全登录 '; &#125;else&#123; echo '这是第' . $subject-&gt;lognum . ' 次安全登录,异常 '; &#125; &#125;&#125;class ad implements SplObserver&#123; public function update(SplSubject $subject) &#123; // TODO: Implement update() method. if ($subject-&gt;hobby == 'sports')&#123; echo ' 台球英锦赛门票预订 '; &#125;else&#123; echo ' 好好学习,天天向上 '; &#125; &#125;&#125;// 实施观察$user = new user('sports');$user-&gt;attach(new security());$user-&gt;attach(new ad());$user-&gt;login();","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"观察者模式","slug":"观察者模式","permalink":"http://yoursite.com/tags/观察者模式/"}]},{"title":"常见4种排序： 冒泡排序、选择排序、插入排序、快速排序","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_算法/排序/","text":"这里介绍4种常见排序： 冒泡排序、选择排序、插入排序、快速排序 、二分查找 冒泡排序原理：对一组数据，比较相邻数的大小，将值大的放到后面。 1234567891011121314151617181920212223&lt;?php// 冒泡排序function bubbleOrder($arr)&#123; $count = count($arr); $temp = 0; // 外层控制排序次数 for ($i = 0; $i &lt; $count - 1; $i++) &#123; // 内层控制每轮比较次数 for ($j = 0; $j &lt; $count - 1 - $i; $j++) &#123; if ($arr[$j] &gt; $arr[$j + 1]) &#123; $temp = $arr[$j]; $arr[$j] = $arr[$j + 1]; $arr[$j + 1] = $temp; &#125; // print_r($arr); echo \"&lt;br&gt;\"; &#125; &#125; return $arr;&#125;$arr = array(5, 2, 7, 6, 9, 3);$res = bubbleOrder($arr);var_dump($res); 选择排序原理：在一组数据中，选出最小的数与第一个位置交换，​ 然后在剩下的数据中在找出最小的数和第二个位置交换​ 然后在剩下的数据中在找出最小的数和第三个位置交换​ 依次类推直到倒数第二个数和最后一个数对比 12345678910111213141516171819202122232425262728&lt;?php// 选择排序function selcetOrder($arr)&#123; // 定义中间变量 $temp = 0; $count = count($arr); for ($i = 0; $i &lt; $count - 1; $i++) &#123; //定义最小位置 $minIndex = $i; for ($j = $i + 1; $j &lt; $count; $j++) &#123; if ($arr[$j] &lt; $arr[$minIndex]) &#123; $minIndex = $j; &#125; &#125; if ($i != $minIndex) &#123; $temp = $arr[$i]; $arr[$i] = $arr[$minIndex]; $arr[$minIndex] = $temp; &#125; &#125; return $arr;&#125;$arr = array(5, 2, 7, 6, 9, 3);$res = selcetOrder($arr);var_dump($res); 插入排序原理： 将需要排序的书，与前面已经排好的数据从后往前进行比较，使其插入到相应的位置； 1234567891011121314151617181920212223&lt;?php// 插入排序function insertOrder($arr)&#123; $len = count($arr); //控制总循环次数 for ($i = 0; $i &lt; $len; $i++) &#123; $temp = $arr[$i]; for ($j = $i - 1; $j &gt;= 0; $j--) &#123; //从当前位置从后往前进行对比 if ($temp &lt; $arr[$j]) &#123; $arr[$j + 1] = $arr[$j]; $arr[$j] = $temp; &#125;else&#123; break; &#125; &#125; &#125; return $arr;&#125;$arr = array(5, 2, 7, 6, 9, 3);$res = insertOrder($arr);var_dump($res); 快速排序原理：初始一个中间值(一般选择第一个)，将需要排序的数组分成3部分，小于中间的值放左边、中间值、大于中间值的放右边，继续用递归用相同的方式来排序左边和右边，最后合并数组 1234567891011121314151617181920212223242526&lt;?php// 快速排序function quickOrder($arr)&#123; // 判断是否需要运行,下面要拿出一个中间值 if (count($arr)&lt;=1) &#123; return $arr; &#125; $middle = $arr[0]; // 中间值 $left = array(); $right = array(); for ($i = 1; $i &lt; count($arr); $i++) &#123; if ($middle &lt; $arr[$i]) &#123; $right[] = $arr[$i]; &#125; else &#123; $left[] = $arr[$i]; &#125; &#125; // 递归排序划分好的2边数组 $left = quickOrder($left); $right = quickOrder($right); return array_merge($left, array($middle), $right);&#125;$arr = array(5, 2, 7, 6, 9, 3);$res = quickOrder($arr);var_dump($res); 二分查找1234567891011121314151617181920// 正向排序的数组$arr = array(1, 3, 5, 7, 9, 11);// $arr = array(1, 3, 20, 7, 9, 11);// $arr2 = array(11, 9, 7, 5, 3, 1);function binary_search($array, $low, $high, $k)&#123; if ($low &lt;= $high)&#123; $mid = intval(($low+$high)/2); //intval();floor() 都可以无所谓 if ($array[$mid] == $k)&#123; return $mid; &#125;elseif ($k &lt; $array[$mid])&#123; return binary_search($array, $low, $mid-1, $k); &#125;else&#123; return binary_search($array, $mid+1, $high, $k); &#125; &#125; return '必须是正向排序数组';&#125;echo binary_search($arr, 0, 5, 9);","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"常见4种排","slug":"常见4种排","permalink":"http://yoursite.com/tags/常见4种排/"}]},{"title":"-单例模式","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_设计模式/index_03_单例模式/","text":"单例模式( 三私一公 )单例模式( 三私一公 )单例模式( 三私一公 ) 单例模式( 三私一公 ) 私有的构造方法( 防止类被多次实例化 ) 私有的克隆方法( 防止类被多次克隆 ) 私有的静态属性( 保存类的实例 ) 公有的静态方法( 访问这个类 ) 1234567891011121314151617181920212223242526272829303132// 单例模式 singletonclass singleton&#123; private static $ins = null; public static function getIns() &#123; if (self::$ins == null) &#123; self::$ins = new self(); &#125; return self::$ins; &#125; // 封锁多次 new private function __construct() &#123; &#125; // 封锁克隆 clone private function __clone() &#123; &#125;&#125;$s1 = singleton::getIns();$s2 = singleton::getIns();if ($s1 === $s2) &#123; //是一个对象 echo \"是一个对象\";&#125; else &#123; echo \"不是一个对象\";&#125;","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"单例模式","slug":"单例模式","permalink":"http://yoursite.com/tags/单例模式/"}]},{"title":"-算法02","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_算法/算法_02/","text":"算法02算法02算法02 01). 输出 1 到 100 之间的素数(质数) 用一个数分别去除2到这个数之间的所有数,如果被整除就是素数 123456789101112131415// 2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 //分析: 用一个数分别去除2到这个数之间的所有数,如果被整除就是素数for ($i = 1; $i &lt;= 100; $i++) &#123; $k = 0; //判断开始和结束的值是否也是素数 for ($j = 1; $j &lt;= $i; $j++) &#123; if ($i % $j == 0) &#123; $k++; &#125; &#125; if ($k == 2) &#123; echo $i; echo \"&amp;nbsp;&amp;nbsp;\"; &#125;&#125; 02). 打印出所有的 “水仙花数 “1234567891011121314// 打印出所有的 \"水仙花数 \"， 三位的水仙花数共有4个：153，370，371，407// 所谓 \"水仙花数 \"是指一个三位数，其各位数字立方和等于该数本身。// 例如：153是一个 \"水仙花数 \"，因为 1^3 + 5^3+ 3^3 = 153for ($i = 100; $i &lt; 1000; $i++) &#123; $hunderds = floor($i / 100); $tens = floor($i / 10) % 10; $ones = floor($i % 10); $temp = pow($hunderds, 3) + pow($tens, 3) + pow($ones, 3); if ($temp == $i) &#123; echo $i; echo \"&amp;nbsp;\"; &#125;&#125; 03). 正整数分解质因数12345678910111213141516171819// 将一个正整数分解质因数。例如：输入90,打印出90=2*3*3*5。// 分析:// 对n进行分解质因数，应先找到一个最小的质数k，然后按下述步骤完成：// (1)如果这个质数恰等于n，则说明分解质因数的过程已经结束，打印出即可。// (2)如果n&lt;&gt;k，但n能被k整除，则应打印出k的值，并用n除以k的商,作为新的正整数n,重复执行第一步。// (3)如果n不能被k整除，则用k+1作为k的值,重复执行第一步$n = 90;echo $n . '=';for ($i = 2; $i &lt; $n + 1; $i ++)&#123; while ($n % $i == 0 &amp;&amp; $n != $i) &#123; $n /= $i; echo $i . \"*\"; &#125; if ($n == $i) &#123; echo $i; break; &#125;&#125; 04). 三目条件嵌套12345678910// 利用条件运算符的嵌套来完成此题：// 学习成绩&gt; =90分的同学用A表示，// 60-89分之间的用B表示，// 60分以下的用C表示。$score = 89;$grade = $score &gt;= 90 ? 'A' : ($score &gt;= 60 &amp;&amp; $score &lt;= 89 ? 'B' : \"C\");echo $grade; 05). 输入两个正整数m和n，求其最大公约数和最小公倍数123456789101112131415161718192021222324252627282930313233343536// 题目：输入两个正整数m和n，求其最大公约数和最小公倍数// 在循环中，只要除数不等于0，用较大数除以较小的数，// 将小的一个数作为下一轮循环的大数，取得的余数作为下一轮循环的较小的数，// 如此循环直到较小的数的值为0，// 返回较大的数，此数即为最大公约数，最小公倍数为两数之积除以最大公约数。// 这种方法叫做: 辗除法function f($x, $y)&#123; if ($x &lt; $y) &#123; $temp = $x; $x = $y; $y = $temp; &#125; while ($y!=0) &#123; if ($x==$y)&#123; return $x; &#125;else&#123; $k = $x % $y; $x = $y; $y = $k; &#125;; &#125; return $x;&#125;$a = 21; $b = 24;$m = f($a, $b); //最大公约数$n = $a * $b / $m; //最小公倍数echo '最大公约数为: ' . $m.\"&amp;nbsp;&amp;nbsp;\";echo '最小公倍数为: ' . $n.\"&amp;nbsp;&amp;nbsp;\";//------------------------------------------------------------// 方法2, 使用php自带的函数,获取最小公约数$gcd = gmp_gcd(\"21\", \"24\");echo gmp_strval($gcd) . \"\\n\"; 06) 求s=a+aa+aaa+aaaa+aa…a的值1234567891011121314151617181920// 题目：求s=a+aa+aaa+aaaa+aa...a的值，其中a是一个数字。// 例如2+22+222+2222+22222(此时共有5个数相加)，几个数相加有键盘控制//$num 数字 $count 几个数相加function fun($num, $count)&#123; $temp = 0; $sum = 0; for ($i = 0; $i &lt; $count; $i++) &#123; $temp = $temp + $num; //获取需要相加的数字 $sum = $sum + $temp; //数字相加 $num = $num * 10; &#125; return $sum;&#125;// echo fun(2, 2); //2+22=24// echo fun(2, 3); //2+22+222=246// echo fun(2, 4); //2+22+222+2222=2468echo fun(2, 5); //2+22+222+2222+22222=24690 07) 完数12345678910111213141516171819// 题目：一个数如果恰好等于它的因子之和，这个数就称为 \"完数 \"。// 例如6=1＋2＋3.编程 找出1000以内的所有完数function fun()&#123; echo \"1到1000的完数有: \"; for ($i = 1; $i &lt; 1000; $i++) &#123; $t = 0; for ($j = 1; $j &lt;= $i / 2; $j++) &#123;//$i/2 减少循环次数 for ($j = 1; $j &lt; $i ; $j++) &#123; if ($i % $j == 0) &#123; $t = $t + $j; &#125; &#125; if ($t == $i) &#123; echo($i .\" \"); &#125; &#125;&#125;fun(); //1到1000的完数有: 6 28 496 08) 四个数字组成三位数1234567891011121314151617181920212223242526// 题目：有1、2、3、4四个数字，// 能组成多少个互不相同且无重复数字的三位数 都是多少function fun()&#123; $x = 0; $y = 0; $z = 0; $arr = []; $_count = 0; //统计个数 for ($x = 1; $x &lt; 5; $x++) &#123; for ($y = 1; $y &lt; 5; $y++) &#123; for ($z = 1; $z &lt; 5; $z++) &#123; if ($x != $y &amp;&amp; $y != $z &amp;&amp; $x != $z) &#123; $_count++; // echo $x * 100 + $y * 10 + $z.'&lt;br/&gt;'; array_push($arr, $x * 100 + $y * 10 + $z); &#125; &#125; &#125; &#125; array_push($arr, ['count' =&gt; $_count]); return $arr;&#125;print_r(fun()); 09) 某年某月某日,第几天12345678910111213141516171819202122232425262728293031// 输入某年某月某日，判断这一天是这一年的第几天function fun($year,$month,$day)&#123; switch ($month) &#123; case 1:$sum=0;break; case 2:$sum=31;break; case 3:$sum=59;break; case 4:$sum=90;break; case 5:$sum=120;break; case 6:$sum=151;break; case 7:$sum=181;break; case 8:$sum=212;break; case 9:$sum=243;break; case 10:$sum=273;break; case 11:$sum=304;break; case 12:$sum=334;break; default:printf(\"data error\");break; &#125; $sum = $sum + $day; if ($year % 400 == 0 || ($year % 4 == 0 &amp;&amp; $year % 100 != 0)) &#123; //判断是不是闰年 $leap = 1; &#125; else &#123; $leap = 0; &#125; if ($leap == 1 &amp;&amp; $month &gt; 2) &#123; //如果是闰年切月份大于2,总天数应该加一天 $sum++; &#125; return $sum;&#125;print_r(fun(2019, 03, 1)); 10) 三元运算符及比较3个数的大小,输出最大的数123456789101112131415161718192021222324252627282930313233// 三元运算符及比较3个数的大小,输出最大的数function fun($a,$b,$c)&#123; $d= $a &gt; $b ? ($a &gt; $c ? $a : $c) : ($b &gt; $c ? $b : $c); return $d;&#125;echo fun(1, 2, 3);//-----------------------------------// 比较3个数的大小, 并从小到大输出function fun($i, $j, $k)&#123; $x = 0; if ($i &gt; $j) &#123; $x = $i; $i = $j; $j = $x; &#125; if ($i &gt; $k) &#123; $x = $i; $i = $k; $k = $x; &#125; if ($j &gt; $k) &#123; $x = $j; $j = $k; $k = $x; &#125; return $i . \" \" . $j . \" \" . $k;&#125;echo fun(10, 0, 3);","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"算法","slug":"算法","permalink":"http://yoursite.com/tags/算法/"}]},{"title":"浏览器访问网页时发生了什么","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_浏览器访问网页时发生了什么/","text":"浏览器访问网页时发生了什么 浏览器在域名系统（DNS）服务器上找出存放网页的服务器的实际地址（找出商店的位置）。 浏览器发送 HTTP 请求信息到服务器来请拷贝一份网页到客户端（你走到商店并下订单）。这条消息，包括其他所有在客户端和服务器之间传递的数据都是通过互联网使用 TCP/IP 协议传输的。 服务器同意客户端的请求后，会返回一个“200 OK”信息，意味着“你可以查看这个网页，给你～”，然后开始将网页的文件以数据包的形式传输到浏览器（商店给你商品，你将商品带回家）。 浏览器将数据包聚集成完整的网页然后将网页呈现给你（商品到了你的门口 —— 新东西，好棒！）。 万维网是如何工作的 其他HTTP发起请求之前需要TCP协议三次握手 TCP 关键词123456789关键词:ACK: (全称为Acknowledge character）即是确认字符seq: () 序号 [XYZ 变化]SYN: (Synchronousidle) 同步字符FIN: () 报文NCK: (Negative Acknowledg) 否认字符PSH:RST:URG: TCP三次握手第一次握手：建立连接时，客户端发送syn包（seq=j）到服务器，并进入SYN_SENT状态，等待服务器确认；SYN：同步序列编号。 第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（seq=k），即SYN+ACK包，此时服务器进入SYN_RECV状态。 第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=k+1），此包发送完毕，客户端和服务器进入ESTABLISHED（TCP连接成功）状态，完成三次握手。 相关资料: TCP三次握手 12 TCP 四次挥手由于TCP连接是全双工的，因此每个方向都必须单独进行关闭。这原则是当一方完成它的数据发送任务后就能发送一个FIN来终止这个方向的连接。收到一个 FIN只意味着这一方向上没有数据流动，一个TCP连接在收到一个FIN后仍能发送数据。首先进行关闭的一方将执行主动关闭，而另一方执行被动关闭。 TCP客户端发送一个FIN，用来关闭客户到服务器的数据传送。 服务器收到这个FIN，它发回一个ACK，确认序号为收到的序号加1。和SYN一样，一个FIN将占用一个序号。 服务器关闭客户端的连接，发送一个FIN给客户端。 客户端发回ACK报文确认，并将确认序号设置为收到序号加1 相关资料: TCP四次挥手 12 其他资料:传输控制协议TCP TCP 为什么是三次握手，而不是两次或四次","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"},{"name":"HTTP","slug":"WEB/HTTP","permalink":"http://yoursite.com/categories/WEB/HTTP/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"前端性能优化35条规则 yahoo -images","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_06/","text":"前端性能优化35条规则 yahoo -images前端性能优化35条规则 yahoo -images前端性能优化35条规则 yahoo -images 01) 优化图片设计人员完成为您的网页创建图像后，仍然可以尝试一些操作，然后再将这些图像通过FTP传输到Web服务器。 您可以检查GIF并查看它们是否使用的调色板尺寸与图像中的颜色数量相对应。使用imagemagick可以很容易地进行检查。identify -verbose image.gif当您在调色板中看到使用4种颜色和256种颜色的“插槽”的图像时，还有改进的余地。 尝试将GIF转换为PNG，看看是否有节省。经常有。由于浏览器支持有限，开发人员经常不愿使用PNG，但这已成为过去。唯一的实际问题是真彩色PNG中的alpha透明度，但是同样，GIF也不是真彩色，也不支持可变透明度。因此，GIF可以做的任何事情，调色板PNG（PNG8）都可以做（动画除外）。这个简单的imagemagick命令产生了完全安全使用的PNG：convert image.gif image.png“我们所说的是：给PiNG一个机会！” 在所有PNG上 运行pngcrush（或任何其他PNG优化器工具）。例子：pngcrush image.png -rem alla -reduce -brute result.png 在所有JPEG上运行jpegtran。该工具执行无损JPEG操作（例如旋转），也可以用于优化和删除图像中的注释和其他无用信息（例如EXIF信息）。jpegtran -copy none -optimize -perfect src.jpg dest.jpg 02) 优化CSS Sprite 将图片中的图片水平排列而不是垂直排列通常会导致文件较小。 在子画面中组合相似的颜色可以帮助您保持较低的颜色计数，理想情况下应少于256种颜色，以适合PNG8。 “对移动设备友好”，并且在sprite中的图像之间不要留有很大的空隙。这不会对文件大小产生太大影响，但需要较少的内存供用户代理将图像解压缩为像素图。100x100图像是1万像素，其中1000x1000是1百万像素 03) 不要在HTML中缩放图片不要使用比您需要的大的图像，仅因为可以在HTML中设置宽度和高度。如果需要，&lt;img width=&quot;100&quot; height=&quot;100&quot; src=&quot;mycat.jpg&quot; alt=&quot;My Cat&quot; /&gt;则您的图片（mycat.jpg）应该为100x100px，而不是缩小为500x500px的图片 04) 使用体积小、可缓存的favicon.icofavicon.ico是保留在服务器根目录中的映像。这是一个必不可少的邪恶(???)，因为即使您不关心它，浏览器仍然会请求它，因此最好不要使用来响应404 Not Found。另外，由于它在同一台服务器上，因此每次请求时都会发送cookie。该映像还会干扰下载顺序，例如，在IE中，当您在onload中请求额外的组件时，将在这些额外的组件之前下载favicon。 因此，要减轻拥有favicon.ico的弊端，请确保： 它很小，最好在1K以下。 根据需要设置Expires标头（因为如果决定更改它，则无法重命名）。您可能可以在未来几个月安全地设置Expires标头。您可以检查当前favicon.ico的最后修改日期，以做出明智的决定。 Imagemagick可以帮助您创建小型网站图标 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"前端性能优化35条规则 yahoo -CSS","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_04/","text":"前端性能优化35条规则 yahoo -CSS前端性能优化35条规则 yahoo -CSS前端性能优化35条规则 yahoo -CSS 01) 把样式表放在&lt;head&gt;中虽然研究在雅虎的表现！我们发现，移动样式表文件HEAD使页面看起来是加载速度更快。这是因为将样式表放在HEAD中可以使页面逐步呈现。 关心性能的前端工程师希望页面逐渐加载。也就是说，我们希望浏览器尽快显示其具有的所有内容。这对于内容丰富的页面以及Internet连接速度较慢的用户而言尤其重要。为用户提供视觉反馈（例如进度指示器）的重要性已经得到了充分的研究和记录。在我们的例子中，HTML页面是进度指示器！当浏览器逐步加载页面时，标题，导航栏，顶部的徽标等均作为等待页面的用户的视觉反馈。这样可以改善整体用户体验。 将样式表放在文档底部附近的问题是，它禁止在许多浏览器（包括Internet Explorer）中进行渐进式渲染。这些浏览器会阻止渲染，以避免样式发生更改时必须重绘页面元素。用户被困在查看空白白页。 的HTML规范明确指出，样式表是被包括在网页的HEAD：“与A，[LINK]可以仅出现在一个文档的HEAD部分，尽管它可能出现任意次数”。空白的黑屏或未样式化的内容闪烁均不值得冒险。最佳解决方案是遵循HTML规范并将样式表加载到文档HEAD中。 02) 避免使用CSS表达式CSS表达式是一种动态设置CSS属性的强大（危险）方式。从版本5开始，Internet Explorer支持它们，但从IE8开始不推荐使用。例如，可以使用CSS表达式将背景色设置为每小时交替显示： 1背景颜色：expression（（new Date（））。getHours（）％2？“＃B8D4FF”：“＃F08A00”）; 如此处所示，该expression方法接受JavaScript表达式。CSS属性设置为评估JavaScript表达式的结果。该expression方法被其他浏览器忽略，因此对于在Internet Explorer中设置创建跨浏览器的一致体验所需的属性很有用。 表达式的问题在于对它们的评估比大多数人期望的要频繁。不仅会在呈现页面和调整页面大小时对它们进行评估，还会在滚动页面甚至用户将鼠标移到页面上时对其进行评估。在CSS表达式中添加一个计数器，使我们能够跟踪何时以及何时评估CSS表达式。在页面上移动鼠标可以轻松生成10,000多个评估。 减少对CSS表达式求值的次数的一种方法是使用一次性表达式，其中第一次对表达式求值时，它将style属性设置为显式值，该值替换CSS表达式。如果必须在页面的整个生命周期中动态设置style属性，则可以使用事件处理程序代替CSS表达式。如果必须使用CSS表达式，请记住，它们可能会被评估数千次，并且可能会影响页面的性能。 03) 使用&lt;link&gt;替代@import以前的最佳实践之一指出，CSS应该位于顶部，以便进行渐进式渲染。 在IE中，@import其行为与&lt;link&gt;页面底部的使用相同，因此最好不要使用它。 04) 避免使用filterIE专有AlphaImageLoader过滤器旨在解决IE版本&lt;7中的半透明真彩色PNG问题。此过滤器的问题在于，它会阻止渲染并在下载图像时冻结浏览器。它还增加了内存消耗，并且按元素（而不是按图像）应用，因此问题成倍增加。 最好的方法是AlphaImageLoader完全避免使用PNG8并对其进行降级，这在IE中很好。如果绝对需要AlphaImageLoader，请使用下划线_filter，以免对IE7 +用户造成不利影响。 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"-多态","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_设计模式/index_01多态/","text":"PHP多态PHP多态PHP多态 多态满足三个条件: 子类继承父类 子类重写父类 父类引用指向子类 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// 多态 动物(猫,狗) 猫吃鱼,牛吃草abstract class Animal&#123; abstract function eat();&#125;class Cat extends Animal&#123; function eat() &#123; // TODO: Implement eat() method. echo ' 猫吃鱼 '; &#125;&#125;class Dog extends Animal&#123; function eat() &#123; // TODO: Implement eat() method. echo ' 牛吃草 '; &#125;&#125;class Client&#123; // java 中 foo(Animal $animal) ,声明 cat 和 dog 的父类 animal ,只能传递 animal 的子类 // public function foo(Animal $animal) public function foo($animal) &#123; $animal-&gt;eat(); &#125;&#125;$catClient = new Client();$catClient-&gt;foo(new Cat());$dogClietn = new Client();$dogClietn-&gt;foo(new Dog());// 如果在 class Client 中这样写 public function foo(Animal $animal)// 下面的就会报错class Pig&#123; public function eat() &#123; echo \" 猪飞到上天 \"; &#125;&#125;$pigClient = new Client();$pigClient-&gt;foo(new Pig()); 设计模式参考地址: 设计模式01 设计模式02","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"多态","slug":"多态","permalink":"http://yoursite.com/tags/多态/"}]},{"title":"前端性能优化35条规则 yahoo -服务器","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_02/","text":"前端性能优化35条规则 yahoo -服务器前端性能优化35条规则 yahoo -服务器前端性能优化35条规则 yahoo -服务器 01) 使用CDN用户靠近您的Web服务器会影响响应时间。从用户的角度来看，跨多个地理位置分散的服务器部署您的内容将使您的页面加载速度更快。但是，您应该从哪里开始呢？ 作为实现地理上分散的内容的第一步，请不要尝试重新设计Web应用程序以使其在分布式体系结构中工作。根据应用程序的不同，更改体系结构可能包括艰巨的任务，例如同步会话状态和跨服务器位置复制数据库事务。尝试缩短用户与您的内容之间的距离的尝试可能会因此应用程序体系结构步骤而被延迟或永远不会过去。 请记住，最终用户响应时间的80-90％是花在下载页面上的所有组件上的：图像，样式表，脚本，Flash等。这是性能的黄金法则。与其从重新设计应用程序体系结构这一艰巨的任务开始，不如先分散静态内容，这是更好的选择。这不仅可以大大缩短响应时间，而且由于内容传送网络的原因，它更容易实现。 内容交付网络（CDN）是分布在多个位置的Web服务器的集合，目的是将内容更有效地交付给用户。选择用于向特定用户传送内容的服务器通常基于网络邻近性的度量。例如，选择网络跳数最少的服务器或响应时间最快的服务器。 一些大型的互联网公司拥有自己的CDN，但是使用CDN服务提供商（例如Akamai Technologies，EdgeCast或level3）具有成本效益。对于初创公司和私人网站，CDN服务的成本可能令人望而却步，但是随着您的目标受众越来越大并变得更加全球化，为了实现快速响应，CDN是必不可少的。在Yahoo!上，将静态内容从其应用程序Web服务器移至CDN（如上所述的第三方和Yahoo自己的CDN）的属性将最终用户的响应时间缩短了20％或更多。切换到CDN是相对容易的代码更改，它将显着提高网站的速度 02) 添加Expires或Cache-Control响应头该规则有两个方面： 对于静态组件：通过设置远期Expires头文件来实现“永不过期”策略 对于动态组件：使用适当的Cache-Control标头来帮助浏览器进行条件请求 网页设计越来越丰富，这意味着页面中将包含更多脚本，样式表，图像和Flash。首次访问您的页面的访问者可能必须发出多个HTTP请求，但是通过使用Expires标头，您可以使这些组件可缓存。这避免了后续页面视图上不必要的HTTP请求。Expires标头最常与图像一起使用，但应在所有组件（包括脚本，样式表和Flash组件）上使用它们。 浏览器（和代理）使用缓存来减少HTTP请求的数量和大小，从而使网页加载速度更快。Web服务器使用HTTP响应中的Expires标头来告诉客户端可以将组件缓存多长时间。这是一个远期的Expires标头，告诉浏览器直到2010年4月15日，此响应才会陈旧。 1过期：格林尼治标准时间2010年4月15日星期四20:00:00 如果您的服务器是Apache，请使用ExpiresDefault指令设置相对于当前日期的到期日期。此ExpiresDefault伪指令示例将Expires日期设置为从请求时间算起的10年。 1过期默认为“访问权限加上10年” 请记住，如果使用远期的Expires标头，则每当组件更改时，都必须更改组件的文件名。在雅虎！我们通常将此步骤作为构建过程的一部分：版本号嵌入在组件的文件名中，例如yahoo_2.0.6.js。 仅在用户已经访问您的网站之后，使用将来有效的Expires标头才会影响页面浏览量。当用户首次访问您的站点并且浏览器的缓存为空时，它对HTTP请求的数量没有影响。因此，此性能改进的影响取决于用户使用预填充缓存访问您的页面的频率。（“主缓存”已经包含了页面中的所有组件。）我们在Yahoo!上进行了测量。并发现带有预填充缓存的页面浏览量为75-85％。通过使用远期的Expires标头，您可以增加浏览器缓存的组件数量，并在后续的页面视图中重新使用这些组件，而无需通过用户的Internet连接发送单个字节。 03) 启用Gzip通过前端工程师的决定，可以大大减少在网络上传输HTTP请求和响应所花费的时间。的确，最终用户的带宽速度，Internet服务提供商，与对等交换点的距离等等，都是开发团队无法控制的。但是还有其他影响响应时间的变量。压缩通过减小HTTP响应的大小来减少响应时间。 从HTTP / 1.1开始，Web客户端使用HTTP请求中的Accept-Encoding标头指示对压缩的支持。 1Accept-Encoding: gzip, deflate 如果Web服务器在请求中看到此标头，则可以使用客户端列出的方法之一压缩响应。Web服务器通过响应中的Content-Encoding标头将其通知给Web客户端。 1Content-Encoding: gzip Gzip是目前最流行，最有效的压缩方法。它由GNU项目开发，并由RFC 1952标准化。您可能会看到的唯一其他压缩格式是deflate，但效率不高且不那么受欢迎。 压缩通常会将响应大小减少约70％。如今，大约90％的Internet流量是通过声称支持gzip的浏览器传输的。如果使用Apache，则配置gzip的模块取决于您的版本：Apache 1.3使用mod_gzip，而Apache 2.x使用mod_deflate。 浏览器和代理存在一些已知问题，可能会导致浏览器的预期内容与压缩内容接收不匹配。幸运的是，随着使用较旧的浏览器的减少，这些边缘情况正在减少。Apache模块通过自动添加适当的Vary响应标头来提供帮助。 服务器根据文件类型选择要gzip的内容，但通常在决定压缩内容方面受限制。大多数网站都将其HTML文档压缩为gzip。gzip您的脚本和样式表也是值得的，但是许多网站都错过了这个机会。实际上，压缩任何文本响应（包括XML和JSON）都是值得的。图片和PDF文件不应压缩，因为它们已经被压缩。尝试对它们进行gzip压缩不仅浪费CPU，而且可能会增加文件大小。 压缩尽可能多的文件类型是减轻页面重量并加快用户体验的简便方法。 04) 配置Etag实体标记（ETag）是Web服务器和浏览器用来确定浏览器缓存中的组件是否与原始服务器上的组件匹配的一种机制。（“实体”是“组件”的另一个词：图像，脚本，样式表等。）添加了ETag，以提供一种用于验证实体的机制，该机制比上次修改的日期更灵活。ETag是一个字符串，用于唯一标识组件的特定版本。唯一的格式限制是用引号将字符串引起来。原始服务器使用ETag响应标头指定组件的ETag 。 1234HTTP/1.1 200 OKLast-Modified: Tue, 12 Dec 2006 03:03:59 GMTETag: \"10c24bc-4ab-457e1c1f\"Content-Length: 12195 以后，如果浏览器必须验证组件，它将使用If-None-Match标头将ETag传递回原始服务器。如果ETag匹配，则返回304状态代码，此示例将响应减少12195字节。 12345GET /i/yahoo.gif HTTP/1.1Host: us.yimg.comIf-Modified-Since: Tue, 12 Dec 2006 03:03:59 GMTIf-None-Match: \"10c24bc-4ab-457e1c1f\"HTTP/1.1 304 Not Modified ETag的问题在于，通常使用使它们对托管站点的特定服务器而言是唯一的属性来构造它们。当浏览器从一台服务器获取原始组件，然后尝试在另一台服务器上验证该组件时，ETag将不匹配，这种情况在使用服务器集群处理请求的网站上非常普遍。默认情况下，Apache和IIS都将数据嵌入到ETag中，从而大大降低了在具有多台服务器的网站上成功进行有效性测试的几率。 Apache 1.3和2.x的ETag格式为inode-size-timestamp。尽管一个给定的文件可能位于多个服务器的同一目录中，并且具有相同的文件大小，权限，时间戳等，但它的索引节点在一个服务器和另一个服务器之间是不同的。 IIS 5.0和6.0的ETag存在类似问题。IIS上ETag的格式为Filetimestamp:ChangeNumber。AChangeNumber是一个计数器，用于跟踪对IIS的配置更改。ChangeNumber在网站后面的所有IIS服务器中，这不太可能是相同的。 最终结果是，Apache和IIS为完全相同的组件生成的ETag从一台服务器到另一台服务器将不匹配。如果ETag不匹配，则用户不会收到ETag设计用于的小而快速的304响应。相反，他们将获得正常的200响应以及该组件的所有数据。如果您将网站托管在仅一台服务器上，那么这不是问题。但是，如果您有多个服务器托管您的网站，并且您使用默认ETag配置的Apache或IIS，则用户的页面访问速度将变慢，服务器的负载将增加，带宽消耗将增加，而代理服务器将不再高效地缓存您的内容。即使您的组件具有将来的Expires标头，只要用户单击“重新加载”或“刷新”，仍会发出条件GET请求。 如果您没有利用ETag提供的灵活验证模型，最好完全删除ETag。在Last-Modified基于组件的时间戳头进行验证。删除ETag会减少响应和后续请求中HTTP标头的大小。此Microsoft支持文章介绍了如何删除ETag。在Apache中，只需将以下行添加到Apache配置文件中即可完成此操作： 1FileETag none 05) 尽早输出(flush)缓冲当用户请求页面时，后端服务器将HTML页面拼接在一起可能需要200到500毫秒的时间。在这段时间内，浏览器在等待数据到达时处于空闲状态。在PHP中，您可以使用函数flush（）。它允许您将部分就绪的HTML响应发送到浏览器，以便浏览器可以在后端忙于处理HTML页面的其余部分时开始获取组件。好处主要体现在繁忙的后端或轻量级的前端上。 考虑在头之后紧跟着刷新的一个好地方，因为头的HTML通常更易于生成，并且它允许您包括任何CSS和JavaScript文件，以便浏览器在后端仍在处理时开始并行获取。 例子： 12345 ... &lt;!-- css, js --&gt;&lt;/head&gt;&lt;?php flush(); ?&gt;&lt;body&gt; ... &lt;!-- content --&gt; 06) Ajax请求尽量使用GET方法在雅虎 邮件团队发现，使用时XMLHttpRequest，POST在浏览器中实现为两个步骤：首先发送标头，然后发送数据。因此，最好使用GET，它只需要发送一个TCP数据包即可（除非您有很多Cookie）。IE中的最大URL长度为2K，因此，如果您发送的数据超过2K，则可能无法使用GET。 一个有趣的副作用是，没有实际发布任何数据的POST行为就像GET。基于HTTP规范，GET是用于检索信息的，因此（仅在语义上）在仅请求数据时使用GET（而不是将数据发送到服务器端存储）是有意义的。 07) 避免图片src为空图像出现的次数超过预期。它以两种形式出现： straight HTML JavaScript var img = new Image();img.src = “”; 两种形式都会产生相同的效果：浏览器再次向您的服务器发出请求。 Internet Explorer向页面所在的目录发出请求。 Safari和Chrome会向实际页面发出请求。 Firefox 3和更早版本的行为与Safari和Chrome相同，但版本3.5解决了此问题[bug 444931]，并且不再发送请求。 遇到空图像src时，Opera不会执行任何操作。 为什么这种行为不好？ 通过发送大量意外流量来破坏服务器，特别是对于每天获得数百万次页面查看的页面。 浪费的服务器计算周期生成了永远不会被查看的页面。 可能损坏了用户数据。如果您正在通过Cookie或其他方式跟踪请求中的状态，则可能会破坏数据。即使图像请求未返回图像，浏览器也会读取并接受所有标头，包括所有cookie。当其余的响应被丢弃时，损坏可能已经造成。 此行为的根本原因是在浏览器中执行URI解析的方式。RFC 3986-统一资源标识符中定义了此行为。当遇到空字符串作为URI时，它被视为相对URI，并根据5.2节中定义的算法进行解析。此特定示例（一个空字符串）在5.4节中列出。Firefox，Safari和Chrome均按照规范正确解析了一个空字符串，而Internet Explorer则不正确地解析了该字符串，这显然符合规范RFC 2396-统一资源标识符的较早版本（RFC 3986已弃用） 。因此，从技术上讲，浏览器正在执行解析相对URI的工作。问题在于，在这种情况下， HTML5在标记的src属性的描述中添加了内容，以指示浏览器不要在第4.8.2节中提出额外的请求： src属性必须存在，并且必须包含一个有效的URL，该URL引用既非分页也没有脚本化的非交互式，可选动画的图像资源。如果元素的基本URI与文档的地址相同，则src属性的值不能为空字符串。 希望将来浏览器不会出现此问题。不幸的是，对于没有这样的子句。也许还有时间进行调整，以确保浏览器不会意外实现此行为。 该规则的灵感来自Yahoo!的JavaScript专家Nicolas C. Zakas。有关更多信息，请查看他的文章“空映像src可能会破坏您的网站”。 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"前端性能优化35条规则 yahoo -JavaScript","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_05/","text":"前端性能优化35条规则 yahoo -JavaScript前端性能优化35条规则 yahoo -JavaScript前端性能优化35条规则 yahoo -JavaScript 01) 把脚本防止页面底部脚本引起的问题是它们阻止并行下载。的HTTP / 1.1规范建议的浏览器下载不超过每主机名并行两种组分。如果从多个主机名提供映像，则可以并行进行两个以上的下载。但是，在下载脚本时，即使使用不同的主机名，浏览器也不会启动任何其他下载。 在某些情况下，将脚本移到底部并不容易。例如，如果脚本用于document.write插入页面内容的一部分，则不能将其在页面中移至较低位置。可能还会存在范围界定问题。在许多情况下，有一些方法可以解决这些情况。 经常出现的另一种建议是使用延迟脚本。该DEFER属性指示脚本不包含document.write，并且是浏览器可以继续呈现的线索。不幸的是，Firefox不支持该DEFER属性。在Internet Explorer中，该脚本可能会被延迟，但不会达到所需的程度。如果可以推迟脚本，则也可以将其移至页面底部。这将使您的网页加载速度更快。 02) 使用外部JavaScript和CSS这些性能规则中有许多涉及如何管理外部组件。但是，在考虑这些因素之前，您应该提出一个更基本的问题：JavaScript和CSS是否应该包含在外部文件中，还是应该内联在页面本身中？ 在现实世界中使用外部文件通常会产生更快的页面，因为JavaScript和CSS文件是由浏览器缓存的。每次请求HTML文档时，都会下载HTML文档中内联的JavaScript和CSS。这减少了所需的HTTP请求的数量，但增加了HTML文档的大小。另一方面，如果JavaScript和CSS位于浏览器缓存的外部文件中，则可以在不增加HTTP请求数量的情况下减小HTML文档的大小。 那么，关键因素是相对于请求的HTML文档数量而言，缓存外部JavaScript和CSS组件的频率。尽管难以量化，但可以使用各种度量标准来衡量此因素。如果您站点上的用户每个会话具有多个页面视图，并且您的许多页面都重复使用相同的脚本和样式表，则缓存的外部文件将带来更大的潜在利益。 许多网站都属于这些指标的中间。对于这些站点，最好的解决方案通常是将JavaScript和CSS部署为外部文件。最好使用内联的唯一例外是主页，例如Yahoo!的首页和My Yahoo!。。每个会话的页面浏览量很少（也许只有一个）的主页可能会发现，内联JavaScript和CSS可以缩短最终用户的响应时间。 对于通常是许多页面视图中第一个的首页，有些技术可以利用减少内联提供的HTTP请求以及通过使用外部文件获得的缓存优势。一种这样的技术是在首页内联JavaScript和CSS，但是在页面加载完成后动态下载外部文件。后续页面将引用应该已经在浏览器缓存中的外部文件。 03) 压缩JavaScript和CSS最小化是从代码中删除不必要的字符以减小其大小，从而缩短加载时间的实践。当代码最小化时，所有注释以及不需要的空格字符（空格，换行符和制表符）都将被删除。在使用JavaScript的情况下，由于减小了下载文件的大小，因此可以提高响应时间性能。最小化JavaScript代码的两种流行工具是JSMin和YUI Compressor。YUI压缩器还可以缩小CSS。 混淆是可以应用于源代码的替代优化。它比缩小更复杂，因此由于混淆步骤本身而更容易产生错误。在对xxx十大顶级网站的调查中，缩小后的大小减少了21％，而混淆处理的大小减少了25％。尽管混淆处理的大小减小程度更高，但缩小JavaScript的风险较小。 除了最小化外部脚本和样式，内联&lt;script&gt;和&lt;style&gt;块也可以并且也应该被最小化。即使您对脚本和样式进行gzip压缩，将它们缩小也会使大小减小5％或更多。随着JavaScript和CSS的使用和大小的增加，通过减少代码量而节省的费用也将随之增加。 04) 移除重复脚本在同一页面中两次包含相同的JavaScript文件会损害性能。这并不像您想的那样不寻常。对xxx十大顶级网站的审查显示，其中两个包含重复的脚本。两个主要因素增加了在单个网页中复制脚本的几率：团队规模和脚本数量。当确实发生这种情况时，重复的脚本会通过创建不必要的HTTP请求和浪费的JavaScript执行而损害性能。 不必要的HTTP请求在Internet Explorer中发生，但在Firefox中不发生。在Internet Explorer中，如果两次包含一个外部脚本且该脚本不可缓存，则它将在页面加载期间生成两个HTTP请求。即使脚本是可缓存的，当用户重新加载页面时，也会发生额外的HTTP请求。 除了生成浪费的HTTP请求之外，还浪费了多次评估脚本的时间。无论脚本是否可缓存，这种冗余的JavaScript执行都会在Firefox和Internet Explorer中进行。 避免意外地两次包含相同脚本的一种方法是在模板系统中实现脚本管理模块。包括脚本的典型方法是在HTML页面中使用SCRIPT标记。 1&lt;script type =“ text / javascript” src =“ menu_1.0.17.js”&gt; &lt;/ script&gt; PHP中的一种替代方法是创建一个名为的函数insertScript。 1&lt;？php insertScript（“ menu.js”）？&gt; 除了防止多次插入同一脚本外，此函数还可以处理脚本的其他问题，例如依赖性检查以及向脚本文件名添加版本号以支持将来的Expires标头。 05) 减少DOM操作使用JavaScript访问DOM元素的速度很慢，因此，为了使页面更具响应性，您应该： 缓存对已访问元素的引用 更新节点“离线”，然后将其添加到树中 避免使用JavaScript修复布局 有关更多信息，请查看 Julien Lecomte的YUI剧院的 “高性能Ajax应用程序”。 06) 使用高效的事件处理开发智能事件处理程序标签：javascript 有时页面会因为响应事件处理程序的响应性降低而失败，这是因为将过多的事件处理程序附加到DOM树的不同元素上，而这些事件处理程序却经常执行。这就是为什么使用事件委托是一种很好的方法。如果a中有10个按钮div，则仅将一个事件处理程序附加到div包装器，而不是为每个按钮使用一个处理程序。事件冒泡，因此您可以捕获事件并弄清楚它来自哪个按钮。 您也无需等待onload事件即可开始对DOM树进行操作。通常，您需要的只是您要访问的元素在树中可用。您不必等待所有图像都被下载。 DOMContentLoaded是您可能考虑使用的事件，而不是onload，但是在所有浏览器中都可用之前，可以使用带有方法的YUI Event实用程序onAvailable。 有关更多信息，请查看 Julien Lecomte的YUI剧院的 “高性能Ajax应用程序”。 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"-高并发解决方案","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/高并发解决方案/高并发解决方案/","text":"QPS达到800 方案: CDN加速、负载均衡 QPS达到1000 方案: 静态HTML 缓存 QPS达到2000 方案:做业务分离、分布式存储 (这个时候文件访问锁都成为灾难) 方案处理 流量化: 防盗链处理 前端优化: 减少HTTP请求、添加一异步请求、启用浏览器缓存和文件压缩、CDN加速、简历独立图片服务器 服务端优化:页面静态化、并发处理 数据库优化: 数据库缓存、分库分表、分区操作、读写分离、负载均衡 Web服务器优化:负载均衡 流量化 — 防盗链实现方法:1nginx利用Referer头、nginx的nginx_http_accesskey_module 模块 前端优化 — 减少HTTP请求12345678HTTP连接产生的开销域名解析--&gt;TCP连接--&gt;发送请求--&gt;等待--&gt;下载资源--&gt;解析时间减少HTTP请求的方法1) 图片地图: (简单理解为一个图片上有多个链接)2) CSS精灵: (简单理解为,用css控制图片位置)3) 合并 js 和 css 脚本4) 图片使用 Base64编码减少页面请求 线程进程123单进程单线程: 一个人在一张桌子上吃饭单进程多线程: 多个人在同一张桌子上一起吃饭多进程单线程: 多个人在每个人自己的桌子上吃饭 ####","categories":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/categories/Other/"}],"tags":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/tags/Other/"},{"name":"并发","slug":"并发","permalink":"http://yoursite.com/tags/并发/"}]},{"title":"单体模式","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/js_单体模式/","text":"单体模式 单体模式12345678var Teacher = &#123; name: \"fei\", age: 18, showName: function () &#123; return this.name; &#125;&#125;;Teacher.showName(); // fei 原型模式1234567891011function Teacher(name, age) &#123; this.name = name; this.age = age;&#125;Teacher.prototype.showName = function () &#123; return this.name;&#125;;var foo = new Teacher('fei', 18);foo.showName(); // fei 伪类模式—建议使用ES612345678910111213class Teacher &#123; constructor(name, age) &#123; this.name = name; this.age = age; &#125; showName() &#123; return this.name; &#125;&#125;var foo = new Teacher('fei', 18);foo.showName(); // fei 面向对象继承12345678910111213141516171819202122232425262728// 面向对象继承 --------------------------var Teacher = &#123; name: \"fei\", age: 18, showName: function () &#123; return this.name; &#125;&#125;;var student = Object.create(Teacher);student.name = \"foo\";student.showName(); // foo// 单体方式继承 --------------------------var Teacher = &#123; name: \"fei\", age: 18, showName: function () &#123; return this.name; &#125;&#125;;var student = Object.create(Teacher);student.name = \"foo\";student.age = 20;student.showName(); // foostudent.showAge = function (age) &#123; return this.age;&#125;;student.showAge(); // 20 xxxx123456789101112131415161718192021222324class Person&#123; constructor(name, age) &#123; this.name = name; this.age = age; &#125; showName() &#123; return this.name; &#125;&#125;class Teacher extends Person &#123; constructor(name,age,job) &#123; super(name,age); this.job = job; &#125; showInfo() &#123; return this.job + \"___\" + super.showName(); &#125;&#125;var foo = new Teacher(\"fei\",18,\"WEB\");foo.showInfo(\"WEB\"); // WEB___fei 对象原型 prototypes","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"},{"name":"JavaScript","slug":"WEB/JavaScript","permalink":"http://yoursite.com/categories/WEB/JavaScript/"},{"name":"单体模式","slug":"WEB/JavaScript/单体模式","permalink":"http://yoursite.com/categories/WEB/JavaScript/单体模式/"}],"tags":[{"name":"单体模式","slug":"单体模式","permalink":"http://yoursite.com/tags/单体模式/"}]},{"title":"tcp ip","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/其他/tcp_ip_从输入到发送请求/","text":"发送消息 12345678 hello world应用层 hello world ↓传输层 tcp + hello world ↓IP层 IP + tcp + hello world ↓链路层 帧头 + IP + tcp + hello world + 帧尾","categories":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/categories/Other/"}],"tags":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/tags/Other/"}]},{"title":"fei_数据库待做","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/数据库/fei/","text":"命令格式fei_数据库待做","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"前端性能优化35条规则 yahoo -页面内容","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_01/","text":"前端性能优化35条规则 yahoo -页面内容前端性能优化35条规则 yahoo -页面内容前端性能优化35条规则 yahoo -页面内容 01) 减少HTPP请求最终用户响应时间的80％用于前端。大部分时间都与下载页面中的所有组件有关：图像，样式表，脚本，Flash等。减少组件的数量又减少了呈现页面所需的HTTP请求的数量。这是加快页面速度的关键。 减少页面中组件数量的一种方法是简化页面的设计。但是，有没有一种方法可以构建具有更丰富内容的页面，同时又可以实现快速响应时间？这里有一些减少HTTP请求数量的技术，同时仍然支持丰富的页面设计 1合并文件是一种通过将所有脚本组合成一个脚本，并类似地将所有CSS组合成一个样式表来减少HTTP请求数量的方法。当脚本和样式表在页面之间变化时，合并文件更具挑战性，但是将其作为发布过程的一部分可以缩短响应时间。 1CSS Sprites是减少图像请求数量的首选方法。将您的背景图像合并为一个图像，并使用CSSbackground-image和background-position属性显示所需的图像段 1图像映射将多个图像合并为一个图像。总体大小大致相同，但是减少HTTP请求的数量可以加快页面的速度。仅当图像在页面中是连续的（例如导航栏）时，图像映射才起作用。定义图像地图的坐标可能很乏味且容易出错。也无法使用图像地图进行导航，因此不建议使用 1内联图像使用data:URL方案将图像数据嵌入到实际页面中。这会增加HTML文档的大小。将嵌入式图像组合到您的（缓存的）样式表中是减少HTTP请求并避免增加页面大小的一种方法。所有主要浏览器尚不支持嵌入式图像 减少页面中的HTTP请求数是一个开始。这是提高初次访问者性能的最重要指南。您网站的每日访问者中有40-60％的用户拥有空的缓存。使这些初次访问者快速浏览您的页面是改善用户体验的关键 02) 减少DNS查询用户靠近您的Web服务器会影响响应时间。从用户的角度来看，跨多个地理位置分散的服务器部署您的内容将使您的页面加载速度更快。但是，您应该从哪里开始呢？ 作为实现地理上分散的内容的第一步，请不要尝试重新设计Web应用程序以使其在分布式体系结构中工作。根据应用程序的不同，更改体系结构可能包括艰巨的任务，例如同步会话状态和跨服务器位置复制数据库事务。尝试缩短用户与您的内容之间的距离的尝试可能会因此应用程序体系结构步骤而被延迟或永远不会过去。 请记住，最终用户响应时间的80-90％是花在下载页面上的所有组件上的：图像，样式表，脚本，Flash等。这是性能的黄金法则。与其从重新设计应用程序体系结构这一艰巨的任务开始，不如先分散静态内容，这是更好的选择。这不仅可以大大缩短响应时间，而且由于内容传送网络的原因，它更容易实现。 内容交付网络（CDN）是分布在多个位置的Web服务器的集合，目的是将内容更有效地交付给用户。选择用于向特定用户传送内容的服务器通常基于网络邻近性的度量。例如，选择网络跳数最少的服务器或响应时间最快的服务器。 一些大型的互联网公司拥有自己的CDN，但是使用CDN服务提供商（例如Akamai Technologies，EdgeCast或level3）具有成本效益。对于初创公司和私人网站，CDN服务的成本可能令人望而却步，但是随着您的目标受众越来越大并变得更加全球化，为了实现快速响应，CDN是必不可少的。在Yahoo!上，将静态内容从其应用程序Web服务器移至CDN（如上所述的第三方和Yahoo自己的CDN）的属性将最终用户的响应时间缩短了20％或更多。切换到CDN是相对容易的代码更改，它将显着提高网站的速度 03) 避免重定向重定向是使用301和302状态代码完成的。这是301响应中HTTP标头的示例 123HTTP/1.1 301 Moved PermanentlyLocation: http://example.com/newuriContent-Type: text/html 浏览器会自动将用户带到该Location字段中指定的URL 。重定向所需的所有信息都在标头中。响应的正文通常为空。不管它们的名字是什么，在实践中都不会高速缓存301和302响应，除非有其他标头（例如Expires或Cache-Control）表明它应该是。元刷新标记和JavaScript是将用户定向到其他URL的其他方法，但是，如果必须进行重定向，首选的技术是使用标准的3xx HTTP状态代码，主要是为了确保后退按钮可以正常工作。 要记住的主要事情是重定向会减慢用户体验。在用户和HTML文档之间插入重定向会延迟页面中的所有内容，因为无法呈现页面中的任何内容，并且只有在HTML文档到达之前，才能开始下载任何组件。 最浪费的重定向之一经常发生，并且Web开发人员通常不了解它。当URL末尾应包含一个斜杠（/）时，会发生这种情况。例如，转到http://astrology.yahoo.com/astrology会导致301响应，其中包含到http://astrology.yahoo.com/astrology/的重定向（请注意添加了斜杠）。如果使用Apache处理程序，则使用Alias或mod_rewrite或该DirectorySlash指令在Apache中进行了修复。 将旧网站连接到新网站是重定向的另一种常见用法。其他包括连接网站的不同部分并根据某些条件（浏览器类型，用户帐户类型等）指导用户。使用重定向连接两个网站很简单，几乎不需要其他编码。尽管在这些情况下使用重定向会降低开发人员的复杂性，但会降低用户体验。这种使用重定向的替代方法包括使用Alias和mod_rewrite如果两个代码路径都托管在同一服务器上。如果域名更改是使用重定向的原因，则另一种方法是结合使用Alias或来创建CNAME（DNS记录，该记录创建从一个域名指向另一个域名的别名）mod_rewrite 04) 缓存Ajax请求Ajax引用的好处之一是，它向用户提供即时反馈，因为它从后端Web服务器异步请求信息。但是，使用Ajax并不能保证用户不会在等待那些异步JavaScript和XML响应返回时挥手致意。在许多应用程序中，用户是否一直等待取决于Ajax的使用方式。例如，在基于Web的电子邮件客户端中，用户将一直等待Ajax请求的结果来查找与其搜索条件匹配的所有电子邮件。重要的是要记住，“异步”并不意味着“瞬时”。 为了提高性能，优化这些Ajax响应很重要。改善Ajax性能的最重要方法是使响应可缓存，如Add Expires或Cache-Control Header中所述。其他一些规则也适用于Ajax： Gzip组件 减少DNS查找 缩小JavaScript 避免重定向 配置ETag 让我们来看一个例子。Web 2.0电子邮件客户端可能使用Ajax下载用户的地址簿以自动完成。如果用户自从上次使用电子邮件Web应用以来没有修改过她的通讯簿，那么如果该Ajax响应可以通过将来的Expires或Cache-Control标头进行缓存，则可以从缓存中读取以前的通讯簿响应。必须告知浏览器何时使用先前缓存的通讯簿响应而不是请求新的响应。可以通过向时间戳记Ajax URL添加时间戳，以指示用户最后一次修改其地址簿的时间，例如，&amp;t=1190241612。如果自上次下载以来未修改过地址簿，则时间戳将相同，并且将从浏览器的缓存中读取地址簿，从而避免了额外的HTTP往返。如果用户修改了自己的地址簿，则时间戳会确保新的URL与缓存的响应不匹配，浏览器将请求更新的地址簿条目。 即使您的Ajax响应是动态创建的，并且可能仅适用于单个用户，它们仍然可以被缓存。这样做将使您的Web 2.0应用程序更快 05) 延迟加载您可以仔细查看您的页面，然后问自己：“最初呈现该页面绝对需要什么？”。其余的内容和组件可以等待。 JavaScript是onload事件之前和之后进行拆分的理想选择。例如，如果您具有执行拖放操作和动画的JavaScript代码和库，则这些操作可以等待，因为页面上的拖动元素是在初始渲染之后进行的。寻找后加载候选的其他地方包括隐藏的内容（用户操作后出现的内容）和首屏以下的图像。 可以帮助您完成工作的工具：YUI Image Loader允许您将图像延迟到首屏以下，而YUI Get实用程序是一种动态添加JS和CSS的简便方法。举个例子，看看Yahoo! Firebug的“ Net Panel”已打开的主页。 当性能目标与其他Web开发最佳实践保持一致时，这是很好的。在这种情况下，渐进增强的想法告诉我们，JavaScript受支持时可以改善用户体验，但是即使没有JavaScript，也必须确保页面能够正常工作。因此，在确保页面正常运行之后，可以使用一些后期加载的脚本来增强页面的性能，这些脚本可以为您提供更多的便利，例如拖放和动画 06) 预加载预加载可能看起来与后加载相反，但实际上有一个不同的目标。通过预加载组件，您可以利用浏览器空闲的时间来请求将来需要的组件（例如图像，样式和脚本）。这样，当用户访问下一页时，您可能已经在缓存中包含了大多数组件，因此页面的加载速度将大大快于用户。 实际上，预加载有几种类型： 无条件预加载-一旦onload触发，您就继续获取一些额外的组件。在google.com上查看有关如何在加载图片时请求子画面图片的示例。不需要在google.com主页上使用此图片图片，但在连续的搜索结果页面上则需要使用此图片图片。 有条件的预加载-根据用户的操作，您可以进行有根据的猜测，然后判断用户下一步的去向并相应地进行预加载。在search.yahoo.com上，您可以看到在开始在输入框中输入内容后如何请求一些额外的组件。 预期的预加载-启动重新设计之前的预加载。经过重新设计后，您通常会听到这样的消息：“新站点很酷，但是比以前慢。” 问题的部分原因可能是用户访问了具有完整缓存的旧站点，但是新站点始终是空的缓存体验。您可以通过甚至在启动重新设计之前预加载一些组件来减轻这种副作用。您的旧站点可以使用浏览器空闲时的时间，并请求新站点将使用的图像和脚本 07) 减少DOM元素数量复杂的页面意味着需要下载更多的字节，也意味着JavaScript中的DOM访问速度较慢。例如，当您想添加事件处理程序时，如果在页面上循环访问500或5000个DOM元素，则会有所不同。 大量DOM元素可能是一种征兆，即页面标记需要改进某些内容，而不必删除内容。您是否使用嵌套表进行布局？您是否&lt;div&gt;仅为了解决布局问题而投入更多资源？也许有一种更好，更语义正确的方式来进行标记。 与布局有很大的帮助是YUI CSS公用事业：grids.css可以帮助你的整体布局，fonts.css和reset.css可以帮你除掉那些浏览器的默认格式。这是一个重新开始并思考您的标记的机会，例如，&lt;div&gt;仅在语义上有意义时才使用s，而不是因为它呈现了新的一行。 只需在Firebug的控制台中键入，即可轻松测试DOM元素的数量：document.getElementsByTagName(&#39;*&#39;).length 多少个DOM元素太多？检查其他具有良好标记的相似页面。例如Yahoo! 主页是一个非常繁忙的页面，仍然少于700个元素（HTML标记）。 08) 划分内容到不同域名拆分组件使您可以最大程度地并行下载。确保您使用的域名不超过2-4个，因为DNS查询会受到影响。例如，您可以将HTML和动态内容托管在上，www.example.org 并在static1.example.org和之间拆分静态组件。static2.example.org 有关更多信息，请查看Tenni Theurer和Patty Chi撰写的“最大程度地在拼车通道中并行下载”。 09) 尽量减少iframe的使用iframe可将HTML文档插入父文档中。了解iframe的工作方式非常重要，这样才能有效地使用它们。 &lt;iframe&gt; 优点： 帮助处理缓慢的第三方内容，例如徽章和广告安全沙箱并行下载脚本&lt;iframe&gt; 缺点： 即使空白也很昂贵阻止页面加载非语义 10) 避免404错误HTTP请求非常昂贵，因此完全不需要发出HTTP请求并获得无用的响应（即404 Not Found），这会减慢用户体验，而没有任何好处。 一些站点上有有用的404s“您是不是X吗？”，这对用户体验很有用，但也浪费了服务器资源（如数据库等）。特别糟糕的是，当指向外部JavaScript的链接错误并且结果为404时。首先，此下载将阻止并行下载。接下来，浏览器可能会尝试解析404响应主体，就好像它是JavaScript代码一样，试图在其中找到可用的内容。 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"前端性能优化35条规则 yahoo -cookie","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_03/","text":"前端性能优化35条规则 yahoo -cookie前端性能优化35条规则 yahoo -cookie前端性能优化35条规则 yahoo -cookie 01) 减少Cookie的大小使用HTTP cookie的原因有多种，例如身份验证和个性化。有关cookie的信息在Web服务器和浏览器之间的HTTP标头中交换。保持Cookie的大小尽可能小很重要，以最大程度地减少对用户响应时间的影响。 有关更多信息，请查看 Tenni Theurer和Patty Chi撰写的“当Cookie崩溃时”。这项研究的主要内容： 消除不必要的Cookie 保持尽可能小的Cookie大小，以最大程度地减少对用户响应时间的影响 请注意在适当的域级别上设置Cookie，以便不影响其他子域 适当设置到期日期。较早的失效日期或没有失效日期会更快地删除Cookie，从而缩短了用户响应时间 02) 静态资源使用无Cookie域名当浏览器发出静态图像请求并与请求一起发送cookie时，服务器对这些cookie没有任何用处。因此，它们只会无缘无故地创建网络流量。您应确保使用无Cookie的请求来请求静态组件。创建一个子域并在其中托管所有静态组件。 如果您的域是www.example.org，则可以在上托管静态组件static.example.org。但是，如果您已经在顶级域example.org（而不是）上设置了cookie www.example.org，则所有的请求都 static.example.org将包含这些cookie。在这种情况下，您可以购买一个全新的域，在其中托管静态组件，并使该域保持无Cookie状态。雅虎！使用yimg.com，YouTube使用ytimg.com，Amazon使用images-amazon.com等等。 在无cookie的域上托管静态组件的另一个好处是，某些代理可能拒绝缓存cookie所请求的组件。在相关说明中，如果您想在首页上使用example.org还是www.example.org，请考虑Cookie的影响。省略www会让您别无选择，只能将cookie写入`*.example.org`，因此出于性能方面的考虑，最好使用www子域并将cookie写入该子域。 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"前端性能优化35条规则 yahoo -mobile","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo_07/","text":"前端性能优化35条规则 yahoo -mobile前端性能优化35条规则 yahoo -mobile前端性能优化35条规则 yahoo -mobile 01) 保证所有组件都小于25K此限制与以下事实有关：iPhone不会缓存大于25K的组件。请注意，这是未压缩的大小。在这里，缩小是很重要的，因为仅使用gzip可能还不够。 有关更多信息，请参阅Wayne Shea和Tenni Theurer撰写的“性能研究，第5部分：iPhone缓存能力-坚持下去”。 02) 打包内容分段文档将组件打包到一个多部分文档中就像一封带有附件的电子邮件，它可以帮助您通过一个HTTP请求获取多个组件（请记住：HTTP请求很昂贵）。使用此技术时，请首先检查用户代理是否支持它（iPhone不支持）。 其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"-HTTP 状态码","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_HTTP状态码/","text":"HTTP 状态码分类 (1**)消息,服务器收到请求,需要执行请求者继续执行操作 (2**)成功,操作被 成功接收并处理 (3**)重定向,需要进一步操作以完成请求 (4**)客户端错误,请求包含语法错误或无法完成请求 (5**)服务器错误,服务器在处理请求过程中发生了错误 消息(1**) 100 客户端应当继续发送请求 成功(2**) 200 请求成功 重定向(3**) 301 永久移动,请求的资源已被永久的移动到新URL,新的永久性的URL响应在Location域中返回 302 临时移动,客户端继续使用原有的URL 304未修改,(常见前端[ 强制缓存, 比较缓存 ]),服务器不返回任何消息体,该响应必须包含一下头信息(后面介绍) 12345678304 未修改返回的头信息: Date ETag 和/或 Content-Location Expires, Cache-Control，和/或Vary### 强制缓存, 比较缓存1、对于强制缓存，服务器通知浏览器一个缓存时间，在缓存时间内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。2、对于比较缓存，将缓存信息中的Etag和Last-Modified通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存,反之，则表示修改了，响应200状态码，返回数据。 客户端错误(4**) 400 客户端请求语法错误,服务器无法理解 401 请求要求用户的身份认证(Authorization) 403 服务器已经理解请求,但是拒绝执行 404 服务器无法根据客户端请求找到资源 414 请求URL过长,服务器无法处理 服务器错误(5**) 500 服务器内部错误(一般是服务端代码出现错误) 501 服务器不支持请求的功能 502 作为网关或者代理工作的服务器尝试执行请求时,从上游服务器接收到无效的响应 504 响应超时(作为网关或者代理的服务器,未及时从远端服务器获取请求)","categories":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/categories/HTTP/"}],"tags":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/tags/HTTP/"}]},{"title":"-anguageTerm","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/anguageTerm/","text":"专业词汇专业词汇专业词汇 前端 JavaScript CSS HTML Web WEB (分类用这个) Vue Bootstrap Ajax jQuery element-ui axios Vuex Vue Router Ant Design Vue webpack Postman v-charts ES6 Vue CLI Node npm TypeScript 数据库 MySQL Oracle Redis PHP Laravel Yii Composer Swoole Imagick Java Maven Java Tomact 系统 Linux Win CentOS Ubuntu Vagrant Docker Nginx Apache Tengine 其他 APP Android iOS Git SVN Browser Developer Hexo Markdown Other Jenkins Shipyard HTTP HTTPS 工具 WebStorm IDEA PhpStorm GitHub 中文标点 ： ； ， 。 markdown 转为 pdf 空格不生效， 使用全角空格。即：在全角输入状态下直接使用空格键就ok了 个人信息 xxx： xxx | xx：x | xx：xx | xx：xx | xx：xxx xxx：xxxx xxx：xxxx xxx：xxxx xxx：xxxx","categories":[{"name":"xxx","slug":"xxx","permalink":"http://yoursite.com/categories/xxx/"}],"tags":[{"name":"xxx","slug":"xxx","permalink":"http://yoursite.com/tags/xxx/"}]},{"title":"前端性能优化35条规则 yahoo -All","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_前端性能优化35条规则_yahoo/","text":"前端性能优化35条规则 yahoo -All前端性能优化35条规则 yahoo -All前端性能优化35条规则 yahoo -All 前端性能优化7个分类: 页面内容、 服务器、 Cookie、 CSS、 JavaScript、 图片、 移动端 一、页面内容01) 减少HTPP请求02) 减少DNS查询03) 避免重定向04) 缓存Ajax请求05) 延迟加载06) 预加载07) 减少DOM元素数量08) 划分内容到不同域名09) 尽量减少iframe的使用10) 避免404错误二、 服务器01) 使用CDN02) 添加Expires或Cache-Control响应头03) 启用Gzip04) 配置Etag05) 尽早输出(flush)缓冲06) Ajax请求尽量使用GET方法07) 避免图片src为空三、Cookie01) 减少Cookie的大小02) 静态资源使用无Cookie域名四、CSS01) 把样式表放在&lt;head&gt;中02) 避免使用CSS表达式03) 使用&lt;link&gt;替代@import04) 避免使用filter五、JavaScript01) 把脚本防止页面底部02) 使用外部JavaScript和CSS03) 压缩JavaScript和CSS04) 移除重复脚本05) 减少DOM操作06) 使用高效的事件处理六、图片01) 优化图片02) 优化CSS Sprite03) 不要在HTML中缩放图片04) 使用体积小、可缓存的favicon.ico七、移动端01) 保证所有组件都小于25K02) 打包内容分段文档其他:Yahoo Developer Network All 总则 一、页面内容 二、服务器 三、Cookie 四、CSS 五、JavaScript 六、图片 七、移动端","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"}]},{"title":"GET和POST区别","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/WEB/z_GET和POST区别/","text":"GET和POST区别GET和POST区别GET和POST区别GET和POST区别 XXX GET POST 后退按钮/刷新 无害 数据会被重新提交（浏览器应该告知用户数据会被重新提交） 书签 可收藏为书签 不可收藏为书签 缓存 能被缓存 不能缓存 编码类型 (application/x-www-form-urlencoded) (application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码) 历史 参数保留在浏览器历史中 参数不会保存在浏览器历史中 对数据长度的限制 是的。当发送数据时，GET 方法向 URL 添加数据；URL 的长度是受限制的（URL 的最大长度是 2048 个字符） 无限制 对数据类型的限制 只允许 ASCII 字符 没有限制。也允许二进制数据 安全性 与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分。在发送密码或其他敏感信息时绝不要使用 GET POST 比 GET 更安全，因为参数不会被保存在浏览器历史或 web 服务器日志中 可见性 数据在 URL 中对所有人都是可见的 数据不会显示在 URL 中 GET产生一个TCP数据包； POST产生两个TCP数据包。对于GET方式的请求，浏览器会把http header和data一并发送出去，服务器响应200（返回数据）而对于POST，浏览器先发送header，服务器响应100 continue，浏览器再发送data，服务器响应200 ok（返回数据）。 GET 对比 POST","categories":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/categories/HTTP/"}],"tags":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/tags/HTTP/"}]},{"title":"-工厂方法","date":"2015-10-03T16:00:00.000Z","path":"2015/10/04/z_interview/PHP_设计模式/index_02_工厂方法/","text":"PHP工厂方法PHP工厂方法PHP工厂方法 工厂方法定义一个创建对象的接口，让其子类自己决定实例化哪一个工厂类，工厂模式使其创建过程延迟到子类进行。 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586// 工厂方法interface db&#123; function conn();&#125;// 解决简单工厂中在扩展 其他数据库问题,// 比如新增 oracle 数据库 (开闭原则:对于修改是封闭,对于扩展是开放)interface Factory&#123; function createDB();&#125;//服务端开发(不知道将会被谁调用)class dbmysql implements db&#123; public function conn() &#123; // TODO: Implement conn() method. echo \" 连接上Mysql \"; &#125;&#125;class dbsqlite implements db&#123; public function conn() &#123; // TODO: Implement conn() method. echo \" 连接上了sqlite \"; &#125;&#125;class mysqlFactory implements Factory&#123; function createDB() &#123; // TODO: Implement createDB() method. return new dbmysql(); &#125;&#125;class sqliteFactory implements Factory&#123; function createDB() &#123; // TODO: Implement createDB() method. return new dbsqlite(); &#125;&#125;// ===== 客户端开始 ====$mysql_factory = new mysqlFactory();$mysql_create = $mysql_factory-&gt;createDB();$mysql_create-&gt;conn();$sqlite_factory = new sqliteFactory();$sqlite_create = $sqlite_factory-&gt;createDB();$sqlite_create-&gt;conn();// 新增 oracle 数据库// 现在要在服务器端添加 oracle 类class dboracle implements db&#123; function conn() &#123; // TODO: Implement conn() method. echo \"连接上 oracle 数据库\"; &#125;&#125;class oracleFactory implements Factory&#123; function createDB() &#123; // TODO: Implement createDB() method. return new dboracle(); &#125;&#125;$oracle_factory = new oracleFactory();$oracle_create = $oracle_factory-&gt;createDB();$oracle_create-&gt;conn();","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"工厂方法","slug":"工厂方法","permalink":"http://yoursite.com/tags/工厂方法/"}]},{"title":"Yii2 杂项整理","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2_杂项/","text":"Yii2 杂项整理 Yii2 杂项整理 Yii2 杂项整理111 JavaScript 引入12345678910111213&lt;?php $this-&gt;beginBlock('page_end') ?&gt;//这里写你想要的东西&lt;?php $this-&gt;endBlock() ?&gt;&lt;?php$this-&gt;registerJs($this-&gt;blocks['page_end'], \\yii\\web\\View::POS_END);?&gt; --------------------&lt;?php AppAsset::addCss($this,\"@web/js/map/fei.css\");AppAsset::addScript($this,\"@web/js/map/AmapControl.js\");?&gt; css z-index12[z-index:导致浏览器之间的显示不一样；优先于行内样式]z-index: 9999 !important; 获取登录人个人信息12Yii::$app-&gt;user-&gt;identity-&gt;usernameYii::$app-&gt;user-&gt;id Yii2的Alert组件（消息提示）12//Yii2的Alert组件（消息提示）\\Yii::$app-&gt;getSession()-&gt;setFlash('warning', \"头像设置成功！\"); 控制器中调用方法：12控制器中调用方法：Yii::$app-&gt;runAction('directory/lead-pano-hot',['panoHotProvider'=&gt;json_encode($panoHotProvider)]) 表单失去焦点验证12http://www.yii-china.com/post/detail/50.htmlhttp://www.yii-china.com/post/detail/50.html gii1234567891011121314151617181920gii生成model层【Model Generator】： Table Name： tg_project 【表名】 Model Class：Project 【类名】· Namespace backend\\modelscontroller层【Controller Generator】 Controller Class： backend\\controllers\\ProjectControllerCRUD Generator操作【CRUD Generator】 【注意重写、否则控制器不刷新】 Model Class： backend\\models\\Project Search Model Class: backend\\models\\search\\ProjectSearch Controller Class: backend\\controllers\\ProjectControllerModules层 【Module Generator】 【Modules模块使用】 Module Class ： frontend\\modules\\Admin\\admin 【注意大小写】 Module ID ： admin 【自动生成】访问路径：http://self.yii0.com/index.php?r=admin/default/index http://self.yii0.com/index.php?r=admin自动生成后注意命名空间大小写 美化 alert ;1234567891011121314151617181920美化alert https://segmentfault.com/a/1190000002638322yii中pajax的使用 http://www.kuitao8.com/20150505/3729.shtml Yii2.0 模态弹出框+ajax提交表单 【使用bootstrps也可以？？】 ( 注意问题：bootstrap2和3在模态对话框代码上是一样的，但必须引入相应的js， 必须引入&lt; script src= \"test/js/bootstrap-modal.js\" &gt;!! 否则就会黑屏 ) http://www.jb51.net/article/84802.htm 【V 注意最后ajax】 http://www.thinksaas.cn/topics/0/585/585569.html http://www.cnsecer.com/7150.html http://www.aspku.com/kaifa/php/162477.html http://www.manks.top/yii2_modal_baseuse.html http://www.manks.top/yii2_modal_baseuse.html [注意js冲突引起模态消失] -----------弹窗、模态、提示、浮层------------- yii2三级联动12http://www.yiichina.com/tutorial/468 【yii2三级联动】http://www.yiichina.com/tutorial/468 【yii2三级联动】 yii2扩展搜索站点：12http://demos.krajee.com/http://demos.krajee.com/ CKEDITOR配置（编辑器工具栏某些内容显示与否）1234567编译器：http://blog.sina.com.cn/s/blog_af8fb8650102we3a.html编译器：http://blog.sina.com.cn/s/blog_af8fb8650102we3a.htmlhttp://www.cnblogs.com/tylerdonet/archive/2013/04/27/3046170.htmlhttp://www.cnblogs.com/tylerdonet/archive/2013/04/27/3046170.html 其他12345/etc/rc.local以及/etc/init.d/etc/rc.local以及/etc/init.dhttps://www.zhihu.com/question/26635323/answer/33812516https://www.zhihu.com/question/26635323/answer/33812516 Web开发基本准则-55实录-Web访问安全12http://www.cnblogs.com/zhengyun_ustc/p/rule1.htmlhttp://www.cnblogs.com/zhengyun_ustc/p/rule1.html","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"}]},{"title":"laravel -Command","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/laravel/常用操作_console/","text":"laravel command 简单使用laravel command 简单使用laravel command 简单使用 command 简单使用12345678910111213141516171819202122232425262728php artisan make:command foo //创建文件 protected $signature = 'foo'; //命令名字 protected $description = 'foo class Command description'; //描述php artisan foo //执行,可以调用到 public function handle() 方法php artisan list #这时候执行这个可以在Available commands 中看到 foo foo class Command description //--------- demo ----- &lt;?phpnamespace App\\Console\\Commands;use Illuminate\\Console\\Command;class foo extends Command&#123; protected $signature = 'foo'; protected $description = 'foo class Command description'; public function __construct() &#123; parent::__construct(); &#125; //php artisan foo 执行这条命令 public function handle() &#123; echo \"hello foo \"; &#125;&#125; 在一个 commands 文件中执行对应的方法12345678910111213141516171819202122232425262728293031323334353637383940protected $signature = 'command &#123;foo&#125;'; //注意这里写法即可php artisan command bar //执行命令 //--------- demo ----- &lt;?phpnamespace App\\Console\\Commands;use Illuminate\\Console\\Command;class foo extends Command&#123; // protected $signature = 'foo'; protected $signature = 'command &#123;foo&#125;'; protected $description = 'foo class Command description'; public function __construct() &#123; parent::__construct(); &#125; //php artisan foo public function handle() &#123; // echo \"hello foo \"; //sb 的laravel调用对应的方法,需要用判断写 $method = $this-&gt;argument('foo'); if (method_exists($this, $method)) &#123; $this-&gt;$method(); echo \"执行完成\\n\"; &#125;else&#123; echo \"$&#123;method&#125; is not exists\\n\"; &#125; &#125; //php artisan command bar public function bar() &#123; echo \"bar\"; &#125;&#125; confirm12345if ($this-&gt;confirm(\"确认要执行吗?\")) &#123; exit(\"开始执行\");&#125;else&#123; exit('停止执行');&#125; 官方commands","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"http://yoursite.com/categories/PHP/Laravel/"}],"tags":[{"name":"Laravel","slug":"Laravel","permalink":"http://yoursite.com/tags/Laravel/"}]},{"title":"Yii2 Laravel 自定义验证","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/laravel/随笔_01/","text":"自定义验证Yii2 和 Laravel 自定义验证对比","categories":[{"name":"Yii2","slug":"Yii2","permalink":"http://yoursite.com/categories/Yii2/"},{"name":"Laravel","slug":"Yii2/Laravel","permalink":"http://yoursite.com/categories/Yii2/Laravel/"}],"tags":[{"name":"Laravel","slug":"Laravel","permalink":"http://yoursite.com/tags/Laravel/"},{"name":"Yii2","slug":"Yii2","permalink":"http://yoursite.com/tags/Yii2/"}]},{"title":"Yii2 ArrayHelp类","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2_ArrayHelp/","text":"Yii2 ArrayHelp类Yii2 ArrayHelp类Yii2 ArrayHelp类 ArrayHelper::toArray12345678910$post = User::find()-&gt;limit(2)-&gt;all();//$post = User::find()-&gt;limit(2)-&gt;asArray()-&gt;all();// echo \"&lt;pre&gt;\"; print_r($post);exit(); //输出所有字段 id,username,email......$data = ArrayHelper::toArray($post,[ 'common\\models\\User'=&gt;[ 'id', 'username' ]]);echo \"&lt;pre&gt;\"; print_r($data); //输出 id username ArrayHelper::merge12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152$array1 = [ 'name' =&gt; 'Yii', 'version' =&gt; '1.1', 'ids' =&gt; [ 1, ], 'validDomains' =&gt; [ 'example.com', 'www.example.com', ], 'emails' =&gt; [ 'admin' =&gt; 'admin@example.com', 'dev' =&gt; 'dev@example.com', ],];$array2 = [ 'version' =&gt; '2.0', 'ids' =&gt; [ 2, ], // Object that represents the replacement of // array value while performing [[ArrayHelper::merge()]]. 'validDomains' =&gt; new \\yii\\helpers\\ReplaceArrayValue([ 'yiiframework.com', 'www.yiiframework.com', ]), // Object that represents the removal of // array value while performing [[ArrayHelper::merge()]]. 'emails' =&gt; [ 'dev' =&gt; new \\yii\\helpers\\UnsetArrayValue(), ],];$result = ArrayHelper::merge($array1, $array2);输出:[ 'name' =&gt; 'Yii', 'version' =&gt; '2.0', 'ids' =&gt; [ //这里合并 1, 2, ], 'validDomains' =&gt; [ //这里替换 'yiiframework.com', 'www.yiiframework.com', ], 'emails' =&gt; [ //这里删除 'admin' =&gt; 'admin@example.com', ],] ArrayHelper::getValue用原生PHP从一个对象、数组、或者包含这两者的一个复杂数据结构中获取数据是非常繁琐的。 你首先得使用 isset 检查 key 是否存在, 然后如果存在你就获取它，如果不存在， 则提供一个默认返回值;;;;;;Yii 提供了一个非常方便的方法来做这件事：ArrayHelper::getValue 123456789101112131415161718192021222324252627class User&#123; public $name; public $name_002=\"我是name_002\";&#125;$array = [ 'foo' =&gt; [ 'bar' =&gt; new User(), 'bar_002' =&gt; new User(), ]];$value = isset($array['foo']['bar']-&gt;name) ? $array['foo']['bar']-&gt;name : null;$value002 = isset($array['foo']['bar']-&gt;name_002) ? $array['foo']['bar']-&gt;name_002 : null;var_dump($value); //输出 nullvar_dump($value002); //输出 我是name_002var_dump(ArrayHelper::getValue($array,'foo.bar.name')); //输出 nullvar_dump(ArrayHelper::getValue($array,'foo.bar.name_002')); //输出 我是name_002var_dump(ArrayHelper::getValue($array, function ($array,$defaultValue) &#123; //输出 我是name_002 return $array['foo']['bar']-&gt;name_002;&#125;));var_dump(ArrayHelper::getValue($array, 'foo.bar.name_002')); //输出 我是name_002var_dump(ArrayHelper::getValue($array, ['foo','bar','name_002'])); //输出 我是name_002 ArrayHelper::setValue覆盖初始值,如果数组中不存在则被创建 12345678$array = [ 'key' =&gt; [ 'in' =&gt; ['k' =&gt; 'value'] ]];ArrayHelper::setValue($array, 'key.in', ['arr' =&gt; 'val']);// 在 `$array` 中写入值的路径可以被指定为一个数组ArrayHelper::setValue($array, ['key', 'in'], ['arr' =&gt; 'val']); 输出12345[ 'key' =&gt; [ 'in' =&gt; ['arr' =&gt; 'val'] ]] 如果路径中包含一个不存在的键,他将被创建12345// 如果 `$array['key']['in']['arr0']` 不为空，则该值将被添加到数组中ArrayHelper::setValue($array, 'key.in.arr0.arr1', 'val');// 如果你想完全覆盖值 `$array['key']['in']['arr0']`ArrayHelper::setValue($array, 'key.in.arr0', ['arr1' =&gt; 'val']); 输出12345678[ 'key' =&gt; [ 'in' =&gt; [ 'k' =&gt; 'value', 'arr0' =&gt; ['arr1' =&gt; 'val'] ] ]] ArrayHelper::remove1234567891011121314$array = ['type' =&gt; 'A', 'options' =&gt; [1, 2]];$type = ArrayHelper::remove($array, 'type');print_r($type); //输出 A print_r($array); //输出 ['options' =&gt; [1, 2]]//note: 与 getValue 方法不同,remove 仅支持简单的键名称,否则返回原来数组//demo: $array = [ 'key' =&gt; [ 'in' =&gt; ['k' =&gt; 'value'] ]];ArrayHelper::remove($array, 'key.in');print_r($array); //返回原来数组 ArrayHelper::removeValue12345678$array = [ 'Bob' =&gt; 'Dylan', 'Michael' =&gt; 'Jackson', 'Mick' =&gt; 'Jagger', 'Janet' =&gt; 'Jackson'];ArrayHelper::removeValue($array, 'Jackson');print_r($array); //返回 ['Bob' =&gt; 'Dylan', 'Mick' =&gt; 'Jagger'] ArrayHelper::index1234567891011121314151617$array = [ ['id' =&gt; '123', 'data' =&gt; 'abc', 'device' =&gt; 'laptop'], ['id' =&gt; '345', 'data' =&gt; 'def', 'device' =&gt; 'tablet'], ['id' =&gt; '345', 'data' =&gt; 'hgi', 'device' =&gt; 'smartphone'],];$result = ArrayHelper::index($array, 'id');$result2 = ArrayHelper::index($array, function ($element) &#123; return $element['id']; //匿名函数作为key传递,返回值结果相同&#125;);print_r($result); print_r($result2); //输出[ '123' =&gt; ['id' =&gt; '123', 'data' =&gt; 'abc', 'device' =&gt; 'laptop'], '345' =&gt; ['id' =&gt; '345', 'data' =&gt; 'hgi', 'device' =&gt; 'smartphone'] // 原始数组的第二个元素由于相同的 ID 而被最后一个元素覆盖] 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354//*******避免第一种的覆盖*****$result = ArrayHelper::index($array, null, 'id'); //第一级id$result = ArrayHelper::index($array, 'device','id'); //第一级id,第二级 device//结果分别是[ '123' =&gt; [ ['id' =&gt; '123', 'data' =&gt; 'abc', 'device' =&gt; 'laptop'] ], '345' =&gt; [ // all elements with this index are present in the result array ['id' =&gt; '345', 'data' =&gt; 'def', 'device' =&gt; 'tablet'], ['id' =&gt; '345', 'data' =&gt; 'hgi', 'device' =&gt; 'smartphone'], ]]-------------------------------------------------------------------------------------- [ '123' =&gt; [ 'laptop' =&gt; [ 'abc' =&gt; ['id' =&gt; '123', 'data' =&gt; 'abc', 'device' =&gt; 'laptop'] ] ], '345' =&gt; [ 'tablet' =&gt; [ 'def' =&gt; ['id' =&gt; '345', 'data' =&gt; 'def', 'device' =&gt; 'tablet'] ], 'smartphone' =&gt; [ 'hgi' =&gt; ['id' =&gt; '345', 'data' =&gt; 'hgi', 'device' =&gt; 'smartphone'] ] ]]note: 第三个参数会增加数组的子分组多维数组$result = ArrayHelper::index($array, 'device',['id','device']); //输出[ '123' =&gt; [ 'laptop'=&gt;[ 'laptop' =&gt; [ 'abc' =&gt; ['id' =&gt; '123', 'data' =&gt; 'abc', 'device' =&gt; 'laptop'] ] ] ], '345' =&gt; [ 'tablet'=&gt;[ 'tablet' =&gt; [ 'def' =&gt; ['id' =&gt; '345', 'data' =&gt; 'def', 'device' =&gt; 'tablet'] ], ], 'smartphone'=&gt;[ 'smartphone' =&gt; [ 'hgi' =&gt; ['id' =&gt; '345', 'data' =&gt; 'hgi', 'device' =&gt; 'smartphone'] ] ] ]]; ArrayHelper::getColumn123456$data = [ ['id' =&gt; '123', 'data' =&gt; 'abc'], ['id' =&gt; '345', 'data' =&gt; 'def'],];$ids = ArrayHelper::getColumn($array, 'id'); //输出 ['123', '345']//如需要额外的转换或者取值的方法比较复杂,第二个参数可以指定一个匿名函数 ArrayHelper::map1234567891011121314151617181920212223$array = [ ['id' =&gt; '123', 'name' =&gt; 'aaa', 'class' =&gt; 'x'], ['id' =&gt; '124', 'name' =&gt; 'bbb', 'class' =&gt; 'x'], ['id' =&gt; '345', 'name' =&gt; 'ccc', 'class' =&gt; 'y'],];$result1 = ArrayHelper::map($array, 'id', 'name');$result2 = ArrayHelper::map($array, 'id', 'name', 'class');//结果分别是[ '123' =&gt; 'aaa', '124' =&gt; 'bbb', '345' =&gt; 'ccc',]------- map($array, 'id', 'name', 'class')这里面的键逆向--------------[ 'x' =&gt; [ '123' =&gt; 'aaa', '124' =&gt; 'bbb', ], 'y' =&gt; [ '345' =&gt; 'ccc', ],] ArrayHelper::keyExists 只能是一维数组12345678910$data1 = [ 'userName' =&gt; 'Alex',];$data2 = [ 'username' =&gt; 'Carsten',];var_dump(ArrayHelper::keyExists('username',$data1,true));//输出 falsevar_dump(ArrayHelper::keyExists('username',$data2,false));//输出 true ArrayHelper::multisort 多维数组排序12345678910111213$data = [ ['age' =&gt; 30, 'name' =&gt; 'Alexander'], ['age' =&gt; 30, 'name' =&gt; 'Brian'], ['age' =&gt; 19, 'name' =&gt; 'Barney'],];ArrayHelper::multisort($data,['age','name'],[SORT_ASC,SORT_DESC]);//输出, age 排序, name 排序[ ['age' =&gt; 19, 'name' =&gt; 'Barney'], ['age' =&gt; 30, 'name' =&gt; 'Brian'], ['age' =&gt; 30, 'name' =&gt; 'Alexander'],]; ArrayHelper::isIndexed ArrayHelper::isAssociative 检测数组是索引数组还是联合数组1234567// 不指定键名的数组$indexed = ['Qiang', 'Paul'];echo ArrayHelper::isIndexed($indexed); //true// 所有键名都是字符串$associative = ['framework' =&gt; 'Yii', 'version' =&gt; '2.0'];echo ArrayHelper::isAssociative($associative); //true ArrayHelper::isIn ArrayHelper::isSubset 测试阵列123456// trueArrayHelper::isIn('a', ['a']);// trueArrayHelper::isIn('a', new \\ArrayObject(['a']));// trueArrayHelper::isSubset(new \\ArrayObject(['a','c']),new \\ArrayObject(['a','b','c'])); ArrayHelper::filter 过滤1234567891011121314151617181920212223$array = [ 'A' =&gt; [1, 2], 'B' =&gt; [ 'C' =&gt; 1, 'D' =&gt; 2, ], 'E' =&gt; 1,];$result1 = ArrayHelper::filter($array,['A']);$result2 = ArrayHelper::filter($array,['A','B.C']);$result3 = ArrayHelper::filter($array,['B','!B.C']);//输出['A' =&gt; [1, 2]];//输出[ 'A' =&gt; [1, 2], 'B' =&gt; ['C' =&gt; 1]]//输出[ 'B' =&gt; ['D' =&gt; 2],] 官网 zh-cn","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"}]},{"title":"Yii2  -model层不为人知的秘密","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2_model/","text":"Yii2 -model层不为人知的秘密Yii2 -model层不为人知的秘密Yii2 -model层不为人知的秘密 属性在 PHP 中，类的成员变量也被称为属性。它们是类定义的一部分， 用来表现一个实例的状态（也就是区分类的不同实例）。 在具体实践中，常常会想用一个稍微特殊些的方法实现属性的读写 123456789101112131415161718192021222324//demo, 场景举例:有一个 int 型时间戳,需要显示为格式化的时间,每次格式化太麻烦//在 model 层中class Book extends \\yii\\db\\ActiveRecord public function getTimeText() &#123; return date('Y/m/d', $this-&gt;time); &#125; public function setTimeText($value) &#123; return $this-&gt;time = strtotime($value); &#125;&#125;//在 controller 层中class BookController extends Controller&#123; public function actionView($id) &#123; $model = Book::findOne($id); print_r($model-&gt;TimeText); //格式化的时间 print_r($model-&gt;time); //原来的 int 时间 &#125;&#125;","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"}]},{"title":"laravel 添加一个V1 接口模块 -api","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/laravel/添加接口模块API/","text":"laravel 添加一个V1 接口模块 -apilaravel 添加一个V1 接口模块 -apilaravel 添加一个V1 接口模块 -api app/Providers/RouteServiceProvider.php 中添加1234567891011121314151617181920212223242526public function map()&#123; $this-&gt;mapApiRoutes(); $this-&gt;mapWebRoutes(); $this-&gt;mapTestRoutes(); //新增接口模块&#125;//--------------------------------------protected function mapApiRoutes() //API 接口模块&#123; Route::prefix('api') //访问地址前缀 -&gt;middleware('api') //中间件 -&gt;namespace($this-&gt;namespace.'\\\\Api') //接口模块目录,命名空间 -&gt;group(base_path('routes/api.php')); //接口路由&#125;public function mapTestRoutes() //V1接口模块&#123; Route::prefix('test') //-&gt;middleware('fei') //自定义中间件 -&gt;namespace($this-&gt;namespace.'\\\\V1') -&gt;group(base_path('routes/test.php'));&#125; routes/test.php 路由1Route::get('foo', 'FooController@index'); app/Http/Controllers/V1/FooController.php 模块12345678910111213&lt;?phpnamespace App\\Http\\Controllers\\V1;use App\\Http\\Controllers\\Controller;class FooController extends Controller&#123; // 访问地址 http://demo.laravel.com/test/foo public function index() &#123; echo \"FooController foo\"; &#125;&#125; app/Http/Middleware/fei.php 自定义中间件 app/Http/Kernel.php 加载中间件1234567891011121314151617181920212223242526272829303132&lt;?php//---------- app/Http/Middleware/fei.php --------namespace App\\Http\\Middleware;use Closure;class fei&#123; public function handle($request, Closure $next) &#123; exit('使用自定义文件中间件'); return $next($request); &#125;&#125;//---------------- app/Http/Kernel.php -----protected $middlewareGroups = [ 'web' =&gt; [ \\App\\Http\\Middleware\\EncryptCookies::class, \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class, \\Illuminate\\Session\\Middleware\\StartSession::class, // \\Illuminate\\Session\\Middleware\\AuthenticateSession::class, \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class, \\App\\Http\\Middleware\\VerifyCsrfToken::class, \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class, ], 'api' =&gt; [ 'throttle:60,1', 'bindings', ], 'fei'=&gt;[ fei::class ]];","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Laravel","slug":"PHP/Laravel","permalink":"http://yoursite.com/categories/PHP/Laravel/"}],"tags":[{"name":"Laravel","slug":"Laravel","permalink":"http://yoursite.com/tags/Laravel/"}]},{"title":"Yii2 杂项整理","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2_杂项x/","text":"Yii2 杂项整理 Yii2 杂项整理 Yii2 杂项整理 JavaScript 引入12345678910111213&lt;?php $this-&gt;beginBlock('page_end') ?&gt;//这里写你想要的东西&lt;?php $this-&gt;endBlock() ?&gt;&lt;?php$this-&gt;registerJs($this-&gt;blocks['page_end'], \\yii\\web\\View::POS_END);?&gt; --------------------&lt;?php AppAsset::addCss($this,\"@web/js/map/fei.css\");AppAsset::addScript($this,\"@web/js/map/AmapControl.js\");?&gt; css z-index12[z-index:导致浏览器之间的显示不一样；优先于行内样式]z-index: 9999 !important; 获取登录人个人信息12Yii::$app-&gt;user-&gt;identity-&gt;usernameYii::$app-&gt;user-&gt;id Yii2的Alert组件（消息提示）12//Yii2的Alert组件（消息提示）\\Yii::$app-&gt;getSession()-&gt;setFlash('warning', \"头像设置成功！\"); 控制器中调用方法：12控制器中调用方法：Yii::$app-&gt;runAction('directory/lead-pano-hot',['panoHotProvider'=&gt;json_encode($panoHotProvider)]) 表单失去焦点验证12http://www.yii-china.com/post/detail/50.htmlhttp://www.yii-china.com/post/detail/50.html gii1234567891011121314151617181920gii生成model层【Model Generator】： Table Name： tg_project 【表名】 Model Class：Project 【类名】· Namespace backend\\modelscontroller层【Controller Generator】 Controller Class： backend\\controllers\\ProjectControllerCRUD Generator操作【CRUD Generator】 【注意重写、否则控制器不刷新】 Model Class： backend\\models\\Project Search Model Class: backend\\models\\search\\ProjectSearch Controller Class: backend\\controllers\\ProjectControllerModules层 【Module Generator】 【Modules模块使用】 Module Class ： frontend\\modules\\Admin\\admin 【注意大小写】 Module ID ： admin 【自动生成】访问路径：http://self.yii0.com/index.php?r=admin/default/index http://self.yii0.com/index.php?r=admin自动生成后注意命名空间大小写 美化 alert ;1234567891011121314151617181920美化alert https://segmentfault.com/a/1190000002638322yii中pajax的使用 http://www.kuitao8.com/20150505/3729.shtml Yii2.0 模态弹出框+ajax提交表单 【使用bootstrps也可以？？】 ( 注意问题：bootstrap2和3在模态对话框代码上是一样的，但必须引入相应的js， 必须引入&lt; script src= \"test/js/bootstrap-modal.js\" &gt;!! 否则就会黑屏 ) http://www.jb51.net/article/84802.htm 【V 注意最后ajax】 http://www.thinksaas.cn/topics/0/585/585569.html http://www.cnsecer.com/7150.html http://www.aspku.com/kaifa/php/162477.html http://www.manks.top/yii2_modal_baseuse.html http://www.manks.top/yii2_modal_baseuse.html [注意js冲突引起模态消失] -----------弹窗、模态、提示、浮层------------- yii2三级联动12http://www.yiichina.com/tutorial/468 【yii2三级联动】http://www.yiichina.com/tutorial/468 【yii2三级联动】 yii2扩展搜索站点：12http://demos.krajee.com/http://demos.krajee.com/ CKEDITOR配置（编辑器工具栏某些内容显示与否）1234567编译器：http://blog.sina.com.cn/s/blog_af8fb8650102we3a.html编译器：http://blog.sina.com.cn/s/blog_af8fb8650102we3a.htmlhttp://www.cnblogs.com/tylerdonet/archive/2013/04/27/3046170.htmlhttp://www.cnblogs.com/tylerdonet/archive/2013/04/27/3046170.html 其他12345/etc/rc.local以及/etc/init.d/etc/rc.local以及/etc/init.dhttps://www.zhihu.com/question/26635323/answer/33812516https://www.zhihu.com/question/26635323/answer/33812516 Web开发基本准则-55实录-Web访问安全12http://www.cnblogs.com/zhengyun_ustc/p/rule1.htmlhttp://www.cnblogs.com/zhengyun_ustc/p/rule1.html","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"}]},{"title":"YII2搭建后台并实现rbac权限控制","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2搭建后台并实现rbac权限控/","text":"YII2搭建后台并实现rbac权限控制YII2搭建后台并实现rbac权限控制YII2搭建后台并实现rbac权限控制 安装Yii2参考官网安装文档yiiframeworkyiichina 配置数据库1234567891011创建数据库： create database yii2advanced default charset utf8;修改common/config/main-local.php数据库配置 'db' =&gt; [ 'class' =&gt; 'yii\\db\\Connection', 'dsn' =&gt; 'mysql:host=localhost;dbname=yii2advanced', 'username' =&gt; 'root', 'password' =&gt; 'root', 'charset' =&gt; 'utf8', ], 使用composer安装yii2-admin1234composer require mdmsoft/yii2-admin \"~2.0\"!!!温馨提示：建议安装 1.0 版本不安装 2.0 版本!!!composer require mdmsoft/yii2-admin \"~1.0\" 配置yii2-admin运行环境123456789101112131415161718192021222324权限控制在后台，所以在 backend/config/main.php 中配置以下内容：return [ 'modules' =&gt; [ 'admin' =&gt; [ 'class' =&gt; 'mdm\\admin\\Module', 'layout' =&gt; 'left-menu',//yii2-admin的导航菜单 ] ... ], ... 'components' =&gt; [ ... 'authManager' =&gt; [ 'class' =&gt; 'yii\\rbac\\DbManager', // 使用数据库管理配置文件 ] ], 'as access' =&gt; [ 'class' =&gt; 'mdm\\admin\\components\\AccessControl', 'allowActions' =&gt; [ 'site/*',//允许访问的节点，可自行添加 'admin/*',//允许所有人访问admin节点及其子节点 ] ],]; 创建数据表123456789101112131415161718php yii migrate --migrationPath=@mdm/admin/migrations执行sql：（自带的rbac） 修改配置文件console/config/main-local.phpreturn [ 'bootstrap' =&gt; ['gii'], 'modules' =&gt; [ 'gii' =&gt; 'yii\\gii\\Module', ], 'components' =&gt; [ \"authManager\" =&gt; [ \"class\" =&gt; 'yii\\rbac\\DbManager', \"defaultRoles\" =&gt; [\"guest\"], ], ],];cd到advance目录下面执行yii migrate --migrationPath=@yii/rbac/migrations 中文显示123456789101112131415161718192021222324在 common\\config\\main.php 中配置return [ 'language' =&gt; 'zh-CN', //中文显示 'aliases' =&gt; [ '@bower' =&gt; '@vendor/bower-asset', '@npm' =&gt; '@vendor/npm-asset', ], 'vendorPath' =&gt; dirname(dirname(__DIR__)) . '/vendor', 'components' =&gt; [ 'cache' =&gt; [ 'class' =&gt; 'yii\\caching\\FileCache', ], ],];现在可以查看后台：&lt;Your domain name&gt;/index.php?r=admin/user&lt;Your domain name&gt;/index.php?r=admin&lt;Your domain name&gt;/index.php?r=admin/route&lt;Your domain name&gt;/index.php?r=admin/permission&lt;Your domain name&gt;/index.php?r=admin/menu&lt;Your domain name&gt;/index.php?r=admin/role&lt;Your domain name&gt;/index.php?r=admin/assignment 配置授权demo12345678910111213141516以一个自定义的节点books为例，节点books下共有index 图书列表，view 查看图书，create创建图书，update 更新图书，delete 删除图书这个5个节点，，可以通过gii生成这些代码。配置目标：未登录用户仅能访问index节点一般用户能访问index，view，create三个节点管理员能访问所有节点---------------------------在 backend/config/main.php 中修改配置以下内容： 'as access' =&gt; [ 'class' =&gt; 'mdm\\admin\\components\\AccessControl', 'allowActions' =&gt; [ //'site/*',//允许访问的节点，可自行添加 //'admin/*',//允许所有人访问admin节点及其子节点 \"*\"//不配置这个是访问不到gii，使用完记得修改回来，否则权限会出问题 ] ], 添加可分配权限列表在路由列表中，添加book各个节点路由由表添加至右侧可分配路由列表中，如下: 在权限列表=》新增权限，填好后提交，然后填的路由规则即可，如下： 添加角色并分配权限 分配角色手动注册用户，我这里注册admin和test进行测试。其中admin为管理员，test为一般用户 ！！！测试权限之前12345678910！！！ 测试权限之前，把这里注释掉在 backend/config/main.php 中修改配置以下内容： 'as access' =&gt; [ 'class' =&gt; 'mdm\\admin\\components\\AccessControl', 'allowActions' =&gt; [ //'site/*',//允许访问的节点，可自行添加 //'admin/*',//允许所有人访问admin节点及其子节点 //\"*\"//把这个注释掉！！！ ] ], 开始测试12345678910111213141516171819201、以管理员身份登录时，可以进行所有操作。ok2、如果不登录，在访问book首页的时候会跳转到登录页面。预期结果是未登录时能访问book首页，就是说当前系统默认不认可我们配置给未登录用户的权限。有2中办法第一种 在 backend/config/main.php 中加一行指定默认规则的代码即可，如下：'authManager'=&gt; [ 'class' =&gt; 'yii\\rbac\\DbManager', 'defaultRoles' =&gt; ['未登录用户'],//添加此行代码，指定默认规则为 '未登录用户'],或者在 backend/config/main.php 修改为： 'as access' =&gt; [ 'class' =&gt; 'mdm\\admin\\components\\AccessControl', 'allowActions' =&gt; [ //'site/*',//允许访问的节点，可自行添加 //'admin/*',//允许所有人访问admin节点及其子节点 //\"*\"//不配置这个是访问不到gii，使用完记得修改回来，否则权限会出问题 \"book/index\",//未登录用户也可以访问图书列表 ] ], …… 安装yii2 AdminLTE后台主题123composer require dmstr/yii2-adminlte-asset \"^2.1\"安装过程中可能需要输入github的token 引入主题123456789101112131415161718192021方式一：(建议使用这种方式)复制整个vendor/dmstr/yii2-adminlte-asset/example-views/yiisoft/yii2-app目录下的layouts目录和site目录到backend/views，覆盖原始文件。方式二：'components' =&gt; [ 'view' =&gt; [ 'theme' =&gt; [ 'pathMap' =&gt; [ '@app/views' =&gt; '@vendor/dmstr/yii2-adminlte-asset/example-views/yiisoft/yii2-app' ], ], ],],现在可以查看后台：&lt;Your domain name&gt;/index.php?r=admin%2Fuser！！！如果访问权限相关的路径，如/admin/route/index并不是上面看到的样式，请将配置文件中的modules数组中配置的layouts的值删掉即可。如下： 'admin' =&gt; [ 'class' =&gt; 'mdm\\admin\\Module', //'layout' =&gt; 'left-menu',//yii2-admin的导航菜单 ] 配置数据库，登录123456789101112131415161718192021222324251、修改common/config/main-local.php数据库配置 'db' =&gt; [ 'class' =&gt; 'yii\\db\\Connection', 'dsn' =&gt; 'mysql:host=localhost;dbname=yii2advanced', 'username' =&gt; 'root', 'password' =&gt; 'root', 'charset' =&gt; 'utf8', ],2、注册后台账户，登录 3、在 common\\config\\main.php 中配置return [ 'language' =&gt; 'zh-CN', //中文显示 'aliases' =&gt; [ '@bower' =&gt; '@vendor/bower-asset', '@npm' =&gt; '@vendor/npm-asset', ], 'vendorPath' =&gt; dirname(dirname(__DIR__)) . '/vendor', 'components' =&gt; [ 'cache' =&gt; [ 'class' =&gt; 'yii\\caching\\FileCache', ], ],]; 配置简短路由123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051在 backend/config/main.php文件的compontents加上下面的配置\"urlManager\" =&gt; [ //用于表明urlManager是否启用URL美化功能，在Yii1.1中称为path格式URL， // Yii2.0中改称美化。 // 默认不启用。但实际使用中，特别是产品环境，一般都会启用。 \"enablePrettyUrl\" =&gt; true, // 是否启用严格解析，如启用严格解析，要求当前请求应至少匹配1个路由规则， // 否则认为是无效路由。 // 这个选项仅在 enablePrettyUrl 启用后才有效。 \"enableStrictParsing\" =&gt; false, // 是否在URL中显示入口脚本。是对美化功能的进一步补充。 \"showScriptName\" =&gt; false, // 指定续接在URL后面的一个后缀，如 .html 之类的。仅在 enablePrettyUrl 启用时有效。 \"suffix\" =&gt; \"\", \"rules\" =&gt; [ \"&lt;controller:\\w+&gt;/&lt;id:\\d+&gt;\"=&gt;\"&lt;controller&gt;/view\", \"&lt;controller:\\w+&gt;/&lt;action:\\w+&gt;\"=&gt;\"&lt;controller&gt;/&lt;action&gt;\" ],],配置web serverApache作为服务器，在应用的目录 backend/web下面创建.htaccess文件并添加如下内容：Options +FollowSymLinksIndexIgnore */*RewriteEngine on# if a directory or a file exists, use it directlyRewriteCond %&#123;REQUEST_FILENAME&#125; !-fRewriteCond %&#123;REQUEST_FILENAME&#125; !-d# otherwise forward it to index.phpRewriteRule . index.phpnginx用户，修改server部分，如下：server &#123; listen 80; server_name yourdomain; root yourdirectory/backend/web; index index.php index.html; charset utf-8; location / &#123; index index.php; if (!-e $request_filename) &#123; rewrite ^(.*)$ /index.php/$1 last; break; &#125; &#125; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; &#125;&#125; 启动更多分配路由我们先访问路由页面 /admin/route ，尽可能的把左侧的全部选中，然后移动到右侧，并记得给当前用户分配相关的可访问权限。 添加菜单1234567891011121314访问菜单列表 admin/menu 点击添加菜单admin/menu/create按钮。&gt; 如果这个时候你没有权限访问了，需要在配置文件（backend/config/main.php）的 as access数组暂时允许当前用户访问任意权限，并在我们添加完权限的时候去掉as access的设置，切记。 'as access' =&gt; [ 'class' =&gt; 'mdm\\admin\\components\\AccessControl', 'allowActions' =&gt; [ //'site/*',//允许访问的节点，可自行添加 //'admin/*',//允许所有人访问admin节点及其子节点 \"*\"//不配置这个是访问不到gii，使用完记得修改回来，否则权限会出问题 //\"book/index\",//未登录用户也可以访问图书列表 ] ], ？？？？？？？？？父级一直添加不上？？？先手动修改数据库？？？？最后解决这个问题？？？？ 添加界面如下： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364一、例如添加一级菜单&quot;权限管理&quot;，按照如下填写：名称：权限管理父级名称：不填路由：/admin/default/index排序：1数据：暂不填写二、添加一个二级菜单&quot;角色列表&quot;，如下：名称：角色列表父级名称：权限管理路由：/admin/role/index排序：2数据：暂不填写三、添加一个二级菜单&quot;权限列表&quot;，如下：名称：权限列表父级名称：权限管理路由：/admin/permission/index排序：3数据：暂不填写四、添加一个二级菜单&quot;路由列表&quot;，如下：名称：路由列表父级名称：权限管理路由：/admin/route/index排序：4数据：暂不填写五、添加一个二级菜单&quot;规则管理&quot;，如下：名称：规则管理父级名称：权限管理路由：/admin/rule/index排序：5数据：暂不填写六、添加一个二级菜单&quot;分配用户到角色&quot;，如下：名称：分配用户到角色父级名称：权限管理路由：/admin/assignment/index排序：6数据：暂不填写七、添加一个二级菜单&quot;菜单列表&quot;，如下：名称：菜单列表父级名称：权限管理路由：/admin/menu/index排序：7数据：暂不填写八、添加一个二级菜单&quot;用户列表&quot;，如下：名称：用户列表父级名称：权限管理路由：/admin/user/index排序：8数据：暂不填写九、添加一个二级菜单&quot;图书列表&quot;，如下：名称：图书列表父级名称：权限管理路由：/book/index排序：9数据：暂不填写具体如下 左侧菜单展示12345678910111213141516171819202122232425262728293031323334修改&lt;project&gt;/backend/views/layouts/left.php文件（保证这个文件是从&lt;project&gt;/vendor/dmstr/yii2-adminlte-asset/example-views/yiisoft/yii2-app/views/layouts/left.php地方复制过来的，否则去修改源文件），添加如下代码：侧菜单上把权限的栏目加上,代码可直接复制，放置于 &lt;section class=\"sidebar\"&gt;&lt;/section&gt;标签内即可 //第一种显示方式 $callback = function($menu)&#123; return [ 'label' =&gt; $menu['name'], 'url' =&gt; [$menu['route']], 'icon' =&gt; $menu['data'], 'items' =&gt; $menu['children'] ]; &#125;; use mdm\\admin\\components\\MenuHelper; $items = MenuHelper::getAssignedMenu(Yii::$app-&gt;user-&gt;id, null, $callback, true); echo dmstr\\widgets\\Menu::widget([ 'options' =&gt; ['class' =&gt; 'sidebar-menu', 'data-widget'=&gt; 'tree'], 'items' =&gt; $items ]); //第二种显示方式 //use mdm\\admin\\components\\MenuHelper; use yii\\bootstrap\\Nav; echo Nav::widget( [ //\"encodeLabels\" =&gt; false, \"options\" =&gt; [\"class\" =&gt; \"sidebar-menu\", 'data-widget'=&gt; 'tree'], \"items\" =&gt; MenuHelper::getAssignedMenu(Yii::$app-&gt;user-&gt;id), ] ); 整合完毕后存在问题（原因是 yii2-admin 2.0版本）一、菜单小图标并控制菜单显示：我们在创建菜单的时候，没填写的”数据”一栏，我们填写 Font Awesome 从这里面选择图标，例如在品牌图标中 使用这个是 fa fa-android ；我们在 菜单“数据”一栏应该写 android，如图： 二、菜单列表中父级一直添加不上 ，父级名意图提示样式会跑到最左侧，路由意图样式会跑到最左侧（yii2-admin 版本1.0没有此问题） 解决办法： 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114一、解决父级添加不上：修改&lt;project&gt;/vendor/mdmsoft/yii2-admin/models/Menu.php中原来： public function rules() &#123; return [ [['name'], 'required'], [['parent_name'], 'in', 'range' =&gt; static::find()-&gt;select(['name'])-&gt;column(), 'message' =&gt; 'Menu \"&#123;value&#125;\" not found.'], [['parent', 'route', 'data', 'order'], 'default'], [['parent'], 'filterParent', 'when' =&gt; function() &#123; return !$this-&gt;isNewRecord; &#125;], [['order'], 'integer'], [['route'], 'in', 'range' =&gt; static::getSavedRoutes(), 'message' =&gt; 'Route \"&#123;value&#125;\" not found.'] ]; &#125; 修改后： public function rules() &#123; return [ [['name'], 'required'], [['parent_name'], 'in', 'range' =&gt; static::find()-&gt;select(['name'])-&gt;column(), 'message' =&gt; 'Menu \"&#123;value&#125;\" not found.'], [['parent', 'route', 'data', 'order'], 'default'], /*[['parent'], 'filterParent', 'when' =&gt; function() &#123; return !$this-&gt;isNewRecord; &#125;],*/ [['parent_name'], 'filterParent'],//修改此方法 [['order'], 'integer'], [['route'], 'in', 'range' =&gt; static::getSavedRoutes(), 'message' =&gt; 'Route \"&#123;value&#125;\" not found.'] ]; &#125; 原来： public function filterParent() &#123; $parent = $this-&gt;parent; $db = static::getDb(); $query = (new Query)-&gt;select(['parent']) -&gt;from(static::tableName()) -&gt;where('[[id]]=:id'); while ($parent) &#123; if ($this-&gt;id == $parent) &#123; $this-&gt;addError('parent_name', 'Loop detected.'); return; &#125; $parent = $query-&gt;params([':id' =&gt; $parent])-&gt;scalar($db); &#125; &#125; 修改后： public function filterParent() &#123; //修改此方法 $value = $this-&gt;parent_name; $parent = self::findOne(['name' =&gt; $value]); if ($parent) &#123; $id = $this-&gt;id; $parent_id = $parent-&gt;id; while ($parent) &#123; if ($parent-&gt;id == $id) &#123; $this-&gt;addError('parent_name', 'Loop detected.'); return; &#125; $parent = $parent-&gt;menuParent; &#125; $this-&gt;parent = $parent_id; &#125; &#125; 二、解决意图提示样式下载 yiisoft/yii2-juiphp composer.phar require --prefer-dist yiisoft/yii2-jui现在已经可以上试试效果，完全没有问题，如果不想用form中原来的书写方式可以按下面的办法；修改 &lt;project&gt;/vendor/mdmsoft/yii2-admin/views/menu/_form.php中parent_name和route表单：修改之前： &lt;?= $form-&gt;field($model, 'parent_name')-&gt;textInput(['id' =&gt; 'parent_name']) ?&gt; &lt;?= $form-&gt;field($model, 'route')-&gt;textInput(['id' =&gt; 'route']) ?&gt;修改之后： &lt;?= $form-&gt;field($model, 'parent_name')-&gt;widget('yii\\jui\\AutoComplete',[ 'options'=&gt;['class'=&gt;'form-control'], 'clientOptions'=&gt;[ 'source'=&gt; Menu::find()-&gt;select(['name'])-&gt;column() ] ]) ?&gt; &lt;?= $form-&gt;field($model, 'route')-&gt;widget('yii\\jui\\AutoComplete',[ 'options'=&gt;['class'=&gt;'form-control'], 'clientOptions'=&gt;[ 'source'=&gt; Menu::getSavedRoutes() ] ]) ?&gt;三、在 &lt;project&gt;/vendor/mdmsoft/yii2-admin/views/role/_form.php 同样会有样式问题，按照二的步骤修改即可 使用到的时候再改就可以。 修改后的： &lt;?= $form-&gt;field($model, 'ruleName')-&gt;widget('yii\\jui\\AutoComplete', [ 'options' =&gt; [ 'class' =&gt; 'form-control', ], 'clientOptions' =&gt; [ 'source' =&gt; array_keys(Yii::$app-&gt;authManager-&gt;getRules()), ] ]) ?&gt;","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"},{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"}]},{"title":"win -Yii2 添加扩展","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/yii2_composer_vendor/","text":"win -Yii2 添加扩展win -Yii2 添加扩展win -Yii2 添加扩展 安装完 Yii2 没有vendor目录12在 yii 跟目录下执行,首次添加最新扩展包composer update 添加 redis 扩展1234567891011121314在根目录执行 composer require yiisoft/yii2-redis 这时在 composer.json 中会自动添加 yiisoft/yii2-redis\": \"^2.0\" 在 vendor/yiisoft/extension.php 中会自动添加'yiisoft/yii2-redis' =&gt; array( 'name' =&gt; 'yiisoft/yii2-redis', 'version' =&gt; '2.0.9.0', 'alias' =&gt; array( '@yii/redis' =&gt; $vendorDir . '/yiisoft/yii2-redis/src', ), ), !!!添加 redis 扩展021234567891011在composer.json 文件中添加 redis扩展 \"yiisoft/yii2-redis\": \"~2.0.0\"\"require\": &#123; \"php\": \"&gt;=5.4.0\", \"yiisoft/yii2\": \"~2.0.6\", \"yiisoft/yii2-bootstrap\": \"~2.0.0\", \"yiisoft/yii2-swiftmailer\": \"~2.0.0 || ~2.1.0\", \"yiisoft/yii2-redis\": \"~2.0.0\"&#125;,然后在根目录执行 composer update,这时候会自动升级 composer.lock 文件,redis 扩展添加成功,[ !!!这种方法会自动升级扩展!!! ] !!! install , update , require添加一个新的扩展包建议使用 composer require 另外2个会更新所有扩展到最新版本 composer install 命令从当前目录读取 composer.json 文件，处理了依赖关系，并把其安装到 vendor 目录下。如果当前目录下存在 composer.lock 文件，它会从此文件读取依赖版本，而不是根据 composer.json 文件去获取依赖。这确保了该库的每个使用者都能得到相同的依赖版本。如果没有 composer.lock 文件，composer 将在处理完依赖关系后创建它. composer update 为了获取依赖的最新版本，并且升级 composer.lock 文件，你应该使用 update 命令。 扩展扩展: 这里配置 reids 后,使用 phpstorm 写代码的时候,redis是没有提示的,比如 Yii::$app-&gt;redis-&gt;set(“hello”,”world”);,这里的reids在phpstorm中是跟踪不到的,解决这个问题,在 \\vendor\\yiisoft\\yii2\\base\\Application.php 中的上面注释中添加如下: @property \\yii\\redis\\Connection $redis 这样 phpstorm 就可以跟踪代码,并且 Yii::$app-&gt;redis-&gt;set(“hello”,”world”); 这个set 也会有提示; 扩展02 view 层 render 提示12# 一般情况下 view 层这个是没有提示的, 在页面的上面添加 /* @var $this \\yii\\web\\View */&lt;?= $this-&gt;render('footer/_about'); ?&gt; 移除扩展包1composer remove yiisoft/yii2-redis 官方解释 https://docs.phpcomposer.com/03-cli.html#init https://docs.phpcomposer.com/03-cli.html#init","categories":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/categories/Win/"},{"name":"Yii","slug":"Win/Yii","permalink":"http://yoursite.com/categories/Win/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"},{"name":"Win","slug":"Win","permalink":"http://yoursite.com/tags/Win/"}]},{"title":"Yii2  -console层不为人知的秘密","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2_常用操作/","text":"Yii2 -console层不为人知的秘密Yii2 -console层不为人知的秘密Yii2 -console层不为人知的秘密 console1php yii web-fei-server/bind #WebFeiServerController/actionBind() []:","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"}]},{"title":"-Yii2 验证器  -不为人知的秘密","date":"2015-09-03T16:00:00.000Z","path":"2015/09/04/Yii2/Yii2_validators/","text":"-Yii2 验证器 -不为人知的秘密-Yii2 验证器 -不为人知的秘密-Yii2 验证器 -不为人知的秘密 required : 必须值验证属性12[['字段名'],required,'requiredValue'=&gt;'必填值','message'=&gt;'提示信息'];#说明:CRequiredValidator 的别名, 确保了特性不为空. 指定场景1[['title', 'content'], 'required', 'on' =&gt; ['create', 'update']], email : 邮箱验证12['email', 'email'];#说明:CEmailValidator的别名,确保了特性的值是一个有效的电邮地址. match : 正则验证1234[['字段名'],match,'pattern'=&gt;'正则表达式','message'=&gt;'提示信息']; [['字段名'],'match','pattern'=&gt;'/^[1-9]d*|0$/','message'=&gt;'必须为正整数'];[['字段名'],match,'not'=&gt;ture,'pattern'=&gt;'正则表达式','message'=&gt;'提示信息'];/*正则取反*/ #说明:CRegularExpressionValidator 的别名, 确保了特性匹配一个正则表达式. safe : 安全1['description', 'safe']; compare : 比较123['age', 'compare', 'compareValue' =&gt; 30, 'operator' =&gt; '&gt;='];#说明:compareValue(比较常量值) - operator(比较操作符) #说明:CCompareValidator 的别名,确保了特性的值等于另一个特性或常量. default : 默认值12['age', 'default', 'value' =&gt; null];#说明:CDefaultValueValidator 的别名, 为特性指派了一个默认值. file : 文件12['primaryImage', 'file', 'extensions' =&gt; ['png', 'jpg', 'gif'], 'maxSize' =&gt; 1024*1024*1024]; #说明:CFileValidator 的别名, 确保了特性包含了一个上传文件的名称. filter : 滤镜12[['username', 'email'], 'filter', 'filter' =&gt; 'trim', 'skipOnArray' =&gt; true]; #说明:CFilterValidator 的别名, 使用一个filter转换属性. in : 范围12['level', 'in', 'range' =&gt; [1, 2, 3]]; #说明:CRangeValidator 的别名,确保了特性出现在一个预订的值列表里. unique : 唯一性12['username', 'unique'] #说明:CUniqueValidator 的别名,确保了特性在数据表字段中是唯一的. integer : 整数1['age', 'integer']; number : 数字1['salary', 'number']; double : 双精度浮点型1['salary', 'double']; date : 日期1[['from', 'to'], 'date']; string : 字符串1['username', 'string', 'length' =&gt; [4, 24]]; boolean : 是否为一个布尔值12['字段名', 'boolean', 'trueValue' =&gt; true, 'falseValue' =&gt; false, 'strict' =&gt; true]; #说明:CBooleanValidator 的别名 when条件：1['name2', 'required', 'when' =&gt; function ($model) &#123; return empty($model-&gt;name1);&#125;],#说明: 行内验证器–123456789101112131415161718 // password is validated by foo() ['password', 'foo'] public function foo()&#123; $this-&gt;addError('password', '调用这个方法了.'); &#125;----------------['password', 'validatePassword'],public function validatePassword()&#123; $user = User::findByUsername($this-&gt;username); if (!$user || !$user-&gt;validatePassword($this-&gt;password)) &#123; $this-&gt;addError('password', 'Incorrect username or password.'); &#125;&#125; 核心验证器 en 核心验证器 zh-cn 输入验证","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Yii","slug":"PHP/Yii","permalink":"http://yoursite.com/categories/PHP/Yii/"}],"tags":[{"name":"Yii","slug":"Yii","permalink":"http://yoursite.com/tags/Yii/"}]},{"title":"JavaScript_常见使用_04","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_常见使用_04/","text":"JavaScript常用使用_0 JavaScript常用使用_404 JavaScript常用使用_04 超链接a标签调用js方法 123456&lt;a href=\"javascript:fei('https://github.com')\"&gt;&lt;/a&gt;&lt;script&gt; function fei(params) &#123; console.log(params); &#125;&lt;/script&gt; map数组中值类型转换JS 数组中String类型转为Number 1234// 字符数组转数字数组let strArr = [\"1\", \"2\", \"3\"];let numArr = strArr.map(Number)console.log(numArr) JS 数组中Number类型转为String 12345// number数组转为string数组let numArr1 = [1, 2, 3]let strArr1 = numArr1.map(String)console.log(strArr1)","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"win -Yii2 镜像源 Composer","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/win/composer/","text":"win -Yii2 镜像源 Composerwin -Yii2 镜像源 Composerwin -Yii2 镜像源 Composer 查看composer 全局设置1234composer config -glcomposer 镜像源配置文件:C:\\Users\\Administrator\\AppData\\Roaming\\Composer\\config.json 修改镜像源1234国内镜像composer config -g repo.packagist composer https://packagist.phpcomposer.com国际镜像composer config -g repo.packagist composer https://packagist.org","categories":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/categories/Win/"}],"tags":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/tags/Win/"}]},{"title":"linux-DDU  -git基本使用","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/win/git_01/","text":"Git基本使用Git基本使用Git基本使用 Git基本使用git常用分支：master主分支、dev开发分支、bug分支、feature临时功能分支 origin：默认远程分支； 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748初始化一个Git仓库，使用git init命令。git add &lt;file&gt; 注意，可反复多次使用，添加多个文件【 git add .】【git commit readme.md -m\"readme备注信息\"】git commit 完成。 git commit -m\"备注\"git status 掌握工作区的状态git diff 可以查看修改内容。git reset --hard commit_id 在版本的历史之间穿梭### git reset --hard 远程覆盖本地### git pull origin dev 从dev分支获取最新提交git log （git log --pretty=oneline）可以查看提交历史git log --oneline #查看简洁历史git reflog 查看命令历史git checkout -- file 把文件在工作区的修改全部撤销 命令中的--很重要git rm 用于删除一个文件git remote add origin git@server-name:path/repo-name.git 要关联一个远程库，使用命令git push -u origin master 关联后，使用命令git push -u origin master第一次推送master分支的所有内容git clone 克隆一个仓库git clone -b name(分支名称) 克隆一个分支仓库////////分支修改后，分支提交了，切换到master后才会看不到内容，分支不提交，master可以看到修改内容///////git branch 查看分支git branch &lt;name&gt; 创建分支git checkout &lt;name&gt; 切换分支git checkout -b &lt;name&gt; 创建+切换分支git merge &lt;name&gt; 合并某分支到当前分支 git branch -d &lt;name&gt; 删除分支git branch -D &lt;name&gt; 强行删除分支（不需要合并）git log --graph 看到分支合并图git merge --no-ff -m \"merge with no-ff\" dev 加上--no-ff参数就可以用普通模式合并git stash 储藏git stash list git stash pop 恢复储藏并删除储藏git fetch origin master 获取远程分支到本地git merge origin/master 合并到本地仓库git pull 获取最新提交【git pull = git fetch + git merge】git tag &lt;name&gt; 用于新建一个标签，默认为HEAD，也可以指定一个commit idgit tag &lt;name&gt; &lt;commit id&gt; 新建一个标签在commit id上git tag -a &lt;tagname&gt; -m \"blablabla...\" 可以指定标签信息git tag -s &lt;tagname&gt; -m \"blablabla...\" 可以用PGP签名标签git tag 可以查看所有标签git push origin &lt;tagname&gt; 可以推送一个本地标签git push origin --tags 可以推送全部未推送过的本地标签git tag -d &lt;tagname&gt; 可以删除一个本地标签git push origin :refs/tags/&lt;tagname&gt; 可以删除一个远程标签git ls-files 如何知道目录里的文件是否在git仓库里 设置提交用户名本项目用户名修改的文件位置为 项目名称/.git/config 12git config user.name \"dafei\"git config user.email \"123333333@qq.com\" 全局用户名12git config --global user.name \"dafei\"git config --global user.email \"123333333@qq.com\" 查看用户名12git config user.namegit config user.email 回滚代码4 个时期回滚代码 在工作区的代码12git checkout 文件名 #丢弃某个文件git checkout . #丢弃全部[ 注意有个点 ] 添加到缓存区的代码回滚12git add 到了缓存区，没有git commit -mgit reset HEAD #从缓存区回滚[ 仅仅改变缓存区,工作区不变也不会丢 ] 提交到本地分支没有推送远端[ git reset 三种模式 ]git reset –mixed : 代码回到工作区 [ 默认这种模式 ]git reset –soft: 代码回到缓存区git reset –hard: 代码丢掉 1234567git commit -m 到本地分支，没有git push 远端git log --oneline #查看版本信息,版本号git reset --hard 版本号 #回到想要的版本 [ 这个版本之后的提交信息和数据都会丢掉 ]git reset --hard HEAD^ #回到上一个版本提交 [ 这个版本之后的提交信息和数据都会丢掉 ]git reset --soft HEAD^ #回到上一个版本提交[ 回都上一个版本的缓存区, 这个版本之后的提交信息和数据都会丢掉 ]git reset HEAD^ #此时代码保留，回到git add操作之前[表示需要重新add] [ 使用了默认参数--mixed]git reset --mixed HEAD^ #效果同上一条命令[ git reset HEAD^ ] 远端仓库代码回滚这种回滚有点麻烦, 有2中方式 1234567891001)先把本地代码还原到指定版本,然后强制推送git reset --hard 版本号 git push --force #[ 本地版本比远程版本低,加上--force这个参数就可以强制推送到远程 ]02) 备份当前分支到新分支,先把本地代码还原到指定版本,然后删除远程仓库,用回退的代码推送到远程git branch backup_备份 #备份当前分支到新分支git push origin backup_备份 #把新分支推送到远程git reset --hard 版本号 #把本地代码还原到指定版本git push origin --delete 远程分支 #删除远程分支git push origin 本地回退分支上代码 #把本地回退分支上代码推送到远程 Git 下载git Download 国内镜像git 官方下载","categories":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"}]},{"title":"other JavaScript","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/other_JavaScript/","text":"暂无介绍 event.target.value 获取当前点击事件的值123456&lt;input type=\"button\" value=\"123\" onclick=\"foo(event.target.value)\"&gt;&lt;script&gt; const foo = function (val) &#123; console.log(val); // 123 &#125;;&lt;/script&gt; 高阶函数 filter map reduce12345678910111213141516171819202122232425// 高阶函数 filter map reduce 用es6语法// 过滤小于20的值,返回布尔值 true 或者 false// 循环数组中的每一个元素//接受一个函数作为参数，这个函数作为一个累加器，从左到右遍历整个类型数组，最后返回一个单一的值const nums = [10, 15, 18, 25, 34];let newNums = nums.filter(item =&gt; item &lt; 20) .map(item2 =&gt; item2 * 2) .reduce((total, item3) =&gt; total + item3); //--------------------const nums = [10, 15, 18, 25, 34];let newNum_1 = nums.filter(function (item1) &#123; return item1 &lt; 20;&#125;);console.log(newNum_1); // [10, 15, 18]let newNum_2 = newNum_1.map(function (item2) &#123; return item2 * 2;&#125;);console.log(newNum_2); // [20, 30, 36]let newNum_3 = newNum_2.reduce(function (total, item3) &#123; return total + item3;&#125;)console.log(newNum_3); // 86 map,获取对象中某个属性的所有值ES61234567let obj = [ &#123;name: \"daFei\", age: \"18\", hobby: \"JavaScript\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"HTML\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"CSS\"&#125;,];let arr = obj.map(item =&gt; item.hobby);console.log(arr); // 输出 [\"JavaScript\", \"HTML\", \"CSS\"] map,保留原数组修改数据1234567891011121314151617181920212223let arr = [ &#123;name: \"daFei\", age: \"18\", hobby: \"JavaScript\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"HTML\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"CSS\"&#125;,];let arrNew = arr.map(item =&gt; &#123; item.hobby = item.hobby + \"__修改\"; return item;&#125;);console.log(arr, arrNew);let brr = [ &#123;name: \"daFei\", age: \"18\", hobby: \"JavaScript\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"HTML\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"CSS\"&#125;,];let brrNew = brr.map(item =&gt; &#123; item = &#123;...item, hobby: item.hobby + \"__不改原数组\"&#125;; return item;&#125;);console.log(brr, brrNew); fill,填充数组123456const item = &#123; date: '2016-05-02', name: 'daFei', address: '北京',&#125;Array(20).fill(item) findIndex,数组中查找位置1234// 查找数组中某一元素的位置let test = \"a\";let foo = [\"a\", \"b\", \"c\"].findIndex((item) =&gt; item === test)console.log(foo);","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-Webpack 优化","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/z_webpack_优化/","text":"Webpack 优化Webpack优化待续 … Webpack具有四个核心的概念，分别是Entry（入口）、Output（输出）、loader和Plugins 核心概念： 入口(entry) 输出(output) loader 插件(plugin) 模式(mode) 浏览器兼容性(browser compatibility) 环境(environment) ！优化配置总结大纲 开发环境优化 优化打包构建速度 HRM 优化代码调试 source-map 生产环境性能优化 优化打包构建速度 oneOf 对babel缓存 多进程打包 externals使用cdn dll使用独立打包 优化代码运行的性能 资源缓存（contenthash） tree shaking code split：分为单入口和多入口 js懒加载和预加载 PWA离线访问 简单demo12345这里是一个简单的webpack demo入口,出口,打包后结果ok, htmlwebpackPlugin(打包后自动生成html首页)webpack-dev 自动刷新()---webpack-dev-serveclean-webpack-plugin 自动删除原来的打包文件重新生成新的bable 语法转化(支持各种浏览器--兼容性) 项目中@WebStorm 处理Vue项目中 @/utils有下划线解决Vue项目中import xxx from &#39;@/utils&#39; 符号下有灰色波浪线的问题 在 WebStorm —&gt;Settings—&gt; languagges &amp; Frameworks —&gt;Webpack 然后选择 Automatically 或者 Manually 官方文档","categories":[{"name":"Webpack","slug":"Webpack","permalink":"http://yoursite.com/categories/Webpack/"}],"tags":[{"name":"优化","slug":"优化","permalink":"http://yoursite.com/tags/优化/"},{"name":"Webpack","slug":"Webpack","permalink":"http://yoursite.com/tags/Webpack/"}]},{"title":"call apply bind 的用法以及区别","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/z_JavaScript_call_apply_bind/","text":"call apply bind 的用法以及区别call apply bind 的用法以及区别call apply bind 的用法以及区别 相同之处: 改变函数体内this的指向 不同之处: call、apply的区别：接受参数的方式不一样。 bind：不立即执行。而apply、call 立即执行。 改变this指向123456789101112131415161718192021function Book(name)&#123; this.name = name;&#125;Book.prototype = &#123; constructor: Book, showName: function () &#123; console.log(this.name); &#125;&#125;;var Book = new Book('论语');Book.showName(); // 输出: 论语var news = &#123; name: '人民日报'&#125;;// 输出: 人民日报Book.showName.call(news);Book.showName.apply(news);Book.showName.bind(news)(); // 不会立即执行，需要调用 接受参数不一样1234567891011121314151617181920212223Math.min.apply(Math, [1,5,9,3,5,7]);Math.min.call(Math, 1,5,9,3,5,7);// .call() 和 .apply() 的区别？ // 主要是 第二个参数不一样, // demo: 实现继承(最常见的使用)function Product(name, author) &#123; this.name = name; this.author = author;&#125;function book(name, author) &#123; Product.call(this, name, author); // 英文: 打电话 this.category = 'book';&#125;function book22(name, author) &#123; Product.apply(this, [name, author]); // array 数组 this.category = 'book22';&#125;console.log(new book('论语', \"孔子\")); // &#123;name: \"论语\", author: \"孔子\", category: \"book\"&#125;console.log(new book22('史记', \"司马迁\")); // &#123;name: \"史记\", author: \"司马迁\", category: \"book22\"&#125; Function.prototype.call()Function.prototype.apply()Function.prototype.bind()","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-JavaScript 优化","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/z_JavaScript_优化/","text":"JavaScript 优化JavaScript 优化待续 … 其他CSS 优化","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"优化","slug":"优化","permalink":"http://yoursite.com/tags/优化/"}]},{"title":"添加ssh key 到 GitHub","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/win/git_github/","text":"添加ssh key 到 GitHub添加ssh key 到 GitHub添加ssh key 到 GitHub 检查本机是否有ssh设置123$ cd ~/.ssh$ lsknown_hosts #显示这个说明没有ssh 生成ssh123ssh-keygen -t rsa -C \"xxx@@qq.com\" #使用自己的邮箱账号(随便一个就可以)#然后一路回车#最后 id_rsa.pub 这个文件就是我们这次需要的 添加到GitHub将上面生成的 id_rsa.pub 内容添加到 GitHub 上 右上角头像三角—&gt;Settings—&gt;SSH and GPG keys—&gt;New SSH key 测试1234ssh -T git@github.com#出现下面这句话说明成功了Hi xxx! You've successfully authenticated, but GitHub does not provide shell access.","categories":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"},{"name":"GitHub","slug":"GitHub","permalink":"http://yoursite.com/tags/GitHub/"}]},{"title":"异步微任务与宏任务","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/js_异步微任务与宏任务_promise/","text":"JavaScript是单线程执行的,JavaScript中的任务按顺序一个一个的执行，但是一个任务耗时太长;那么后面的任务就需要等待,为了解决这种情况,将任务分为了同步任务和异步任务；而异步任务又可以分为微任务和宏任务。 主线程从”任务队列”中读取事件，这个过程是循环不断的，所以整个的这种运行机制又称为 Event Loop（事件循环） 执行顺序总则主进程—&gt;微任务–&gt;宏任务 [ 依次循环 ] 1234567// 微任务:process.nextTickPromise的then方法 [ 注意是then 方法 ] ***************// 宏任务: ( script 脚本的执行 )setTimeoutsetInterval 12345601) JS中用来存储待执行回调的队列包含2个不同特定的队列02) 宏队列: 用来保存待执行的宏任务(回调),比如: 定时器/DOM事件回调/ajax回调03) 微队列: 用来保存待执行的微任务(回调),比如: promise的回调/MutationObserver 的回调04) JS 执行时会区别这2个队列 04-1) JS引擎首先必须先执行所有的初始化同步代码 04-2) 每次准备取出第一个宏任务执行前,都要将所有的微任务一个一个取出来执行 执行顺序 setTimeoutsetTimeout 可以返回一个 ID(数字),可以将这个ID传递给 clearTimeout() 来取消执行 [ 不是这次研究的重点] 12345678910111213141516console.log('daFei start');setTimeout(function() &#123; console.log('setTimeout_1');&#125;, 1000);setTimeout(function() &#123; console.log('setTimeout_0');&#125;, 0);console.log('daFei end');// 输出结果// daFei start// daFei end// setTimeout_0// setTimeout_1 执行顺序 Promise1234567891011121314151617new Promise(function (resolve, reject) &#123; console.log(\"第一次执行___1111\"); resolve(\"返回结果给第一个then___2222\");&#125;).then(function (value_1) &#123; console.log(value_1); return \"返回结果给下一个then___3333\";&#125;).then(function (value_2) &#123; console.log(value_2); throw \"剖出异常__catch捕获\";&#125;).catch(function (err) &#123; console.log(err);&#125;);// 第一次执行___1111// 返回结果给第一个then___2222// 返回结果给下一个then___3333// 剖出异常__catch捕获 执行顺序 setTimeout 和 Promise123456789101112131415161718192021console.log('---1');setTimeout(function () &#123; console.log('---5');&#125;, 0);new Promise(function (resolve, reject) &#123; console.log(\"同步执行 ---2\"); resolve(\"返回结果给第一个then\");&#125;).then(function (value_1) &#123; console.log(value_1, \"---4\");&#125;)console.log('---3');// 结果; 1,2,3,4,5// ---1// 同步执行 ---2// ---3// 返回结果给第一个then ---4// ---5 执行顺序demo12345678910111213141516171819202122setTimeout(() =&gt; &#123; // 立即放入宏队列 console.log(\"timeout callBack1()---3\");&#125;, 0);setTimeout(() =&gt; &#123; // 立即放入宏队列 console.log(\"timeout callBack2()---4\");&#125;, 0);Promise.resolve(1).then( // 立即放入微队列 value =&gt; &#123; console.log(\"Promise onResolved1()---1\", value); &#125;);Promise.resolve(2).then( // 立即放入微队列 value =&gt; &#123; console.log(\"Promise onResolved2()---2\", value); &#125;);// 结果; 1,2,3,4// Promise onResolved1()---1 1// Promise onResolved2()---2 2// timeout callBack1()---3// timeout callBack2()---4 执行顺序demo2123456789101112131415161718192021222324252627setTimeout(() =&gt; &#123; // 立即放入宏队列 console.log(\"timeout callBack1()---3\"); Promise.resolve(4).then( // 立即放入微队列 ******************** value =&gt; &#123; console.log(\"Promise onResolved3()---4\", value); &#125; );&#125;, 0);setTimeout(() =&gt; &#123; // 立即放入宏队列 console.log(\"timeout callBack2()---5\");&#125;, 0);Promise.resolve(1).then( // 立即放入微队列 value =&gt; &#123; console.log(\"Promise onResolved1()---1\", value); &#125;);Promise.resolve(2).then( // 立即放入微队列 value =&gt; &#123; console.log(\"Promise onResolved2()---2\", value); &#125;);// 结果; 1,2,3,4,5// Promise onResolved1()---1 1// Promise onResolved2()---2 2// timeout callBack1()---3// Promise onResolved3()---4 4// timeout callBack2()---5 执行顺序demo31234567891011121314151617setTimeout(() =&gt; &#123; console.log(\"---4\");&#125;, 0);Promise.resolve().then(() =&gt; &#123; console.log(\"---2\");&#125;);Promise.resolve().then(() =&gt; &#123; console.log(\"---3\");&#125;);console.log(\"---1\");// 结果; 1,2,3,4// ---1// ---2// ---3// ---4 执行顺序demo4123456789101112131415161718setTimeout(() =&gt; &#123; console.log(\"---5\");&#125;, 0);new Promise((resolve) =&gt; &#123; console.log(\"---1\"); resolve();// *******************&#125;).then(() =&gt; &#123; console.log(\"---3\");&#125;).then(() =&gt; &#123; console.log(\"---4\");&#125;);console.log(\"---2\");// 结果; 1,2,3,4,5// ---1// ---2// ---3// ---4// ---5 执行顺序demo512345678910111213141516171819202122232425262728const first = () =&gt; (new Promise((resolve, reject) =&gt; &#123; console.log(\"---1\"); let p = new Promise((resolve, reject) =&gt; &#123; console.log(\"---2\"); setTimeout(() =&gt; &#123; console.log(\"---6\"); resolve(7);//[这个值不会输出] 状态只能改变一次, 在 resolve(4) 已经改变了一次 &#125;, 0); resolve(4);// 改变p的状态 &#125;); resolve(5); // 改变first 的状态 p.then((arg) =&gt; &#123; console.log(\"---4\",arg); &#125;);&#125;));first().then((arg) =&gt; &#123; console.log(\"---5\",arg);&#125;);console.log(\"---3\");// 结果; 1,2,3,4,5,6// ---1// ---2// ---3// ---4 4// ---5 5// ---6 执行顺序demo6123456789101112131415161718192021222324252627282930313233343536setTimeout(() =&gt; &#123; console.log(\"---9\");&#125;, 0);new Promise((resolve, reject) =&gt; &#123; console.log(\"---1\"); resolve();&#125;).then(() =&gt; &#123; console.log(\"---3\"); new Promise((resolve, reject) =&gt; &#123; console.log(\"---4\"); resolve(); &#125;).then(() =&gt; &#123; console.log(\"---6\"); &#125;).then(() =&gt; &#123; console.log(\"---8\"); &#125;)&#125;).then(() =&gt; &#123; console.log(\"---7\");&#125;);new Promise((resolve, reject) =&gt; &#123; console.log(\"---2\"); resolve();&#125;).then(() =&gt; &#123; console.log(\"---5\");&#125;);// 结果; 1,2,3,4,5,6,7,8,9// ---1// ---2// ---3// ---4// ---5// ---6// ---7// ---8// ---9 setTimeout 对微任务和宏任务的执行顺序的个人理解 JS事件循环机制(event loop)之宏任务/微任务 其他Promise 和catchcatch之后,then还会继续执行 1234567891011new Promise((resolve) =&gt; &#123; console.log(\"---1\"); resolve();// *******************&#125;).then(() =&gt; &#123; console.log(\"---2\"); throw \"出错了,准备执行catch,然后继续then\"&#125;).catch( (reason) =&gt; &#123; console.log('---3 处理失败的 promise ('+reason+')');&#125;).then(() =&gt; &#123; console.log(\"---4\");&#125;);","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"},{"name":"JavaScript","slug":"WEB/JavaScript","permalink":"http://yoursite.com/categories/WEB/JavaScript/"},{"name":"setTimeout","slug":"WEB/JavaScript/setTimeout","permalink":"http://yoursite.com/categories/WEB/JavaScript/setTimeout/"},{"name":"Promise","slug":"WEB/JavaScript/setTimeout/Promise","permalink":"http://yoursite.com/categories/WEB/JavaScript/setTimeout/Promise/"}],"tags":[{"name":"setTimeout","slug":"setTimeout","permalink":"http://yoursite.com/tags/setTimeout/"},{"name":"Promise","slug":"Promise","permalink":"http://yoursite.com/tags/Promise/"}]},{"title":"other JavaScript03 深拷贝注意问题","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/other_JavaScript03_深拷贝/","text":"JSON.parse(JSON.stringify(obj)) 进行深拷贝时注意问题JSON.parse(JSON.stringify(obj)) 进行深拷贝时注意问题JSON.parse(JSON.stringify(obj)) 进行深拷贝时注意问题 1、时间: 如果obj里面存在时间对象，JSON.parse(JSON.stringify(obj))之后，时间对象变成了字符串。2、正则: 如果obj里有RegExp、Error对象，则序列化的结果将只得到空对象。3、函数: 如果obj里有函数，undefined，则序列化的结果会把函数， undefined丢失。4、如果obj里有NaN、Infinity和-Infinity，则序列化的结果会变成null。5、JSON.stringify()只能序列化对象的可枚举的自有属性。如果obj中的对象是有构造函数生成的， 则使用JSON.parse(JSON.stringify(obj))深拷贝后，会丢弃对象的constructor。6、如果对象中存在循环引用的情况也无法正确实现深拷贝。","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JavaScript_常见使用_03","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_常见使用_03/","text":"JavaScript常用使用_03 JavaScript常用使用_03 JavaScript常用使用_03 判断空对象12345678910111213function checkObj(obj) &#123; return Object.keys(obj).length === 0;&#125;checkObj([]); // truecheckObj(&#123;&#125;); // true//-------------------------------------------Object.keys(&#123;&#125;).length; // 长度为0Object.keys(&#123;foo: \"bar\"&#125;).length; // 长度为1Object.keys([]).length; // 长度为0Object.keys([\"fei\"]).length; // 长度为1 常见加密解密1234567891011121314// Base64的编码与解码let foo = \"Hello fei\";window.btoa(foo); // SGVsbG8gZmVpwindow.atob(\"SGVsbG8gZmVp\"); // Hello fei// url 编码解码let url = \"http://github.com/search?name=1 2 3 $age=456\";encodeURI(url); // http://github.com/search?name=1%202%203%20$age=456decodeURI(\"http://github.com/search?name=1%202%203%20$age=456\");// url 中参数编码解码let bar = \"a=123&amp;b=456\";encodeURIComponent(bar); // a%3D123%26b%3D456decodeURIComponent(\"a%3D123%26b%3D456\"); // a=123&amp;b=456 Blob 和 String相互转换123456789101112// 将String字符串转换成Blob对象var blob = new Blob(['daFei'], &#123; type: 'text/plain'&#125;);console.log(blob);//将Blob 对象转换成字符串var reader = new FileReader();reader.readAsText(blob, 'utf-8');reader.onload = function (e) &#123; console.info(reader.result);&#125; 参数解构参数 和 方法参数 12345678910111213141516171819// 解构参数function foo(&#123;name = \"daFei\", age = 18&#125;=&#123;&#125;) &#123; console.log(name,age);&#125;foo(&#123;name:\"foo\",age:20&#125;);foo(&#123;age:22&#125;);// 方法参数function bar(name=\"daFei\",callBack) &#123; if (callBack) &#123; callBack(); &#125;else&#123; console.log(\"没有执行\"); &#125;&#125;bar(\"bar\", () =&gt; &#123; console.log(\"开始执行\");&#125;);bar(\"bar2\") 判断浏览器类型12345678910111213// Browser environment sniffingvar inBrowser = typeof window !== 'undefined';var inWeex = typeof WXEnvironment !== 'undefined' &amp;&amp; !!WXEnvironment.platform;var weexPlatform = inWeex &amp;&amp; WXEnvironment.platform.toLowerCase();var UA = inBrowser &amp;&amp; window.navigator.userAgent.toLowerCase();var isIE = UA &amp;&amp; /msie|trident/.test(UA);var isIE9 = UA &amp;&amp; UA.indexOf('msie 9.0') &gt; 0;var isEdge = UA &amp;&amp; UA.indexOf('edge/') &gt; 0;var isAndroid = (UA &amp;&amp; UA.indexOf('android') &gt; 0) || (weexPlatform === 'android');var isIOS = (UA &amp;&amp; /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');var isChrome = UA &amp;&amp; /chrome\\/\\d+/.test(UA) &amp;&amp; !isEdge;var isPhantomJS = UA &amp;&amp; /phantomjs/.test(UA);var isFF = UA &amp;&amp; UA.match(/firefox\\/(\\d+)/); 抛出异常12345try &#123; throw \"抛出异常\";&#125; catch (err) &#123; console.error(\"捕获___\" + err);&#125; 解构重命名12const &#123;fei: fei_temp, foo: foo_temp&#125; = &#123;fei: \"123\", foo: \"helloWorld\"&#125;;console.log(fei_temp, foo_temp); // 对 fei 和 foo 重新定义名字 剩余1let &#123;a, b, ...fei&#125; = &#123;a: 10, b: 20, c: 30, d: 40&#125;; 默认12let &#123;foo, b = 5&#125; = &#123;foo: 3&#125;;let &#123;foo, b: bb = 5&#125; = &#123;foo: 3&#125;; demo1234567891011121314151617181920&lt;script&gt; let foo = []; let bar = []; let fei = []; const testFun = () =&gt; &#123; let foo = [1, 2, 3]; let bar = ['a', 'b', 'c']; let fei = ['hello', 'world']; return &#123;foo, bar, fei&#125; &#125; try &#123; (&#123;foo, bar, fei&#125; = testFun()) &#125; catch (e) &#123; (&#123;foo, bar, fei&#125; = testFun()) &#125; console.log(foo, bar, fei)&lt;/script&gt; 高阶函数 filter map reduce12345678910111213141516171819202122232425// 高阶函数 filter map reduce 用es6语法// 过滤小于20的值,返回布尔值 true 或者 false// 循环数组中的每一个元素//接受一个函数作为参数，这个函数作为一个累加器，从左到右遍历整个类型数组，最后返回一个单一的值const nums = [10, 15, 18, 25, 34];let newNums = nums.filter(item =&gt; item &lt; 20) .map(item2 =&gt; item2 * 2) .reduce((total, item3) =&gt; total + item3); //--------------------const nums = [10, 15, 18, 25, 34];let newNum_1 = nums.filter(function (item1) &#123; return item1 &lt; 20;&#125;);console.log(newNum_1); // [10, 15, 18]let newNum_2 = newNum_1.map(function (item2) &#123; return item2 * 2;&#125;);console.log(newNum_2); // [20, 30, 36]let newNum_3 = newNum_2.reduce(function (total, item3) &#123; return total + item3;&#125;)console.log(newNum_3); // 86 map 妙用转换数组中类型 12345678910// 字符数组转数字数组let strArr = [\"1\", \"2\", \"3\"];let numArr = strArr.map(Number)console.log(numArr)// number数组转为string数组let numArr1 = [1, 2, 3]let strArr1 = numArr1.map(String)console.log(strArr1) set 和 mapset 利用唯一,数组去重 1[...new Set([1, 1, 2, 2, 5, 7])] 获取当前之后的时间JavaScript获取当前时间减去10分钟 12345678910111213141516171819// JavaScript获取当前时间减去10分钟function dateDecrease(dStr,interval = 10) &#123; let d = new Date( dStr.substring(0, 4), dStr.substring(5, 7) - 1, dStr.substring(8, 10), dStr.substring(11, 13), dStr.substring(14, 16), dStr.substring(17, 19) ); d.setTime(d.getTime() - interval * 60 * 1000); //小于10前面补0 let getMonth = (d.getMonth() + 1) &lt; 10 ? \"0\" + (d.getMonth() + 1) : d.getMonth() + 1; let getDate = d.getDate() &lt; 10 ? \"0\" + (d.getDate()) : d.getDate(); let getHours = d.getHours() &lt; 10 ? \"0\" + (d.getHours()) : d.getHours(); let getMinutes = d.getMinutes() &lt; 10 ? \"0\" + (d.getMinutes()) : d.getMinutes(); return d.getFullYear() + \"-\" + getMonth + \"-\" + getDate + \" \" + getHours + \":\" + getMinutes;&#125;console.log(dateDecrease('2022-02-04 08:00')) JavaScript获取当前时间加上10分钟 12345678910111213141516171819// JavaScript获取当前时间加上10分钟function dateAdd(dStr, interval = 10) &#123; let d = new Date( dStr.substring(0, 4), dStr.substring(5, 7) - 1, dStr.substring(8, 10), dStr.substring(11, 13), dStr.substring(14, 16), dStr.substring(17, 19) ); d.setTime(d.getTime() + interval * 60 * 1000); //小于10前面补0 let getMonth = (d.getMonth() + 1) &lt; 10 ? \"0\" + (d.getMonth() + 1) : d.getMonth() + 1; let getDate = d.getDate() &lt; 10 ? \"0\" + (d.getDate()) : d.getDate(); let getHours = d.getHours() &lt; 10 ? \"0\" + (d.getHours()) : d.getHours(); let getMinutes = d.getMinutes() &lt; 10 ? \"0\" + (d.getMinutes()) : d.getMinutes(); return d.getFullYear() + \"-\" + getMonth + \"-\" + getDate + \" \" + getHours + \":\" + getMinutes;&#125;console.log(dateAdd('2022-02-20 08:00'))","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-setTimeout 优化","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/z_setTimeout/","text":"setTimeout 优化 setInterval缺点: setInterval 的作用是每隔一段指定时间执行一个函数，但是这个执行不是真的到了时间立即 执行，它真正的作用是每隔一段时间将事件加入事件队列中去，只有当当前的执行栈为空的时候， 才能去从事件队列中取出事件执行。所以可能会出现这样的情况，就是当前执行栈执行的时间很 长，导致事件队列里边积累多个定时器加入的事件，当执行栈结束的时候，这些事件会依次执行， 因此就不能到间隔一段时间执行的效果 针对 setInterval 的这个缺点，我们可以使用 setTimeout 递归调用来模拟 setInterval， 这样我们就确保了只有一个事件结束了，我们才会触发下一个定时器事件，这样解决了 setInterval 的问题 使用setTimeout 实现setInterval12345678910111213141516171819202122// 思路是使用递归函数，不断地去执行 setTimeout 从而达到 setInterval 的效果function feiSetInterval(fn, timeout) &#123; // 控制器，控制定时器是否继续执行 var timer = &#123;flag: true&#125;; // 设置递归函数，模拟定时器执行。 function interval() &#123; if (timer.flag) &#123; fn(); setTimeout(interval, timeout); &#125; &#125; // 启动定时器 setTimeout(interval, timeout); // 返回控制器 return timer;&#125;feiSetInterval(function()&#123; // 执行的代码在这 console.log(\"daFei\");&#125;,1000); 其他CSS 优化","categories":[{"name":"setTimeout","slug":"setTimeout","permalink":"http://yoursite.com/categories/setTimeout/"},{"name":"setInterval","slug":"setTimeout/setInterval","permalink":"http://yoursite.com/categories/setTimeout/setInterval/"}],"tags":[{"name":"setTimeout","slug":"setTimeout","permalink":"http://yoursite.com/tags/setTimeout/"},{"name":"setInterval","slug":"setInterval","permalink":"http://yoursite.com/tags/setInterval/"}]},{"title":"JavaScript_常见使用_02","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_常见使用_02/","text":"JavaScript常用使用_02 JavaScript常用使用_02 JavaScript常用使用_02 定义123456789var daFei = &#123; age: 18, name: \"daFei\", height: function () &#123; console.log(\"身高\"); &#125;&#125;;daFei.height &amp;&amp; daFei.height(); // 短路与console.log(\"执行下面数据\"); for/in 遍历对象1234var obj = &#123;age: 18, name: \"daFei\"&#125;;for (let key in obj) &#123; console.log(key,\"___\",obj[key]);&#125; forEach 遍历数组循环所有值,直到所有元素都遍历 12345678910let arr = [ &#123;age: 18, name: \"daFei\"&#125;, &#123;age: 28, name: \"foo\"&#125;, &#123;age: 38, name: \"bar\"&#125;];arr.forEach(item =&gt; &#123; console.log(item); console.log(item.age, item.name);&#125;); some遍历对象01) 可以跳出当前循环02) 可以用来做判断 Array.prototype.some() 1234567891011121314151617181920212223const arr = [ &#123;name: \"foo\", age: \"18\"&#125;, &#123;name: \"bar\", age: \"28\"&#125;, &#123;name: \"daFei\", age: \"20\"&#125; ]; arr.some(item =&gt; &#123; if (item.name === \"bar\") &#123; console.log(\"ok\"); return true; &#125; console.log(\"执行\"); // 条件生效后,这里的代码不在执行 &#125;);/////////////////////////// 注意：如果用一个空数组进行测试，在任何情况下它返回的都是falseif ([12, 5, 8, 1, 4].some(x =&gt; x &gt; 10)) &#123; //结果 true console.log(\"找到大于10的数据\");&#125;if ([2, 5, 8, 1, 4].some(x =&gt; x &gt; 22)) &#123; console.log(\"找到大于22的数据\");&#125;else &#123; //结果 false console.log(\"没有找到数据\")&#125; find遍历对象01) 可以跳出当前循环 Array.prototype.find()02) find() 方法返回数组中满足提供的测试函数的第一个元素的值。否则返回 undefined 123const array1 = [5, 12, 8, 130, 44];const found = array1.find(element =&gt; element &gt; 10);console.log(found); // 12 序列化和反序列化1234567let obj = &#123;age: 18, name: \"daFei\"&#125;;let bbb = JSON.stringify(obj); // 序列化: 对象--&gt;字符串console.log(bbb,obj);let xxx = JSON.parse(bbb); // 反序列化: 字符串--&gt;对象console.log(xxx,obj); 立即执行12345678910111213141516171819&lt;script&gt; (function()&#123; console.log(\"daFei\"); &#125;()) (()=&gt;&#123; // ES6中箭头函数 console.log(\"daFei\"); &#125;)() let demo=function()&#123; console.log(\"daFei_002\"); &#125;(); // 最low 的写法 function fei()&#123; console.log(\"daFei_003\"); &#125; fei(); // 这里的() , 相当于执行&lt;/script&gt; HTML事件属性HTML 事件属性_菜鸟教程 HTML 事件属性_MDN 去除前后空格 jQuery123// jQuery 去除前后端空格console.log($.trim(\"111 去除前后空格 222\") );console.log($.trim(\" 去除前后空格 \") ); 2个感叹号使用2个感叹号一般用来将后面的表达式强制转为布尔类型 true 或者 false 1234let foo;console.log(\"foo = \" + foo); // foo = undefinedlet bar = !!foo;console.log(\"bar = \" + bar); // bar = false JavaScript 中 null、undefined、NaN、+0、-0、&quot;&quot;，这六种转换成布尔类型是 false，其余都是true 理解相等比较的模型 12345678910111213141516let foo = []; // truelet foo = &#123;&#125;; // truelet fei = !!'' // falselet fei = !!'0' // truelet fei = !!'1' // truelet fei = !!'-1' // truelet fei = !!'foo' // truelet fei = !!0 // falselet fei = !!undefined //falselet fei = !!null // falselet fei = !!NaN // falselet fei = !!&#123;&#125; // truelet fei = !![] // truelet fei = !!&#123;foo: \"bar\"&#125; // truelet fei = !!['foo', 'bar', 'fei'] // true PHP 中 12$foo = []; // false$foo = (object)[]; // true 数据类型 JavaScript 数据类型 基本类型：Number Boolean String undefined null引用类型：Object Function 类型判断 typeof Object.prototype.toString.call(); 123456789101112&gt; Object.prototype.toString.call(\"daFei\"); // [object String]&gt; Object.prototype.toString.call(20); // [object Number]&gt; Object.prototype.toString.call(null); // [object Null]&gt; Object.prototype.toString.call(undefined); // [object Undefined]&gt; Object.prototype.toString.call(true); // [object Boolean]&gt; Object.prototype.toString.call(false); // [object Boolean]&gt; &gt; Object.prototype.toString.call(new Date); // [object Date]&gt; Object.prototype.toString.call(&#123;name: \"daFei\", age: 18&#125;); // [object Object]&gt; Object.prototype.toString.call([\"daFei\", 18, \"Hello\"]); // [object Array]&gt; Object.prototype.toString.call(function foo()&#123;&#125;); // [object Function]&gt; 123456789101112&gt; (typeof \"abc123\"); // string&gt; (typeof 123); // number&gt; (typeof a); // undefined&gt; (typeof true); // boolean&gt; (typeof Symbol('fei')); // symbol&gt; (typeof function fei() &#123;&#125;); // function&gt; &gt; &gt; (typeof null); // object *****************************&gt; (typeof []); // object&gt; (typeof &#123;&#125;); // object&gt; 12345678910&gt; let foo = [];&gt; &gt; if (Array.isArray(foo)) &#123;&gt; console.log(\"这是一个数组\");&gt; &#125;else if (Object.prototype.toString.call(foo) === '[object Object]') &#123;&gt; console.log(\"这是一个json对象\");&gt; &#125;else &#123;&gt; console.warn(\"数据类型错误\" + Object.prototype.toString.call(foo).slice(8, -1));&gt; &#125;&gt; 最新的 ECMAScript 标准定义了 8 种数据类型: 6 种 原始类型，使用 typeof 运算符检查: undefined：typeof instance === &quot;undefined&quot; Boolean：typeof instance === &quot;boolean&quot; Number：typeof instance === &quot;number&quot; String：typeof instance === &quot;string BigInt：typeof instance === &quot;bigint&quot; Symbol ：typeof instance === &quot;symbol&quot; null：typeof instance === &quot;object&quot;。 Object：typeof instance === &quot;object&quot;。任何 constructed 对象实例的特殊非数据结构类型，也用做数据结构：new Object，new Array，new Map，new Set，new WeakMap，new WeakSet，new Date，和几乎所有通过 new keyword 创建的东西。 记住 typeof 操作符的唯一目的就是检查数据类型，如果我们希望检查任何从 Object 派生出来的结构类型，使用 typeof 是不起作用的，因为总是会得到 &quot;object&quot;。检查 Object 种类的合适方式是使用 instanceof 关键字。但即使这样也存在误差。 JavaScript 数据类型和数据结构","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"nvm 基本使用","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/nvm简单使用/","text":"nvm 基本使用nvm 基本使用nvm 基本使用 01) 下载 nvm nvm-setup.ziphttps://github.com/coreybutler/nvm-windows/releases 选择 nvm-setup.zip 版本https://github.com/coreybutler/nvm-windows/releases/download/1.1.8/nvm-setup.ziphttps://github.com/coreybutler/nvm-windows/releases/download/1.1.8/nvm-setup.zip nvm version 查看版本 修改配置文件settings.txt,设置下载源node_mirror: https://npm.taobao.org/mirrors/node/npm_mirror: https://npm.taobao.org/mirrors/npm/ 安装node.js 版本nvm install 14.18.0nvm install 8.17.0 列出已经安装的node版本nvm ls 选择使用 node 版本nvm use 14.18.0nvm use 8.17.0 查看node 版本node -vnpm -v 查看远程所有可以用的node版本nvm ls available (windows中命令) ** node 8.17.0 ***本文采用局部安装使用,所以用的命令带 npx hexo,如果是全局安装的可以直接使用 hexo 命令比如 npx hexo g ; hexo g 01) 局部安装 hexo 包npm install hexo 02) 查看 hexo 版本npx hexo -v 03) 开始使用npx hexo g","categories":[],"tags":[]},{"title":"linux-DDU  -git git-bash","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/win/git_02/","text":"git-bash 中添加 wget命令git-bash 中添加 wget命令 git-bash 中添加 wget命令01) 下载weget二进制包02) 将下载好的 wget.exe 拷贝到 git 安装目录 …Git\\mingw64\\bin 下面03) 现在可议 wget -help 查看 中文无法显示12 在哪里可以下载Wget windwos 二进制文件由JernejSimončič提供","categories":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"}]},{"title":"-JavaScript   防抖和节流","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_16_节流和防抖/","text":"JavaScript 防抖和节流JavaScript 防抖和节流JavaScript 防抖和节流 防抖: 所谓防抖，就是指触发事件后在 n 秒内函数只能执行一次，如果在 n 秒内又触发了事件，则会重新计算函数执行时间 节流: 所谓节流，就是指连续触发事件但是在 n 秒中只执行一次函数 防抖123456789101112131415&lt;input type=\"text\" id=\"fei_input\"&gt;&lt;script&gt; const feiInput = document.getElementById('fei_input'); let timer = null; feiInput.addEventListener('keyup', function () &#123; if (timer) &#123; clearTimeout(timer); // ---------------- 清除定时器 &#125; timer = setTimeout(() =&gt; &#123; console.log(feiInput.value); timer = null; &#125;, 500); &#125;);&lt;/script&gt; 简单封装一下 123456789101112131415161718192021222324&lt;input type=\"text\" id=\"fei_input\"&gt;&lt;script&gt; function debounce(fn, delay) &#123; let timer = null; return function () &#123; if (timer) &#123; clearTimeout(timer); // ---------------- 清除定时器 &#125; timer = setTimeout(() =&gt; &#123; fn.apply(this, arguments); // *********** timer = null; &#125;, delay); &#125;; &#125; const feiInput = document.getElementById('fei_input'); feiInput.addEventListener('keyup', debounce(() =&gt; &#123; console.log(feiInput.value); &#125;, 500) );&lt;/script&gt; 节流123456789101112131415&lt;div id=\"fei_div\" draggable=\"true\" style=\"width: 50px;height: 50px;border: 2px solid #ff6b81\"&gt;&lt;/div&gt;&lt;script&gt; const feiDiv = document.getElementById('fei_div'); let timer = null; feiDiv.addEventListener('drag', function (e) &#123; if (timer) &#123; return; // ---------------- 阻止运行 &#125; timer = setTimeout(() =&gt; &#123; console.log(e.offsetX, e.offsetY); timer = null; &#125;, 2000); &#125;); &lt;/script&gt; 简单封装一下 12345678910111213141516171819202122&lt;div id=\"fei_div\" draggable=\"true\" style=\"width: 50px;height: 50px;border: 2px solid #ff6b81\"&gt;&lt;/div&gt;&lt;script&gt; function throttle(fn, delay = 100) &#123; let timer = null; return function () &#123; if (timer) &#123; return; // ---------------- 阻止运行 &#125; timer = setTimeout(() =&gt; &#123; fn.apply(this, arguments); // *********** timer = null; &#125;, delay); &#125;; &#125; const feiDiv = document.getElementById('fei_div'); feiDiv.addEventListener('drag', throttle(function (e) &#123; console.log(e.offsetX, e.offsetY); &#125;, 2000) );&lt;/script&gt;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JavaScript_常见使用","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_常见使用/","text":"JavaScript常用使用 JavaScript常用使用 JavaScript常用使用 随机数测试1Math.floor(Math.random()*10000) 获取逗号拼接字符串123456789let ids = \"1,2,3,4,5,6,\";ids.substring(0, ids.length - 1); //去掉末尾逗号, *** 禁止使用substr ***let feiArr = [ &#123;id: 1, name: \"daFei\"&#125;, &#123;id: 2, name: \"foo\"&#125;, &#123;id: 3, name: \"bar\"&#125;,];feiArr.map(m =&gt; m.id).join(\",\");// 输出 1,2,3 警告： 尽管 String.prototype.substr(…) 没有严格被废弃 (as in “removed from the Web standards”), 但它被认作是遗留的函数并且可以的话应该避免使用。它并非JavaScript核心语言的一部分，未来将可能会被移除掉。如果可以的话，使用 substring() 替代它. 警告: String.prototype.substr() hasOwnProperty 判断自身属性是否存在1234// hasOwnProperty 判断自身属性是否存在 let test = &#123;author: \"dafei\", bookName: \"史记\"&#125;;console.log(test.hasOwnProperty(\"author\"));// trueconsole.log(test.hasOwnProperty(\"price\"));// false px、em、rem区别介绍如果你不指定一个字体的大小，默认大小和普通文本段落一样，是16像素（1em=16px） 判断一个对象是否是数组123let arr = [1, 2, 3];console.log(arr instanceof Array); // 返回trueconsole.log(\"eeee\" instanceof Array); // 返回false 数组去重ES6123let arr = [1, 2, 3, 1, 2];let newIds = Array.from(new Set(arr));console.log(newIds);// 输出 [1, 2, 3] 对象2种取值方式当对象是一个变量的时候,使用[]会方便很多 123let obj = &#123;name: \"daFei\"&#125;;console.log(obj.name);console.log(obj['name']); // 常使用在,对象是个变量 获取对象中某个属性的所有值ES61234567let obj = [ &#123;name: \"daFei\", age: \"18\", hobby: \"JavaScript\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"HTML\"&#125;, &#123;name: \"daFei\", age: \"18\", hobby: \"CSS\"&#125;,];let arr = obj.map(item =&gt; item.hobby);console.log(arr); // 输出 [\"JavaScript\", \"HTML\", \"CSS\"] 获取一个对象中的所有属性123let obj = &#123;name: \"daFei\", age: \"18\", hobby: \"JavaScript\"&#125;;let arr = Object.keys(obj);console.log(arr); // 输出 [\"name\", \"age\", \"hobby\"] 判断一个数组或者字符串中存在某个值indexOf ,不存在则返回-1 123456789// indexOf()方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。let arr = [1, 2, 3, 4];let index = arr.indexOf(3);console.log(index);// 返回对应的下标2// indexOf() 方法返回调用它的 String 对象中第一次出现的指定值的索引。如果未找到该值，则返回 -1。let str = \"fei,da,foo,bar,JavaScript\";let index_str = str.indexOf(\"foo\"); // 返回对应的下标7console.log(index_str); 数组中属性 和 字符串中属性","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JavaScript_中的坑","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_中的坑/","text":"暂无介绍 排序 sortMDN 中说明sort() 方法用原地算法对数组的元素进行排序，并返回数组。默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列时构建的 12345[3,15,8,29,102,22].sort((a,b)=&gt;&#123; return a-b&#125;); // 结果 [3, 8, 15, 22, 29, 102][3,15,8,29,102,22].sort(); // 结果 [102, 15, 22, 29, 3, 8]['a_3','a_15','a_8','a_29','a_102','a_22'].sort(); // 结果 [\"a_102\", \"a_15\", \"a_22\", \"a_29\", \"a_3\", \"a_8\"] MDN sort 正则RegExp.prototype.test()MDN 中说明 如果正则表达式设置了全局标志，test()的执行会改变正则表达式 lastIndex属性。连续的执行test()方法，后续的执行将会从 lastIndex 处开始匹配字符串，(exec() 同样改变正则本身的 lastIndex属性值). 1234567var regex = /foo/g;// regex.lastIndex is at 0regex.test('foo'); // true// regex.lastIndex is now at 3regex.test('foo'); // false 建议: 使用正则的时候不要加g","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-JavaScript   new 操作符具体干了什么呢？如何实现？","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_18_new操作符做了什么/","text":"new 操作符具体干了什么呢？如何实现？new 操作符具体干了什么呢？如何实现？new 操作符具体干了什么呢？如何实现？ 首先创建了一个新的空对象 设置原型,，将对象的原型设置为函数的 prototype对象 让函数的 this 指向这个对象，执行构造函数的代码(为这个新对象添加属性) 判断函数的返回值类型， 如果是值类型,返回创建的对象。如果是引用类型,就返回这个引用类型的对象 具体实现demo:123456789101112131415161718192021222324252627282930313233function objectFactory() &#123; let newObject = null, constructor = Array.prototype.shift.call(arguments), result = null; // 参数判断 if (typeof constructor !== \"function\") &#123; console.error(\"type error\"); return; &#125; // 新建一个空对象，对象的原型为构造函数的 prototype 对象 newObject = Object.create(constructor.prototype); // 将 this 指向新建对象，并执行函数 result = constructor.apply(newObject, arguments); // 判断返回对象 return typeof result === 'object' ? result : newObject; let flag = result &amp;&amp; (typeof result === \"object\" || typeof result === \"function\"); // 判断返回结果 return flag ? result : newObject;&#125;// 调用,测试function Books (name, author) &#123; this.name = name; this.author = author;&#125;var book = objectFactory(Books, '论语', '孔子');console.log(book.name); // 论语console.log(book.author); // 孔子 扩展new 运算符 Object.create() Array.prototype.shift()","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-JavaScript  浏览器缓存机制","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_18_浏览器缓存机制/","text":"浏览器缓存机制浏览器缓存机制浏览器缓存机制 强制缓存, 比较缓存 对于强制缓存，服务器通知浏览器一个缓存时间，在缓存时间内，下次请求，直接用缓存，不在时间内，执行比较缓存策略。 对于比较缓存，将缓存信息中的Etag和Last-Modified通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存,反之，则表示修改了，响应200状态码，返回数据。 详细说明:​ 浏览器的缓存机制指的是通过在一段时间内保留已接收到的 web 资源的一个副本，如果在 资源的有效时间内，发起了对这个资源的再一次请求，那么浏览器会直接使用缓存的副本，而不 是向服务器发起请求。使用 web 缓存可以有效地提高页面的打开速度，减少不必要的网络带宽 的消耗。web 资源的缓存策略一般由服务器来指定，可以分为两种，分别是强缓存策略和协商 缓存策略。使用强缓存策略时，如果缓存资源有效，则直接使用缓存资源，不必再向服务器发起 请求。强缓存策略可以通过两种方式来设置，分别是 http 头信息中的 Expires 属性和 Cache-Control 属性。服务器通过在响应头中添加 Expires 属性，来指定资源的过期时间。 在过期时间以内，该资源可以被缓存使用，不必再向服务器发送请求。这个时间是一个绝对时间， 它是服务器的时间，因此可能存在这样的问题，就是客户端的时间和服务器端的时间不一致，或 者用户可以对客户端时间进行修改的情况，这样就可能会影响缓存命中的结果。Expires 是 http1.0 中的方式，因为它的一些缺点，在 http 1.1 中提出了一个新的头部属性就是 Cache-Control 属性，它提供了对资源的缓存的更精确的控制。它有很多不同的值，常用的比 如我们可以通过设置 max-age 来指定资源能够被缓存的时间的大小，这是一个相对的时间，它 会根据这个时间的大小和资源第一次请求时的时间来计算出资源过期的时间，因此相对于 Expires 来说，这种方式更加有效一些。常用的还有比如 private ，用来规定资源只能被客户 端缓存，不能够代理服务器所缓存。还有如 no-store ，用来指定资源不能够被缓存，no-cache 代表该资源能够被缓存，但是立即失效，每次都需要向服务器发起请求。一般来说只需要设置其 中一种方式就可以实现强缓存策略，当两种方式一起使用时，Cache-Control 的优先级要高于 Expires 。 ​ 使用协商缓存策略时，会先向服务器发送一个请求，如果资源没有发生修改，则返回一个 304 状态，让浏览器使用本地的缓存副本。 ​ 如果资源发生了修改，则返回修改后的资源。协商缓存也可以通过两种方式来设置，分别是 http头信息中的 Etag 和 Last-Modified 属性。 ​ 服务器通过在响应头中添加 Last-Modified 属性来指出资源最后一次修改的时间，当浏 览器下一次发起请求时，会在请求头中添加一个 If-Modified-Since 的属性，属性值为上一 次资源返回时的 Last-Modified 的值。当请求发送到服务器后服务器会通过这个属性来和资 源的最后一次的修改时间来进行比较，以此来判断资源是否做了修改。如果资源没有修改，那么 返回 304 状态，让客户端使用本地的缓存。如果资源已经被修改了，则返回修改后的资源。使 用这种方法有一个缺点，就是 Last-Modified 标注的最后修改时间只能精确到秒级，如果某 些文件在 1 秒钟以内，被修改多次的话，那么文件已将改变了但是 Last-Modified 却没有改 变，这样会造成缓存命中的不准确。因为 Last-Modified 的这种可能发生的不准确性，http 中 提供了另外一种方式，那就是 Etag 属性。服务器在返回资源的时候，在头信息中添加了 Etag 属性，这个属性是资源生成的唯一标识符，当资源发生改变的时候，这个值也会发生改变。在下 一次资源请求时，浏览器会在请求头中添加一个 If-None-Match 属性，这个属性的值就是上 次返回的资源的 Etag 的值。服务接收到请求后会根据这个值来和资源当前的 Etag 的值来进 行比较，以此来判断资源是否发生改变，是否需要返回资源。通过这种方式，比 Last-Modified 的方式更加精确。 ​ 当 Last-Modified 和 Etag 属性同时出现的时候，Etag 的优先级更高。使用协商缓存 的时候，服务器需要考虑负载平衡的问题，因此多个服务器上资源的 Last-Modified 应该保 持一致，因为每个服务器上 Etag 的值都不一样，因此在考虑负载平衡时，最好不要设置 Etag 属性。强缓存策略和协商缓存策略在缓存命中时都会直接使用本地的缓存副本，区别只在于协商 缓存会向服务器发送一次请求。它们缓存不命中时，都会向服务器发送请求来获取资源。在实际 的缓存机制中，强缓存策略和协商缓存策略是一起合作使用的。浏览器首先会根据请求的信息判 断，强缓存是否命中，如果命中则直接使用资源。如果不命中则根据头信息向服务器发起请求， 使用协商缓存，如果协商缓存命中的话，则服务器不返回资源，浏览器直接使用本地资源的副本， 如果协商缓存不命中，则浏览器返回最新的资源给浏览器。 扩展304状态码的意义所在 如果一个网站被搜索引擎抓取的次数以及频率越多那么他是越有利于排名的，但是如果你的网站出现太多的304，那么一定会降低搜索引擎的抓取频率以及次数，从而让自己的网站排名比别人落一步","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-typeof 和 -instanceof 运算符","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_17_运算符_typeof_instanceof/","text":"typeof 和 instanceoftypeof 和 instanceoftypeof 和 instanceof typeof 识别所有值类型 识别函数 判断是否是引用类型(但是不能区分是那种引用类型) 1234567891011(typeof \"abc123\"); // string(typeof 123); // number(typeof a); // undefined(typeof true); // boolean(typeof Symbol('fei')); // symbol(typeof function fei() &#123;&#125;); // function(typeof null); // object *****************************(typeof []); // object(typeof &#123;&#125;); // object instanceof12345([] instanceof Array) ? \"ok\" : \"no\"; // ok([] instanceof Object) ? \"ok\" : \"no\"; // ok(&#123;&#125; instanceof Object) ? \"ok\" : \"no\"; // ok(null instanceof Object) ? \"ok\" : \"no\"; // no *****************************","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"},{"name":"运算符","slug":"运算符","permalink":"http://yoursite.com/tags/运算符/"}]},{"title":"-JavaScript -this","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_04_this/","text":"js 的 this 到底是谁??? js 中函数的4中调用方式 1). 作为普通函数来调用12345678910111213141516171819/** * console.log(window.xxx); * 1: 作为普通函数来调用时, * this 的值指向--&gt;window * 准确的说,this 为 null ,但被解释成 window * 在 ECMAScript 表准中, 如果 this 为 null ,则解释成 undefined */console.log(window.xxx); //undefinedfunction t() &#123; this.xxx = 333;&#125;t();console.log(window.xxx);// 输出 333function test() &#123; console.log(this.test_window);&#125;test(); //输出 undefined 作为对象的方法来调用12345678910111213141516171819202122232425/** * 2: 作为对象的方法来调用 * this 指向方法的调用这,即该对象 */var obj = &#123; xx: 99, yy: 88, t: function () &#123; console.log(this.xx); &#125;&#125;;obj.t(); // 输出 99var dog = &#123;xx: 'wangwang'&#125;;dog.t = obj.t;dog.t(); // 输出 wangwang/** * 作为方法调用时, * this 指向其调用那一刻的调用者,即母体对象 * 不管被调用函数,声明时属于方法,还是函数 */show = function () &#123; console.log('show' + this.xx);&#125;dog.t = show;dog.t(); // show wangwang 函数作为构造函数调用时123456789101112131415161718192021222324252627282930/** * 3: 函数作为构造函数调用时 * js 中没有类的概念,创建对象是用构造函数来完成,或者直接用json格式&#123;&#125;来写对象 * * new Dog 发生了一下几个步骤 * a: x系统创建空对象 &#123;&#125; ,(空对象 constructor 属性指向 Dog 函数,先别管) * b: 把函数的 this --&gt; 指向--&gt;该空对象 * c: 执行该函数 * d: 返回该对象 */function Dog(name, age) &#123; this.name = name; this.age = age; this.bark = function () &#123; console.log('this is ' + this.name); //输出 this is huzi &#125;&#125;var dog = new Dog('huzi', 2);dog.bark();// 下面这个返回什么???// 分析: 输出 Pig对象: Pig &#123;age: 99&#125;; 因为函数作为构造函数运行时,return 的值是忽略的,还是返回对象function Pig() &#123; this.age = 99; return 'abc';&#125;var pig = new Pig();console.log(pig); 函数通过 call , apply 调用1234567891011121314151617181920212223242526272829/** * 4. 函数通过 call , apply 调用 * 语法格式: 函数.call(对象,参数,参数,参数,参数........参数N.) */function t(num) &#123; console.log('我的真实年龄是' + this.age); console.log('但是我一般告诉别人我' + (this.age + num));&#125;//var humanObject = &#123;name: 'lisi', age: 28&#125;;// 我的真实年龄是28// 但是我一般告诉别人我18humanObject.t = t;humanObject.t(-10);// 接下来,我们不把 t 赋值为 human 的属性,也能把 this 指向 human// 运行结果:// 我的真实年龄是30// 但是我一般告诉别人我35// 分析:// fn.call(对象obj,参数1,参数2,....参数N)//// 运行如下:// a): fn 函数中的 this---&gt;指向-----&gt;obj// b): 运行 fn(参数1,参数2.....参数N);var wangwuObject = &#123;name: 'wangwu', age: 30&#125;;t.call(wangwuObject, 5);// t.apply(wangwuObject,[5]); demo 练习1234567891011121314151617181920212223name = 'this is window';var obj = &#123; name: 'php', t: function () &#123; console.log(this.name) &#125;&#125;;var dog = &#123;name: 'huzi'&#125;;obj.t(); // 输出 phpvar tmp = obj.t;tmp(); //相当于window.tmp() 输出: this is windowdog.t = obj.t;dog.t(); //输出 huzi(dog.t = obj.t)(); //输出 this is window(function()&#123;console.log(this.name)&#125;)(); //输出 this is window// 分析// (dog.t = obj.t) 是一个表达式,返回值值\"值\",即 t 函数// 强调是值,说明不是通过应用来调用的,而是立即使用函数本身// 效果等同于 (function()&#123;console.log(this.name)&#125;)// null 又被解释成 window 其他 window 全局变量污染12345/** * 有一些经验的,但对 js 理解的不深的同学说: * 有 this 操作的,(如 this.age=xx ) 的函数不能直接用,而是要new 来调用????? * 答: 因为直接用, this 会指向 window ,将会污染去全局变量 */","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-JavaScript  -闭包","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_06_闭包/","text":"闭包一句话概括 :函数的作用域取决于声明时,而不取决于调用时!!!函数的作用取决于声明时,而非调用时,函数内部声明变量的时候,一定要用 var 命令.如果不用的话,就是声明了一个全局变量 1234567891011121314151617181920212223242526272829function t1() &#123; var age = 20; function t2() &#123; console.log(age) &#125; return t2;&#125;var tmp = t1();/** * 1: 在大部分的语言中, t1 被调用执行,则申请内存 * 并把其局部变量, push 入栈!!! * t1 函数 执行完毕,内部的局部变量,随着函数的退出而销毁 * 因此, age = 20 的局部变量,依靠已经消失了 * * 但是在 js 中 , age = 20 这个变量,却被 t2 捕捉, * 即使 t1 执行完毕,通过 t2 依然能访问该变量 * * 这种情况---返回的函数,并非孤立的函数,甚至吧其周围的变量环境. * 形成了一封闭的\"环境包\",并同返回,所以叫\"闭包\" * * ---- 一句话概括--- 函数的作用域取决于声明时,而不取决于调用时!! * @type &#123;number&#125; */var age = 99;tmp();// 输出 20 函数的作用取决于声明时,而非调用时123456789101112131415function closure() &#123; var sister = '大桃花'; var me = function () &#123; console.log(sister); &#125;; return me;&#125;function place() &#123; var sister = '大福晋'; var girl = closure(); girl();&#125;place(); // 输出 大桃花 闭包计数器01123456789101112// 多个人开发 js 程序,需要一个全局的计数器// 多个人的函数共同用一个计数器,计数器一直增长/** * 解决办法: * 1: 设立一个全局变量 * window.cat = 0; * 调用 ++window.cnt; * * 这个办法可行,但是污染了全局变量, * 其次引入了多人的 js 程序,别人的程序里,也有一个 window.cnt = 'hello'; * 该计数器就损坏了,(所以要尽量避免用全局变量) */ 闭包计数器02 — 闭包维护一个别人污染不到的变量,做计数器1234567891011121314151617181920212223242526// 闭包维护一个别人污染不到的变量,做计数器function counter() &#123; var cnt = 0; // 当 ccounter 执行完毕后,除了返回的 cnter 函数,谁也别想碰到 cnt 变量了 var cnter = function () &#123; return ++cnt; &#125;; return cnter;&#125;var inc = counter();console.log(inc());console.log(inc());console.log(inc());//-----------简化版-----------var cnt = (function () &#123; var cnt = 0; return function () &#123; return ++cnt; &#125; &#125;)();console.log(cnt());console.log(cnt());console.log(cnt()); 闭包计数器03 —在工作中,一般如何避免全局污染或冲突123456789101112131415161718/*** 疑问: cnt 不依然是全局变量吗?* 第3版---在工作中,一般如何避免全局污染或冲突** 1: 统一放在一个全局对象上,如 jQuery-&gt;$* 2:每个人用自己的命名空间*/// jQuery 的计数插件形式$ = &#123;&#125;;$.cnt = (function () &#123; var cnt = 0; return function () &#123; return ++cnt; &#125;&#125;)();console.log($.cnt());console.log($.cnt());console.log($.cnt()); 闭包计数器04 – 把自己的变量,函数,都放在一个对象里123456789101112// 第4版 个人命名空间,在团队开发中也很常见// 其实就是把自己的变量,函数,都放在一个对象里var Y18 = &#123;&#125;;Y18.cnt = (function () &#123;var cnt = 0return function () &#123; return ++cnt;&#125;&#125;)();console.log(Y18.cnt());console.log(Y18.cnt());console.log(Y18.cnt()); demo 练习要求:点击 li ,分别弹出 0,1,2,3 1234567891011121314151617&lt;ul&gt; &lt;li&gt;男&lt;/li&gt; &lt;li&gt;女&lt;/li&gt; &lt;li&gt;老&lt;/li&gt; &lt;li&gt;少&lt;/li&gt;&lt;/ul&gt;&lt;script type=\"text/javascript\"&gt; //要求:点击 li ,分别弹出 0,1,2,3 for (var i = 0, lis = document.getElementsByTagName('li'), len = lis.length; i &lt; len; i++) &#123; lis[i].onclick = (function () &#123; var p=i; return function () &#123; return alert(p); &#125; &#125;)(); &#125;&lt;/script&gt; demo 212345678910111213function t1() &#123; let age = 20; function t2() &#123; console.log(age); &#125; return t2;&#125;let fn = t1();let age = 100;fn(); // 20 demo 312345678910111213// 所有函数自由变量的查找是在定义时候,向上级作用域查询,不是在执行的地方function t1(fn) &#123; let a = 20; fn();&#125;let a = 100;function t2() &#123; console.log(a);&#125;// 函数作为参数传递t1(t2); // 100 demo4实现每隔一秒答打印0,1,2,3,4 1234567891011121314151617// 01) 使用闭包for (var i = 0; i &lt; 5; i++) &#123; (function (i) &#123; setTimeout(function () &#123; console.log(i); &#125;, i * 1000); &#125;)(i);&#125;// 02) 使用letfor (let i = 0; i &lt; 5; i++) &#123; setTimeout(function () &#123; console.log(i); &#125;, i * 1000);&#125;// 扩展,如果使用var 又没有用闭包,会输出5个5","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-JavaScript  词法分析期  执行期","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_02_词法分析/","text":"词法分析期 执行期词法分析期 执行期词法分析期 执行期 词法分析期 执行期1234567891011121314151617/** * 第一步: 先分析参数 * 第二部: 在分析变量声明 * 第三个: 分析函数声明 * * 一个函数就能使用的局部变量,就从上面的3步分析而来 * * 具体步骤: * 0: 函数运行前的一瞬间,生成 Active Object(活动对象),下称为 AO * 1:把声明的参数,形成 AO 的属性,值全是 undefined * 2:分析变量声明声明声明!!! 如 var age * 如果 AO 上还没有 age 属性,则添加 AO 属性,值是 undefined * 如果 AO 上已经有 age 属性,则不做任何影响 * 3: 分析函数声明,如 function foo()&#123;&#125; * 则把函数赋给 AO.foo 属性 * 注: 如果此前 foo 属性已经存在,则被无情覆盖了 */ demo_1123456789101112//分析过程// AO &#123;age:unfettered&#125;// 运行过程:// t(5)--&gt;AO.age=5; alert(AO.age); //5// t()---&gt;AO.age 没得到复制,还是 undefinedfunction t(age) &#123; alert(age)&#125;t(5); // 输出 5t(); //输出undefined demo_021234567891011121314151617/** * 分析过程: * 0: 形成 AO=&#123;&#125; * 1: 分析形参 AO = &#123;age:undefined&#125; * 接受形参 AO= &#123;age:5&#125; * 2: 分析 var age ,发现 AO 已经有 age属性,不做任何影响 * * 执行过程: * console.log(age); //66 * AO.age = 66; */function t2(age) &#123; var age= 66; console.log(age); //输出66&#125;t2(5); demo_031234567891011121314151617181920212223/** * 词法分析过程: * 0: AO = &#123;&#125; * 1: 分析参数 AO = &#123;greet:undefined&#125; * 2: 分析 greet 变量声明, AO 已经有greet 属性,因此不做任何影响 * 3: 分析 greet 函数声明, AO.greet = function()&#123;&#125;, 被覆盖成函数 * 执行过程 * console.log(greet); * greet = 'hello'; * console.log(greet); * console.log(greet); */function t3() &#123; console.log(greet);// 输出greet() &#123;&#125; var greet = 'hello'; console.log(greet);// 输出 hello function greet() &#123; &#125; console.log(greet);// 输出 hello&#125;t3(null); demo_0412345678910111213141516171819202122/** * 词法分析过程: * 0: AO = &#123;&#125; * 1: 分析参数 AO = &#123;greet:undefined&#125; * 2: 分析 greet 变量声明, AO 已经有greet 属性,因此不做任何影响 * 3: 分析 greet 函数声明, AO.greet = function()&#123;&#125;, 被覆盖成函数 * 执行过程 * console.log(greet); * console.log(greet); * console.log(greet); */function t3() &#123; console.log(greet);// 输出 greet() &#123;&#125; var greet; console.log(greet);// 输出 greet() &#123;&#125; function greet() &#123; &#125; console.log(greet);// 输出 greet() &#123;&#125;&#125;t3(null); demo_0512345678910111213141516171819202122/** * 分析 * 0: AO = &#123;&#125; * 1: 分析参数 AO =&#123;b:undefined&#125; * 接受参数 AO = &#123;b:2&#125; * 2: 分析 var 声明,此函数没有 var * 3: 分析函数声明, AO = &#123;b:function()&#123;console.log(b);&#125;&#125; * * 执行期: * console.log(b) //function * b(); //由作用域寻找到 a 函数中的 b , 即 function , console.log() 出来 */function a(b) &#123; console.log(b); // 输出 b() &#123; console.log(b); &#125; ****注意这里的注释也会被输出*** function b() &#123; console.log(b); // 输出 b() &#123; console.log(b); &#125; ****注意这里的注释也会被输出*** &#125; b();&#125;a(2); demo_061234567891011121314151617181920212223/** * 词法分析 * 0: AO = &#123;&#125; * 1: 分析参数 AO = &#123;b:undefined&#125; --&gt; &#123;b:2&#125; * 2: 分析 var 声明,没有 * 3: 分析函数声明??? [没有!!!]!!!*** * * (注: b = function()&#123;&#125; ,是一个赋值过程,在执行期才有用) * * 执行过程 * console.log(b); * b = function()&#123; console.log(b); &#125; * console.log(b); */function a(b) &#123; console.log(b); //输出 2 b = function () &#123; console.log(b); // b() &#123; console.log(b); &#125; ****注意这里的注释也会被输出*** &#125;; b();&#125;a(2); demo_07 函数声明 函数赋值123456789101112// 这两种方式 效果不同// t1 是函数声明,虽然全局内也得到一个 t1 变量,值是 function// 而 t2 只是一个复制过程----值是谁? 值是右侧的表达式的返回结果,即函数// 就是说 function ()&#123;&#125; 在js 看来,就和 2*4 8/4 一样,是一个表达式,返回一个结果// 因此 , t1 t2 两种方式在词法分析是,有这本质的区别// 前者 在词法分析阶段,就发挥作用// 而后者,在运行阶段,才发挥作用function t1() &#123;&#125;t2 =function () &#123;&#125; jQuery 最外层代码分析1234567891011121314151617181920212223//----------------- jQuery 最外层代码分析---------------(function (window, undefined) &#123; &#125;) //内层表达式.返回值是函数,包括在小括号李,当成表达式来执行(function (window, undefined) &#123; &#125;(window)) //立即调用// 而内层函数又没有起名字,成为匿名函数// 这种手法,匿名函数,立即执行,不污染全局, 称为 立即执行匿名函数表达式//------------------ 思路: 为什么传 window , 而又不会传 undefined ???--------------//------------------ 传window 是为了速度 --------------// function () &#123;// function () &#123;// function () &#123;// function () &#123;// document.getElementById........ //这个 document 将会向作用域层层上找,直到最外层// &#125;// &#125;// &#125;// &#125;// jQuery 就是为了加快内部查找局部变量的速度,而直接把 window 以参数形式传进来// 这样 window 就在jQuery 内部 AO 上// 不传 undefined 是为了安全// 因为在 IE ,低版本中, undefined 竟然可以重新赋值, 如 undefined = 6;// 声明 undefined 局部变量( 名字是undefined而已),// 同时,又不传参,值自然是 undefined 防止了对外界 undefined 的污染","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"--JavaScript -3种事件绑定","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_15_事件绑定/","text":"JavaScript -3种事件绑定JavaScript -3种事件绑定JavaScript -3种事件绑定 1234567891011121314151617181920/** * 第一种绑定:行为结构不分离,效率也低 * &lt;a onclick=\"xxx()\"&gt; * * 第二种绑定:只能绑定1个事件 * xxxDomObject.onclick = function()&#123;&#125; * * 第三种绑定: addEventLister */// 一个页面的 js 由多人团队开发;// A,B 都在写 onload 事件// 则 后面的事件,吧前面的onload 属性值都给覆盖了// 这里只会输出 worldwindow.onload = function () &#123; alert(\"hello\");&#125;;window.onload = function () &#123; alert('world')&#125;;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-- JavaScript -面向对象之静态方法","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_13_面向对象之静态方法/","text":"JS 面向对象中的静态方法1: 构造函数通过 new 来制造对象2: 函数本身也是对象 比如一台豆浆机,转动 (new 调用)时,能返回一杯豆浆(制造出的对象)但反观豆浆机本身,也是台机器,也是个对象豆浆机身上也有属性—如开关,进水口等 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647/** * JS 面向对象中的静态方法 * 1: 构造函数通过 new 来制造对象 * 2: 函数本身也是对象 * * 比如一台豆浆机,转动 (new 调用)时,能返回一杯豆浆(制造出的对象) * 但反观豆浆机本身,也是台机器,也是个对象 * 豆浆机身上也有属性---如开关,进水口等 */// var Hashiqi = function () &#123;// this.bark=function () &#123;// console.log('www');// &#125;// &#125;//上面这个 等效 下面这个function Hashiqi()&#123; this.bark= function () &#123; console.log('www'); &#125;&#125;Hashiqi.ajax = function () &#123; console.log('ajax');&#125;;// var h = new Hashiqi(); //h方法有没有ajax方法?? 答:没有,豆浆机上的开关会跑到豆浆里面吗?// console.log(h);console.log(Hashiqi.ajax);/** * 即: * 1: ajax() 方法是属于\"函数\"本省的,和返回的对象没有关系 * 2: bark要调用,必须 new Hashiqi()得到对象,切由返回对象才能调用, * 3: ajax()方法要调用,不需要 new 对象,直接用 Hashiqi 来调用. */// h.bark();Hashiqi.ajax();/** * 我们之前有没有接触过静态方法? * 答: 有 * * 1: Math.random(); 静态方法 * 2:$.ajax(); 静态方法 * 3:写 jQuery 插件,2种办法 * 3.1: 通过闭包,把方法写到 jQuery 上的原型上( 稍复杂) * 3.3; 直接增加 $ 对象的静态方法 */ demo123456789&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-1.9.1.js\"&gt; &lt;/script&gt;&lt;script type=\"text/javascript\"&gt; //---------------- demo ------------ //通过静态方法给 jQuery 增加唱歌插件 $.sing = function () &#123; alert('人生最大的悲剧莫过于失去自由 人生最大的痛苦莫过于失去亲人和朋友'); &#125;; $.sing();&lt;/script&gt;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-JavaScript arguments","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_03_arguments/","text":"argumets 是什么? 答: 是一个对象,是一个长得很像数组的对象 arguments 内容是什么??? 答: arguments是函数运行时的实体参数列表 123456/*** 函数运行期内,关键的三个对象* AO -----&gt; 本函数 AO 上没有某属性,则继续去外层函数的* arguments -----&gt; 每个函数都有自己的 callee ,但 不 向外层接着找 arguments 的相关属性,即 不形成链* this */ demo_01 arguments 是什么?123456789(function (d, e, f) &#123; // 在此函数中无法用 d,e,f 形参来取的 'haha',因为没有相对应的形参 // 但我们可以用 arguments 来获取任意多个的实参 console.log(typeof arguments); // 输出 object console.log(arguments); // 对象 console.log(arguments[0]); // hello --&gt;长得像数组 console.log(arguments[1]); console.log(arguments[3]);&#125;)('hello', 'world', '!', 'haha'); arguments 实际内容12345678910(function (d, e, f) &#123; console.log(d); // 输出 hello arguments[0] = 'China'; console.log(d); // 输出 China ; 形参与对应的 arguments 单元,其实是互相映射的,互相影响&#125;)('hello', 'world', '!', 'haha');//---------------------------------------(function (d, e, f) &#123; console.log(arguments.length); // 输出长度 4 ; 实参个数&#125;)('hello', 'world', '!', 'haha'); 递归 arguments.callee123456789101112131415(function (d, e, f) &#123; console.log(arguments.callee); // 输出 function(d, e, f) &#123; console.log(arguments.callee); &#125;&#125;)('hello', 'world', '!', 'haha');//-----------------------------// 递归 , 求和,输出 5050console.log( (function (n) &#123; if (n &lt;= 1) &#123; return 1; &#125; else &#123; return n + arguments.callee(n - 1); &#125; &#125;)(100));","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"windows cmd 命令","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/win/win_cmd/","text":"windows中常用命令windows中常用命令windows中常用命令 帮助命令 help12help #查看所有命令help xcopy #查看xcopy所有参数 清除1cls #清除cmd控制台 不是内部命令 ‘.’ 不是内部或外部命令，也不是可运行的程序 12.\\node_modules\\.bin\\webpack -v #不是全局安装的webpack 用这个命令 查看版本(windows中执行)./node_modules/.bin/webpack -v #不是全局安装的webpack 用这个命令 查看版本(linux 中执行) xcpoy 复制文件夹12345678910参数:/s 复制目录和子目录，除了空的。/e 复制目录和子目录，包括空的。/c 即使有错误，也继续复制/y 禁止提示以确认改写一个/Q 复制时不显示文件名xcopy E:\\web\\win_web\\aaa E:\\web\\win_web\\bbb\\bbb_01 /e/c/y #注意目录文件后面不要有\\xcopy dist\\ dist2\\ /e/c/y #递归复制,直接确认xcopy dist\\ dist2\\ /e/c/q tree 显示目录树123456789101112语法: tree [drive:][path] [/F] [/A] 参数: drive 盘符 path 文件路径 /F 递归列出所有文件 /A 只查看文件夹, 忽略文件demo:tree tree_testtree tree_test /Ftree tree_test /A 查看端口,关闭端口12345678910111213netstat -aon|findstr 443tasklist|findstr xxxxxxx上面查出来PID#查看443端口Administrator@WIN-P6OAO8N8D5C MINGW64 ~/Desktop $ netstat -aon|findstr 443 TCP 0.0.0.0:443 0.0.0.0:0 LISTENING 5056#查看5056这个进程名字Administrator@WIN-P6OAO8N8D5C MINGW64 ~/Desktop$ tasklist|findstr 5056vmware-hostd.exe 5056 Services 0 52,416 K telnet 查看服务器某个端口是否开启1telnet 127.0.0.1 80 打开当前目录1234#windows中start explorer . #注意这里有个点 或者explorer . #注意这里有个点 创建文件,写入内容12345#创建写入echo \"fei\" &gt; zzz.txt#查看type aaa.txt","categories":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/categories/Win/"}],"tags":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/tags/Win/"}]},{"title":"-JavaScript 作用域   词法分析","date":"2015-08-03T16:00:00.000Z","path":"2015/08/04/JavaScript/JavaScript_01_作用域/","text":"注意​ 以 window.xxx 引用全局变量寻找不到,作为某个属性不存在,返回 undefined​ 直接以 xxx 引用某变量,寻找不到,则是报错 xxx is not defined 错误 作用域 入门123var test;console.log(test); // 输出 undefinedconsole.log(test2); //报错 test2 is not defined 词法分析入门123456789101112131415/*** 词法分析 入门* js 代码自上而下执行!!!** 但是---------* js 代码在整体运行分:* 词法分析期* 运行期** 自上而下执行,先有个一个\"词法分析过程\"!!!*/// 分析 词法分析期 var test_1; 赋值期 tes_1='fei';var test_1 = 'fei';console.log(test_1); //输出 feiconsole.log(window.test_1); //输出 fei 作用域 demo12345678910111213141516171819202122232425262728293031323334/** * 作用域 * 在js中,函数嵌套是非常普遍的 * 在函数嵌套中, * * 对变量是如何寻找的? * 答:首先在函数内寻找 * 寻找不到,则往外层寻找 * 直到....全局(window) */var c = 5;function t1() &#123; var d = 6; function t2() &#123; var e = 7; alert(c + d + e); &#125; t2();&#125;t1(); //输出 18//----------------------------var c = 5;function t1() &#123; var d = 6; function t2() &#123; var e = 7; var d=3; alert(c + d + e); &#125; t2();&#125;t1(); //输出 15 声明变量 var 的作用1234567891011121314151617181920212223242526272829303132333435/** * 声明变量 var 的作用 * var 是在函数运行的上下文中,声明一个变量 * 如果不加 var , 则是一个赋值操作 * 但不要狭隘的理解为----声明了一个全局变量 */alert(window.d);//输出 undefinedalert(window.e);//输出 undefinedfunction t() &#123; d = 5;//赋值操作 var e = 6;&#125;t();// 5 d没有加 var 仅仅是一个赋值操作,// 寻找t域内的函数,没有找到继续寻找...直到..&gt;window,最后 window.d = 5alert(window.d); // 输出 5alert(window.e); //输出 undefined//----------------------------------function t1() &#123; var d; function t2() &#123; d = 5; e = 6; &#125; t2();&#125;t1();console.log(e); // 输出 6console.log(d); //报错 is not definedconsole.log(window.e); //输出 6console.log(window.d); //输出 undefined 作用域 demo 2123456789101112131415161718192021var str1 = 'global';function t1() &#123; // 分析 // 这里 str1 这一行执行,在 t1 内寻找 str1--没有找到,又在 window 上寻找 str1--有,打印global // 这里 str2 这一行执行,在 t1 内寻找 str2--没有找到,又在 window 上寻找str2--没有,报错 str2 is not defined console.log(str1); // 输出 global console.log(str2); // 报错 is not defined // console.log(window.str1);// 输出 global // console.log(window.str2);// 输出 undefined // 分析 // 如果执行到这里,才会把全局的 str2变量赋上值 str2 = 'local'; // console.log(str1); // 输出 global // console.log(str2); // 报错 local // console.log(window.str1);// 输出 global // console.log(window.str2);// 输出 local&#125;t1(); 词法分析期 运行期1234567891011121314151617181920212223/* * 1步:先分析 t1 函数 * t()&#123; * var str2; // 分析 t1 内有str2 局部变量,注意此时函数没有执行,因此str2 的值是 undefined * &#125; * * 2步:执行 t1 函数 * console.log(str1); //global * console.log(str2); //undefined * str2 = 'local'; //此时,str 的值为 local */var str1 = 'global';function t1() &#123; console.log(str1); // 输出 global console.log(str2); // 报错 undefined console.log(window.str1);// 输出 global console.log(window.str2);// 输出 undefined var str2 = 'local';&#125;t1(); 扩展 const、let、var之间的区别 ……….","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"-IDEA搭建-SSM 步骤01","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/IDEA_SSM_搭建_步骤01/","text":"使用 IDEA搭建SSM项目[ SSM 全名: Spring+SpringMVC+MyBatis ]环境: IDEA, JDK1.8, Maven3.6,Tomcat7.0步骤分为三步: 01: 创建maven 工程; 02: 创建spring工程 03: 写个查询demo测试 第一步, 创建 maven 工程 测试到这里为止,可以测试一下,前几步有没问题 运行 hello world IDEA_SSM_搭建_步骤02 IDEA_SSM_搭建_步骤03","categories":[{"name":"SSM","slug":"SSM","permalink":"http://yoursite.com/categories/SSM/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/tags/IDEA/"},{"name":"SSM","slug":"SSM","permalink":"http://yoursite.com/tags/SSM/"}]},{"title":"-IDEA搭建-SSM 步骤03","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/IDEA_SSM_搭建_步骤03/","text":"使用 IDEA搭建SSM项目[ SSM 全名: Spring+SpringMVC+MyBatis ]环境: IDEA, JDK1.8, Maven3.6,Tomcat7.0步骤分为三步: 01: 创建maven 工程; 02: 创建spring工程 03: 写个查询demo测试 第三步,写个查询demo测试数据库SQL1234567891011121314-- 创建表CREATE TABLE `user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `username` varchar(255) DEFAULT NULL COMMENT '用户名', `password` varchar(255) DEFAULT NULL COMMENT '密码', `email` varchar(255) DEFAULT NULL COMMENT '邮箱', `mobile` varchar(255) DEFAULT NULL COMMENT '手机号', PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8 COMMENT='用户表';-- 插入三条数据INSERT INTO `feissm`.`user`(`id`, `username`, `password`, `email`, `mobile`) VALUES (1, 'dafei', '123456', 'dafei@qq.com', '11111111');INSERT INTO `feissm`.`user`(`id`, `username`, `password`, `email`, `mobile`) VALUES (2, 'dafei_02', '123456', 'dafei_02@qq.com', '1111111122');INSERT INTO `feissm`.`user`(`id`, `username`, `password`, `email`, `mobile`) VALUES (3, 'dafei_03', '123456', 'dafei_03@qq.com', '1111111133'); model 目录下 User.java文件User.java 文件内容 点击查看model目录下User.java文件 12345678910111213141516171819202122232425262728293031323334353637 public class User &#123; private long id; private String username; private String password; private String email; private String mobile; public long getId() &#123; return id; &#125; public void setId(long id) &#123; this.id = id; &#125; public String getUsername() &#123; return username; &#125; public void setUsername(String username) &#123; this.username = username; &#125; public String getPassword() &#123; return password; &#125; public void setPassword(String password) &#123; this.password = password; &#125; public String getEmail() &#123; return email; &#125; public void setEmail(String email) &#123; this.email = email; &#125; public String getMobile() &#123; return mobile; &#125; public void setMobile(String mobile) &#123; this.mobile = mobile; &#125;&#125; dao目录下 UserDao.java文件UserDao.java文件内容 123456789101112131415161718package com.dafei.dao;import com.dafei.model.User;public interface UserDao &#123; User selectUser(long id);&#125;//****************** 强烈建议使用 下面 **********package com.dafei.dao;import com.dafei.model.User;import org.apache.ibatis.annotations.Param;public interface UserDao &#123; User selectUser(@Param(\"id\") long id);&#125; resources--&gt;mapper目录下面 UserMapper.xmlUserMapper.xml文件内容 123456789101112&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;&lt;!-- 设置为UserDao接口方法提供sql语句配置 --&gt;&lt;mapper namespace=\"com.dafei.dao.UserDao\"&gt; &lt;select id=\"selectUser\" resultType=\"User\" parameterType=\"long\"&gt; SELECT * FROM user WHERE id = #&#123;id&#125; &lt;/select&gt;&lt;/mapper&gt; service目录下面UsrService.java文件UsrService.java 文件内容 1234567package com.dafei.service;import com.dafei.model.User;public interface UserService &#123; public User selectUser(long userId);&#125; service--&gt;impl目录下面UsrServiceImpl.java文件UsrServiceImpl.java文件内容 12345678910111213141516171819package com.dafei.service.impl;import com.dafei.dao.UserDao;import com.dafei.model.User;import com.dafei.service.UserService;import org.springframework.stereotype.Service;import javax.annotation.Resource;@Service(\"userService\")public class UserServiceImpl implements UserService &#123; @Resource private UserDao userDao; @Override public User selectUser(long userId) &#123; return userDao.selectUser(userId); &#125;&#125; controller目录下面UserController.javaUserController.java文件内容 123456789101112131415161718192021222324package com.dafei.controller;import com.dafei.model.User;import com.dafei.service.UserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.servlet.ModelAndView;@Controller@RequestMapping(\"/user\")public class UserController &#123; @Autowired private UserService userService; @RequestMapping(\"/select\") public ModelAndView selectUser() &#123; ModelAndView mv = new ModelAndView(); User user = userService.selectUser(1); mv.addObject(\"user\", user); mv.setViewName(\"user\"); return mv; &#125;&#125; 启动项目测试访问地址 localhost:8080/user/select 查看数据 整个项目的目录和文件结构 点击查看整个目录和文件结构 1234567891011121314151617181920212223242526272829303132333435363738E:\\selfweb\\git_dev\\java\\java01\\simplessm\\src└─main ├─java │ └─com │ └─dafei │ ├─controller │ │ UserController.java │ │ │ ├─dao │ │ UserDao.java │ │ │ ├─model │ │ User.java │ │ │ └─service │ │ UserService.java │ │ │ └─impl │ UserServiceImpl.jav │ ├─resources │ │ jdbc.properties │ │ log4j.properties │ │ spring-mvc.xml │ │ spring-mybatis.xml │ │ │ └─mapper │ UserMapper.xml │ └─webapp │ index.jsp │ └─WEB-INF │ web.xml │ └─jsp user.jsp userAll.jsp ​ IDEA_SSM_搭建_步骤01 IDEA_SSM_搭建_步骤02","categories":[{"name":"SSM","slug":"SSM","permalink":"http://yoursite.com/categories/SSM/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/tags/IDEA/"},{"name":"SSM","slug":"SSM","permalink":"http://yoursite.com/tags/SSM/"}]},{"title":"-MyEclipse导入其他人的MyEclipse项目","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/MyEclipse导入其他人的MyEclipse项目/","text":"MyEclipse导入其他人的MyEclipse项目 MyEclipse导入其他人的MyEclipse项目 01) 开始导入项目 02) 重新添加 libraries 和 JRE1234Referenced libraries 重新添加添加 JRE System Library 在项目上右键--&gt;Properties--&gt;Java Build Path --&gt; Libraries(删掉原来的)--&gt;Add Library--&gt;Alternate JRE(选择自己的jdk) 03) 运行项目1在项目上右键--&gt;Properties--&gt;Run as --&gt; MyEclipse Server Application 其他a-01) 使用自己的jdk1Window--&gt;Preferences--&gt;Java--&gt;Installed JREs--&gt;添加自己的jdk a-02) 使用自己的Tomcat1Window--&gt;Preferences--&gt;MyEclipse--&gt;Servers--&gt;Tomcat--&gt; 配置tomcat b-01) 创建一个 Hello world 的web项目123456701) 创建项目File--&gt;New--&gt; Web Project, 输入项目名字HelloWorld02) 运行项目在项目上右键:Run as --&gt; MyEclipse Server Application, 03) 在浏览器输入http://localhost:8080/HelloWorld/index.jsp 就可以访问了","categories":[{"name":"MyEclipse","slug":"MyEclipse","permalink":"http://yoursite.com/categories/MyEclipse/"}],"tags":[{"name":"MyEclipse","slug":"MyEclipse","permalink":"http://yoursite.com/tags/MyEclipse/"}]},{"title":"-IDEA -JSP 操作MySQL","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/IDEA_JSP_MySQL/","text":"IDEA 中JSP页面操作MySQLIDEA 中JSP页面操作MySQLIDEA 中JSP页面操作MySQL 新建Java web 工程 目录结构在 WEB-INF 目录下面新建lib 和 classes 文件,然后把MySQL的驱动包放到lib目录下面 配置Tomcat 配置lib配置lib导入MySQL驱动包 解决代码中红色12比如: out.print(\"print显示红色,解决红色\"); demo 练习index.jsp页面内容如下123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %&gt;&lt;%@ page import=\"java.sql.*\" %&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;MySQL数据库&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;table border=\"2\"&gt; &lt;thead&gt; &lt;tr&gt; &lt;td&gt;id&lt;/td&gt; &lt;td&gt;用户名&lt;/td&gt; &lt;td&gt;邮箱&lt;/td&gt; &lt;td&gt;手机号&lt;/td&gt; &lt;td&gt;密码&lt;/td&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;% // mysql-connector-java-5.1.30 的连接数据库 // Class.forName(\"org.gjt.mm.mysql.Driver\").newInstance(); // String url=\"jdbc:mysql://localhost:3306/temp_demo?characterEncoding=utf8&amp;useSSL=false\"; // Connection conn= DriverManager.getConnection(url,\"afei2\",\"123456\"); // Statement stmt=conn.createStatement(ResultSet.TYPE_SCROLL_SENSITIVE,ResultSet.CONCUR_UPDATABLE); // mysql-connector-java-8.0.18.jar 的连接数据库 Class.forName(\"com.mysql.cj.jdbc.Driver\");//加载驱动包 String url=\"jdbc:mysql://localhost:3306/temp_demo?useSSL=true&amp;serverTimezone=GMT%2B8\"; Connection conn = DriverManager.getConnection(url,\"afei2\",\"123456\"); Statement stmt=conn.createStatement(); String sql=\"select * from user\"; ResultSet rs=stmt.executeQuery(sql); while(rs.next()) &#123; %&gt; &lt;tr&gt; &lt;td&gt;&lt;%=rs.getString(\"id\")%&gt;&lt;/td&gt; &lt;td&gt;&lt;%=rs.getString(\"username\")%&gt;&lt;/td&gt; &lt;td&gt;&lt;%=rs.getString(\"email\")%&gt;&lt;/td&gt; &lt;td&gt;&lt;%=rs.getString(\"mobile\")%&gt;&lt;/td&gt; &lt;td&gt;&lt;%=rs.getString(\"password\")%&gt;&lt;/td&gt; &lt;/tr&gt; &lt;% &#125; %&gt; &lt;/table&gt; &lt;% out.print(\"恭喜你,已经学会数据库操作\"); rs.close(); stmt.close(); conn.close(); %&gt; &lt;/body&gt;&lt;/html&gt; 其他 mysql-connector-java各版本下载地址","categories":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/categories/IDEA/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/tags/IDEA/"},{"name":"JSP","slug":"JSP","permalink":"http://yoursite.com/tags/JSP/"},{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"}]},{"title":"-IDEA搭建-SSM 步骤02","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/IDEA_SSM_搭建_步骤02/","text":"使用 IDEA搭建SSM项目[ SSM 全名: Spring+SpringMVC+MyBatis ]环境: IDEA, JDK1.8, Maven3.6,Tomcat7.0步骤分为三步: 01: 创建maven 工程; 02: 创建spring工程 03: 写个查询demo测试 第二步,创建spring工程基本目录结构123456789101112131415目录位置\\simplessm\\src└─main ├─java │ └─com │ └─dafei │ ├─controller │ ├─dao │ ├─model │ └─service │ └─impl ├─resources │ └─mapper └─webapp └─WEB-INF └─jsp 第二步最终所有文件结构12345678910111213141516171819202122目录位置\\simplessm\\src└─main ├─java │ └─com │ └─dafei │ ├─controller │ ├─dao │ ├─model │ └─service │ └─impl ├─resources │ │ jdbc.properties │ │ log4j.properties │ │ spring-mvc.xml │ │ spring-mybatis.xml │ │ │ └─mapper └─webapp │ index.jsp │ └─WEB-INF │ web.xml 配置 pom.xml 文件,内容如下123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;pw.dafei&lt;/groupId&gt; &lt;artifactId&gt;simplessm&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;simplessm Maven Webapp&lt;/name&gt; &lt;!-- FIXME change it to the project's website --&gt; &lt;url&gt;http://www.example.com&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt; &lt;!-- spring版本号 --&gt; &lt;spring.version&gt;4.0.2.RELEASE&lt;/spring.version&gt; &lt;!-- mybatis版本号 --&gt; &lt;mybatis.version&gt;3.2.6&lt;/mybatis.version&gt; &lt;!-- log4j日志文件管理包版本 --&gt; &lt;slf4j.version&gt;1.7.7&lt;/slf4j.version&gt; &lt;log4j.version&gt;1.2.15&lt;/log4j.version&gt; &lt;druid.version&gt;1.0.9&lt;/druid.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.11&lt;/version&gt; &lt;!-- 表示开发的时候引入，发布的时候不会加载此包 --&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- spring 核心包 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- mybatis核心包 mybatis/spring包 --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;$&#123;mybatis.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 导入java ee jar 包 --&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;javax&lt;/groupId&gt; &lt;artifactId&gt;javaee-api&lt;/artifactId&gt; &lt;version&gt;7.0&lt;/version&gt; &lt;/dependency&gt;--&gt; &lt;!-- 数据库驱动 --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.30&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 导入dbcp的jar包，用来在 spring-mybatis.xml 中配置数据库 --&gt; &lt;dependency&gt; &lt;groupId&gt;commons-dbcp&lt;/groupId&gt; &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt; &lt;version&gt;1.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- JSTL标签类 --&gt; &lt;dependency&gt; &lt;groupId&gt;jstl&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 日志文件管理包 --&gt; &lt;!-- log start --&gt; &lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;$&#123;log4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- 格式化对象，方便输出日志 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.1.41&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.slf4j&lt;/groupId&gt; &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt; &lt;version&gt;$&#123;slf4j.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;!-- log end --&gt; &lt;!-- 映入JSON --&gt; &lt;!--&lt;dependency&gt;--&gt; &lt;!--&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;--&gt; &lt;!--&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;--&gt; &lt;!--&lt;version&gt;1.9.13&lt;/version&gt;--&gt; &lt;!--&lt;/dependency&gt;--&gt; &lt;!-- 上传组件包 --&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;commons-fileupload&lt;/groupId&gt; &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt; &lt;version&gt;1.3.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;2.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-codec&lt;/groupId&gt; &lt;artifactId&gt;commons-codec&lt;/artifactId&gt; &lt;version&gt;1.9&lt;/version&gt; &lt;/dependency&gt;--&gt; &lt;!-- 连接池 --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;$&#123;druid.version&#125;&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;simplessm&lt;/finalName&gt; &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt; &lt;version&gt;3.1.0&lt;/version&gt; &lt;/plugin&gt; &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.8.0&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt; &lt;version&gt;2.22.1&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt; &lt;version&gt;2.5.2&lt;/version&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt; &lt;version&gt;2.8.2&lt;/version&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/pluginManagement&gt; &lt;/build&gt;&lt;/project&gt; 创建数据库配置 和 日志配置文件数据库配置文件jdbc.properties日志配置文件log4j.properties jdbc.properties 文件内容 123456789101112131415driver=com.mysql.jdbc.Driverurl=jdbc:mysql://localhost:3306/feissm?characterEncoding=utf8&amp;useSSL=false#数据库的用户名 和 密码username=afei2password=123456#定义初始连接数initialSize=0#定义最大连接数maxActive=20#定义最大空闲maxIdle=20#定义最小空闲minIdle=1#定义最长等待时间maxWait=60000 log4j.properties 问内容 12345678910#日志输出级别log4j.rootLogger=debug,stdout,D,E#设置stdout的日志输出控制台log4j.appender.stdout=org.apache.log4j.ConsoleAppender#输出日志到控制台的方式，默认为System.outlog4j.appender.stdout.Target = System.out#设置使用灵活布局log4j.appender.stdout.layout=org.apache.log4j.PatternLayout#灵活定义输出格式log4j.appender.stdout.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; -[%p] method:[%c (%rms)] - %m%n 创建 spring-mvc 和 spring-mybatisspring-mvc 文件内容 1234567891011121314151617181920212223242526272829&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt; &lt;!-- 自动扫描 --&gt; &lt;context:component-scan base-package=\"com.dafei\"/&gt; &lt;!-- 开启SpringMVC注解模式 --&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- 静态资源默认servlet配置 --&gt; &lt;mvc:default-servlet-handler /&gt; &lt;!-- 配置返回视图的路径，以及识别后缀是jsp文件 --&gt; &lt;bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt; &lt;property name=\"viewClass\" value=\"org.springframework.web.servlet.view.JstlView\"/&gt; &lt;!--&lt;property name=\"prefix\" value=\"/WEB-INF/jsp\"/&gt;--&gt; &lt;property name=\"prefix\" value=\"/WEB-INF/\"/&gt; &lt;property name=\"suffix\" value=\".jsp\"/&gt; &lt;/bean&gt;&lt;/beans&gt; spring-mybatis 文件内容 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\"&gt; &lt;!-- 加载properties文件 --&gt; &lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt; &lt;property name=\"location\" value=\"classpath:jdbc.properties\"/&gt; &lt;/bean&gt; &lt;!-- 配置数据源 --&gt; &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt; &lt;property name=\"driverClassName\" value=\"$&#123;driver&#125;\"/&gt; &lt;property name=\"url\" value=\"$&#123;url&#125;\"/&gt; &lt;property name=\"username\" value=\"$&#123;username&#125;\"/&gt; &lt;property name=\"password\" value=\"$&#123;password&#125;\"/&gt; &lt;/bean&gt; &lt;!-- mybatis和spring完美整合，不需要mybatis的配置映射文件 --&gt; &lt;bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt; &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt; &lt;!-- 扫描model包 --&gt; &lt;property name=\"typeAliasesPackage\" value=\"com.dafei\"/&gt; &lt;!-- 扫描sql配置文件:mapper需要的xml文件 --&gt; &lt;property name=\"mapperLocations\" value=\"classpath:mapper/*.xml\"/&gt; &lt;/bean&gt; &lt;!-- Mapper动态代理开发，扫描dao接口包--&gt; &lt;bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\"&gt; &lt;!-- 注入sqlSessionFactory --&gt; &lt;property name=\"sqlSessionFactoryBeanName\" value=\"sqlSessionFactory\"/&gt; &lt;!-- 给出需要扫描Dao接口包 --&gt; &lt;property name=\"basePackage\" value=\"com.dafei.dao\"/&gt; &lt;/bean&gt; &lt;!-- 事务管理 --&gt; &lt;bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"&gt; &lt;!--数据库连接池--&gt; &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt; &lt;/bean&gt;&lt;/beans&gt; 修改web.xmlweb.xml文件内容 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263&lt;!DOCTYPE web-app PUBLIC \"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\" \"http://java.sun.com/dtd/web-app_2_3.dtd\" &gt;&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt; &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt; &lt;!--项目的欢迎页，项目运行起来后访问的页面--&gt; &lt;welcome-file-list&gt; &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt; &lt;/welcome-file-list&gt; &lt;!-- 注册ServletContext监听器，创建容器对象，并且将ApplicationContext对象放到Application域中 --&gt; &lt;listener&gt; &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt; &lt;/listener&gt; &lt;!-- 指定spring核心配置文件 --&gt; &lt;context-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-mybatis.xml&lt;/param-value&gt; &lt;/context-param&gt; &lt;!-- 解决乱码的过滤器 --&gt; &lt;filter&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;init-param&gt; &lt;param-name&gt;forceEncoding&lt;/param-name&gt; &lt;param-value&gt;true&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;!-- 配置前端控制器 --&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;!-- 指定配置文件位置和名称 如果不设置,默认找/WEB-INF/&lt;servlet-name&gt;-servlet.xml --&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;async-supported&gt;true&lt;/async-supported&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; 运行测试如果在第一步已经配置Tomcat,这里可以直接启动 IDEA_SSM_搭建_步骤01 IDEA_SSM_搭建_步骤03","categories":[{"name":"SSM","slug":"SSM","permalink":"http://yoursite.com/categories/SSM/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/tags/IDEA/"},{"name":"SSM","slug":"SSM","permalink":"http://yoursite.com/tags/SSM/"}]},{"title":"-IntelliJ IDEA 导入项目","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/IntelliJ_IDEA导入项目/","text":"使用idea做开发,需要从MyEclipse导入老项目. 使用idea做开发,需要从MyEclipse导入老项目. 1如果没有import 导入,在File--&gt;New--&gt;Project from Existing Source 开始导入项目 Modules 配置 Libraries 配置 Facets 配置 Artifacts 配置 Tomcat 配置 成功运行","categories":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/categories/IDEA/"}],"tags":[{"name":"IDEA","slug":"IDEA","permalink":"http://yoursite.com/tags/IDEA/"}]},{"title":"-Eclipse创建项目","date":"2015-07-03T16:00:00.000Z","path":"2015/07/04/java/eclipse_创建项目/","text":"Eclipse创建项目Eclipse创建项目Eclipse创建项目 01) Eclipse 配置Tomcat 02) 创建项目1File --&gt; new--&gt; Dynamic Web Project--&gt; 写上项目名字HelloWorld (选择Tomcat)--&gt;完成 03) 运行项目1201) 创建index.jsp02) 右键HelloWorld项目--&gt;New --&gt;jsp","categories":[{"name":"Eclipse","slug":"Eclipse","permalink":"http://yoursite.com/categories/Eclipse/"}],"tags":[{"name":"Eclipse","slug":"Eclipse","permalink":"http://yoursite.com/tags/Eclipse/"}]},{"title":"-ESX 基本使用","date":"2015-06-03T16:00:00.000Z","path":"2015/06/04/ESX/esxi/","text":"简单说明: esxi 中安装了多个vm,其中的某一台死机并且esxi控制台开始不能使用,这个时候就可以使用esxi的命令操作,重启其中某一台死机的机器,不影响其他机器。利用ssh登录esxi 使用 esxcli命令操作123456789esxcli vm process list #获取`正在`运行vm的信息esxcli vm process kill --type=hard --world-id=1190332 ##关闭指定world-id虚拟机Data_fei_200 World ID: 1190332 Process ID: 0 VMX Cartel ID: 35124 UUID: 56 4d 0b 4f d5 61 33 03-5e 41 43 d8 43 78 fb d8 Display Name: Data_fei_200 Config File: /vmfs/volumes/57518d68-cbf78024-3a0a-14187743ea91/Data_fei_200/Data_fei_200.vmx 使用vim-cmd 操作12345vim-cmd vmsvc/getallvms #获取`所有`vm的信息,格式如下图vim-cmd vmsvc/power.on 2 #打开虚拟机 (这里的2是下面的 Vimd)vim-cmd vmsvc/power.off 2 #关闭虚拟机 (这里的2是下面的 Vimd)vim-cmd vmsvc/power.reset 2 #重启虚拟机 (这里的2是下面的 Vimd)vim-cmd vmsvc/power.getstate 2 #查看虚拟机状态 Vimd Name File Guest OS Version 1 Data_fei_200 Data_fei_200/Data_fei_200.vmx centos64Guest vmx-08 2 Data_fei_220 Data_fei_200/Data_fei_220.vmx rhel7_64Guest vmx-10 常用命令12345678esxcli vm process list #获取正在运行vm的信息esxcli vm process kill --type=hard --world-id=你的world-id vim-cmd vmsvc/getallvms #获取`所有`vm的信息,格式如下图 vim-cmd vmsvc/power.on 2 #打开虚拟机 (这里的2是下面的 Vimd) vim-cmd vmsvc/power.off 2 #关闭虚拟机 (这里的2是下面的 Vimd) vim-cmd vmsvc/power.reset 2 #重启虚拟机 (这里的2是下面的 Vimd) vim-cmd vmsvc/power.getstate 2 #查看虚拟机状态","categories":[{"name":"ESX","slug":"ESX","permalink":"http://yoursite.com/categories/ESX/"}],"tags":[{"name":"ESX","slug":"ESX","permalink":"http://yoursite.com/tags/ESX/"}]},{"title":"-TypeScript 数据类型01","date":"2015-05-03T16:00:00.000Z","path":"2015/05/04/TypeScript/TypeScript_01/","text":"TypeScript 数据类型01TypeScript 数据类型01TypeScript 数据类型01 可选参数123456789101112// age 必须写let foo: &#123; name: string, age: number; &#125;;foo = &#123;name: \"daFei\", age: 18&#125;;// age 可选参数let bar: &#123; name: string, age?: number; &#125;;bar = &#123;name: \"daFei\"&#125;;bar = &#123;name: \"daFei2\", age: 20&#125;;// [xxx: string]: any; any表示任意类型 可扩展参数 ---xxx 可以随便写let hello: &#123; name: string, [xxx: string]: any; &#125;;hello = &#123;name: \"daFei3\", age: 22, gender: '男', tel: \"无\"&#125;; 函数参数1234567// 设置函数结构类型声明// 语法: (形参:类型, 形参:类型 ...) =&gt; 返回值let world: (a: number, b: number) =&gt; number;world = function (n1, n2): number &#123; return n1 + n2;&#125;;world(1, 3); 数组声明1234567891011// 数组类型声明:// 类型[]// Array&lt;类型&gt;let foo: string[];foo = ['a', 'b', 'c'];let bar: number[];bar = [1, 2, 3];let bar2: Array&lt;number&gt;;bar2 = [4, 5, 6]; 元祖1234// 元祖,就是固定长度的数组// 语法:[类型, 类型, 类型]let foo: [number, string, string];foo = [1, 'hello', 'world']; 枚举1234567891011121314151617// 枚举成员会被默认赋值为从 0 开始递增的数字enum Gender &#123; Male, Female&#125;let foo: &#123; name: string, gender: Gender; &#125;;foo = &#123;name: \"daFei\", gender: Gender.Male&#125;;console.log(Gender.Male); // 输出 0console.log(Gender.Female);// 输出 1// 手动赋值enum Language &#123; Chinese = 1, English = 2&#125;console.log(Language.Chinese); // 输出 1console.log(Language.English); // 输出 2 表示同时&amp;123// &amp; 表示同时let bar: &#123; name: string; &#125; &amp; &#123; age: number; &#125;;bar = &#123;name: \"daFei\", age: 18&#125;; 类型别名12345678910// type 创建 类型别名type myType = String;type myType2 = number;let foo: myType;let bar: myType2;foo = \"daFei\";bar = 18; 泛型泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性 12345678910111213141516171819202122232425// T 是随便写的(自定义),T会捕获用户传入的类型function foo&lt;T&gt;(name: T): T &#123; return name;&#125;foo&lt;String&gt;(\"daFei\"); // 字符串function bar&lt;T&gt;(age: T): T &#123; return age;&#125;bar&lt;number&gt;(18); // 数字// 多个泛型参数的函数function fn&lt;K, V&gt;(name: K, age: V): K &#123; console.log(age); return name;&#125;fn&lt;string, number&gt;(\"daFei\", 20);function person&lt;K, V&gt;(name: K, age: V): [K, V] &#123; return [name, age];&#125;person&lt;string, number&gt;(\"daFei\", 18); 泛型约束1234567891011// 泛型约束,对泛型进行约束，只允许这个函数传入那些包含 length 属性的变量interface inter &#123; length: number;&#125;function fn&lt;T extends inter&gt;(name: T): T &#123; return name;&#125;fn&lt;string&gt;(\"daFei\");fn&lt;Array&lt;string&gt;&gt;([\"论语\", \"史记\"]); 1234567891011// 泛型约束,对泛型进行约束，只允许这个函数传入那些包含 length 属性的变量interface inter2 &#123; length: number;&#125;function fn2&lt;T extends inter2&gt;(name: T): number &#123; return name.length;&#125;fn2&lt;string&gt;(\"daFei\");fn2&lt;Array&lt;string&gt;&gt;([\"论语\", \"史记\"]); 类型断言as123456789// 类型断言:告诉编译器,这里是什么类型,语法 ( xxx as 类型)function foo(name:string|number):number &#123; if ((name as string).length) &#123; return (name as string).length; &#125;else&#123; // 说明name是number return name.toString().length; &#125;&#125; 忽略检查@ts-ignore1234567891011121314151617181920function bar(name:string|number):number &#123; //@ts-ignore if (name.length) &#123; // todo:fei 忽略检查 return (name as string).length; &#125;else&#123; // 说明name是number return name.toString().length; &#125;&#125;// 或者用判断 --------------function hello(name:string|number):number &#123; if (typeof name !== \"number\" &amp;&amp; name.length) &#123; // todo:fei 用判断 return (name as string).length; &#125;else&#123; // 说明name是number return name.toString().length; &#125;&#125; 属性封装12345678910111213141516171819202122232425262728class Person &#123; private _name: string; constructor(name:string) &#123; this._name = name; &#125; /*getName() &#123; return this._name; &#125; setName(value: string) &#123; this._name = value; &#125;*/ // ES6 语法 get name(): string &#123; return this._name; &#125; set name(value: string) &#123; this._name = value; &#125;&#125;const per =new Person(\"daFei\");// per.setName(\"论语\");per.name = \"史记\"; // ES6 语法console.log(per); 内置对象–类型声明使用 ECMAScript 的内置对象 BooleanNumberStringDateRegExpError BOM 和 DOM 的内置对象 WindowDocumentHTMLElementDocumentFragmentEventNodeList TypeScript 手册TypeScript 备用手册1 TypeScript 备用手册2","categories":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/categories/TypeScript/"}],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/tags/TypeScript/"}]},{"title":"-TypeScript 数据类型02","date":"2015-05-03T16:00:00.000Z","path":"2015/05/04/TypeScript/TypeScript_02/","text":"TypeScript 数据类型02, 一个简单demo图书添加查询TypeScript 数据类型02, 一个简单demo图书添加查询TypeScript 数据类型02, 一个简单demo图书添加查询 demo:12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849interface BaseCRUD&lt;T&gt; &#123; data: Array&lt;T&gt;; add: (t: T) =&gt; void; getBookId: (id: number) =&gt; T; getBookName: (name: String) =&gt; T;&#125;class Book &#123; id?: number; // todo:fei 在 constructor 没有使用id,所以这里用 ?: name: string; price: number; constructor(name: string, price: number) &#123; // this.id = 1; // todo:fei这里不使用,注意定义地方 this.name = name; this.price = price; &#125;&#125;class BookCRUD implements BaseCRUD&lt;Book&gt; &#123; data: Book[] = []; add(book: Book): void &#123; book = &#123;...book, id: Date.now()&#125;; this.data.push(book); console.log(\"保存成功\"); &#125;; // todo:fei as 类型断言 , @ts-ignore 是忽略检查 getBookId(id: number): Book &#123; return (this.data.find(item =&gt; item.id === id)) as Book; // todo:fei 这里使用下面这种方式也行 // @ts-ignore // return this.data.find(item =&gt; item.id === id); &#125;; // @ts-ignore getBookName(name: string): Book &#123; // @ts-ignore return this.data.find(item =&gt; item.name === name); &#125;&#125;const bookCurd = new BookCRUD();bookCurd.add(new Book(\"论语\", 100));bookCurd.add(new Book('史记', 200));console.log(bookCurd.data);console.log(bookCurd.getBookName(\"论语\"));console.log(bookCurd.getBookId((bookCurd.data[0].id) as number)); TypeScript 手册TypeScript 备用手册1 TypeScript 备用手册2","categories":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/categories/TypeScript/"}],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/tags/TypeScript/"}]},{"title":"-drools 笔记","date":"2015-05-03T16:00:00.000Z","path":"2015/05/04/drools/drools01/","text":"drools 简单使用drools 简单使用drools 简单使用 逗号 comma1234567891011121314逗号字符用于分割约束,他具有隐含的 AND 连接语义// Person is at least 50 and weighs at least 80 kgPerson( age &gt; 50, weight &gt; 80 )// Person is at least 50, weighs at least 80 kg and is taller than 2 meter.Person( age &gt; 50, weight &gt; 80, height &gt; 2 )!!!但是逗号不能嵌入到复合约束表达式中,例如括号Person( ( age &gt; 50, weight &gt; 80 ) || height &gt; 2 ) // Do NOT do this: compile error// Use this insteadPerson( ( age &gt; 50 &amp;&amp; weight &gt; 80 ) || height &gt; 2 ) Comma separated AND 嵌套对象的分组访问器123一下2个等效, 注意不要丢了!!!点!!!Person( name == \"mark\", address.city == \"london\", address.country == \"uk\" )Person( name == \"mark\", address.( city == \"london\", country == \"uk\") ) Grouped accessors for nested objects 操作符优先级123456789101112131415(nested) property access . List/Map access [ ] constraint binding : multiplicative * / % additive + - shift &lt;&lt; &gt;&gt; &gt;&gt;&gt; relational &lt; &gt; &lt;= &gt;= instanceof equality == != bit-wise non-short circuiting AND &amp; bit-wise non-short circuiting exclusive OR ^ bit-wise non-short circuiting inclusive OR | logical AND &amp;&amp; logical OR || ternary ? : Comma separated AND , Operators priority 操作符优先级 。⌘ 基本Drools规则语言语法","categories":[{"name":"drools","slug":"drools","permalink":"http://yoursite.com/categories/drools/"}],"tags":[{"name":"drools","slug":"drools","permalink":"http://yoursite.com/tags/drools/"}]},{"title":"ubuntu -docker","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/docker/docker/","text":"docker使用建议,一个docker 容器中运行一种服务 ubuntu 安装 docker123456789101112131415161718192021222324sudo apt-get updatesudo apt-get install \\ apt-transport-https \\ ca-certificates \\ curl \\ gnupg-agent \\ software-properties-common curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -#这条命令修改文件位置: /etc/apt/sources.listsudo add-apt-repository \\ \"deb [arch=amd64] https://download.docker.com/linux/ubuntu \\ $(lsb_release -cs) \\ stable\" sudo apt-get updatesudo apt-get install docker-ce docker-ce-cli containerd.io#验证: https://docs.docker.com/get-started/sudo docker run hello-world此命令下载测试映像并在容器中运行它。当容器运行时，它会打印一条信息性消息并退出 官网Ubuntu安装Docker CE 配置 docker加速12345678910111213141516171819202122cd /etc/docker/ touch daemon.json #没有这个文件手动创建文件里面内容如下:-----------使用docker官方镜像-----以后下载镜像会慢-----&#123; \"registry-mirrors\": [ \"https://registry.docker-cn.com\" ], \"insecure-registries\": []&#125;--------- 使用阿里云进行加速----先到阿里云申请,这里我已经申请好了------&#123; \"registry-mirrors\": [ \"https://qlc9qgml.mirror.aliyuncs.com\" ], \"insecure-registries\": []&#125;-----------------------------------sudo systemctl daemon-reloadsudo systemctl restart docker #重启docker 阿里云官方镜像加速文档 docker安装nginx0112345678910111213docker search nginx #查看nginx镜像docker pull nginx #拉取官方镜像,上面没有配置好docker加速器这里会下非常慢docker images nginx #查看镜像docker run --name container01 -p 8081:80 -d nginx #container01 这个名随便起#--name 容器名字(自己定义)#-p 端口映射#-d 后台运行docker ps #列出所又正在运行的容器 containers #这里列出的容器id记下来,下面会用到#访问测试,这里是端口8081http://127.0.0.1:8081/ docker安装nginx02 部署1234567891011121314151617181920212223242526272829303132#宿主机中创建目录mkdir -p /data/server/docker_fei/nginx/www \\/data/server/docker_fei/nginx/logs \\/data/server/docker_fei/nginx/conf#拷贝容器内 nginx 默认配置文件到本地目录,e765b2939521 容器id可以用 docker ps 查看docker cp e765b2939521:/etc/nginx/nginx.conf /data/server/docker_fei/nginx/conf#部署, 把宿主机中的目录挂载(映射)到docker容器中,这里会!!!重新在创建一个容器!!!docker run -d -p 8082:80 \\--name container04 \\-v /data/server/docker_fei/nginx/www:/usr/share/nginx/html \\-v /data/server/docker_fei/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \\-v /data/server/docker_fei/nginx/logs:/var/log/nginx \\nginx#-p 8082:80： 将容器的 80 端口映射到主机的 8082 端口# -v 将宿主机目录挂载(映射)到容器中cd /data/server/docker_fei/nginx/wwwtouch index.htmlvim index.html #内容如下hello world test /data/server/docker_fei/nginx/www #访问测试,这里是端口8082http://127.0.0.1:8082/docker stop container04 #关闭 container04 这个容器docker start container04 #启动 container04 这个容器docker restart container04 #重启 container04 这个容器##问题 宿主机中的目录挂载(映射)到docker容器中, 修改挂载(映射)文件、端口??????12345678文件地址:/var/lib/docker/containers/容器的hash值在这个目录下修改文件 hostconfig.json Binds 挂载目录PortBindings 端口修改完注意保持原来的格式,还是一行json 进入docker容器没有vim命令123456docker exec -it container01 /bin/bash #进入container01这个容器docker exec -it e765b2939521 /bin/bash #进入e765b2939521这个容器在docker容器中安装vim 命令,先同步在安装apt-get update #同步 /etc/apt/sources.list 和 /etc/apt/sources.list.d 中列出的源的索引apt-get install vim #这个时候安装 其他12345678910111213141516171819202122232425262728docker --versiondocker infodocker image ls #列出所有的镜像docker ps #查看已经运行容器docker ps -a #查看所有容器docker rm 容器名字(或者容器id) #删除容器docker container --help #容器帮助命令docker container ls #查看在运行容器docker container ls -a #查看所有容器docker container ls -aq #查看所有容器iddocker container ls --all #查看所有容器 docker stop container04 #关闭 container04 这个容器docker start container04 #启动 container04 这个容器docker restart container04 #重启 container04 这个容器docker exec -it container01 /bin/bash #进入container01这个容器docker exec -it e765b2939521 /bin/bash #进入e765b2939521这个容器docker attach e765b2939521 #进入e765b2939521这个容器#docker inspect container_name | grep -A10 -n Mounts #查看容器已经挂载的目录docker inspect container04 | grep -A10 -n Mounts#docker create ubuntu:latest #可以指定版本docker run --name 容器名字移除所有容器和镜像(大扫除)docker kill $(docker ps -q) ; docker rm $(docker ps -a -q) ; docker rmi $(docker images -q -a) Docker 资源汇总","categories":[{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}]},{"title":"PHP -常用功能","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/php/PHP常用功能/","text":"hello world ………….. PHP常用功能 phpunit aaa bbbb dddd hello world","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"}]},{"title":"php -GD -imagettftext库制作图片","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/php/php_gd_imagettftext/","text":"php -GD -imagettftext库制作图片php -GD -imagettftext库制作图片php -GD -imagettftext库制作图片 php GD 用 STHUPO.TTF 字体向图像写入文本php GD 用 STHUPO.TTF 字体向图像写入文本 php GD 用 STHUPO.TTF 字体向图像写入文本 1234567891011121314151617181920212223242526272829303132333435363738394041424344// GD 和图像处理函数// https://php.net/manual/zh/function.imagettftext.php// https://php.net/manual/zh/function.imagettftext.php// !!!为 imagettftext() 这函数使用相对路径做准备----------------------putenv('GDFONTPATH=' . realpath('.'));//1. 绘制图像资源（创建一个画布）$image = imagecreatetruecolor(500, 300);//2. 先分配一个绿色$green = imagecolorallocate($image, 22, 153, 0);//3. 使用绿色填充画布// imagefill($image, 0, 0, $green);//03-02)使用抗锯齿（antialias）功能 ↓↓↓// imageantialias($image,true);// $red_aa = imagecolorallocate($image, 255, 0, 0);// $red_aa2 = imagecolorallocate($image, 255, 0, 0);// imageline($image, 0, 0, 300, 300, $red_aa);// imageline($image, 100, 0, 400, 300, $red_aa2);//使用抗锯齿（antialias）功能 ↑↑↑//4. 在画布中绘制图像$bai = imagecolorallocate($image, 255, 255, 255);//使用指定的字体文件绘制文字//参数2：字体大小//参数3：字体倾斜的角度//参数4、5：文字的x、y坐标//参数6：文字的颜色//参数7：字体文件//参数8：绘制的文字//------- !!! -------------- imagettftext() 这个函数中的路径使用绝对路径,要想使用相对路径请注意 第一行代码 putenv()imagettftext($image, 30, 30, 200, 250, $bai, './STHUPO.TTF', 'helloworld');// imagettftext($image, 30, 30, 200, 250, $bai, __DIR__.'/STHUPO.TTF', 'helloworld');// imagettftext($image, 30, 30, 200, 250, $bai, realpath('./').'/STHUPO.TTF', 'helloworld');// imagettftext($image, 30, 30, 200, 250, $bai, 'C:/Windows/Fonts/aparajbi.ttf', 'helloworld');// imagettftext($image, 30, 30, 200, 250, $bai, 'C:/Windows/Fonts/STHUPO.TTF', 'helloworld');//5. 在浏览器直接输出图像资源header(\"Content-Type:image/jpeg\");imagejpeg($image);//6. 销毁图像资源imagedestroy($image); GD 和图像处理 函数","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"GD","slug":"GD","permalink":"http://yoursite.com/tags/GD/"}]},{"title":"php -GD 库制作图片","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/php/php_gd/","text":"php -GD 库制作图片php -GD 库制作图片php -GD 库制作图片 php GD 库制作图片使用 PHP GD 库制作一张图片,并在图片中输出文字 使用 PHP GD 库制作一张图片,并在图片中输出文字 1234567891011121314151617181920212223242526272829303132333435// GD 和图像处理函数// https://www.php.net/manual/zh/ref.image.php// https://www.php.net/manual/zh/ref.image.php$size = 300;$image=imagecreatetruecolor($size+200, $size+400);// 用黑色边框得到白色背景的东西$back = imagecolorallocate($image, 255, 255, 255);$border = imagecolorallocate($image, 0, 0, 0);imagefilledrectangle($image, 0, 0, $size + 150, $size + 100, $back);imagerectangle($image, 0, 0, $size +150, $size + 100, $border);$yellow_x = 200;$yellow_y = 175;$radius = 250;// 使用 alpha 值分配颜色$yellow = imagecolorallocatealpha($image, 255, 255, 0, 75);$text_color = imagecolorallocate($image, 233, 14, 91);// 画一个圆imagefilledellipse($image, $yellow_x, $yellow_y, $radius, $radius, $yellow);// 画一个矩形// imagefilledrectangle($image,$yellow_x-100, $yellow_y-100, $radius+50, $radius+40, $yellow);// 水平地画一行字符串imagestring($image, 5, 150, 150, \"hello world\", $text_color);// 垂直地画一行字符串// imagestringup ($image, 5, 150, 150, \"hello world\", $text_color);// 告诉浏览器输出 png 图片header('Content-type: image/png');// 输出结果imagepng($image);imagedestroy($image); GD 和图像处理 函数","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"GD","slug":"GD","permalink":"http://yoursite.com/tags/GD/"}]},{"title":"windows  phpstudy curl超时","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/php/win_phpStudy/","text":"场景: windows7 phpstudy2016 php7.3 nginx, 使用curl file_get_content本地项目之间互相访问一直超时或者失败 场景再现123456789101112131415demo.test.com:80文件 E:\\selfweb\\git_dev\\test\\index.php 内容如下:&lt;?php$file = file_get_contents(\"http://demo.test.com:80/index2.php\");print_r($file);echo \"&lt;br&gt; php-cgi.exe -b demo.test.com:9001 -c php.ini\";------------- 目录 E:\\selfweb\\git_dev\\test\\index2.php 内容如下&lt;?phpecho \"我是 index2.php 从我这里拿数据\";访问 http://demo.test.com:80/index2.php #成功访问 http://demo.test.com:80/index.php #失败 解决办法12345678910111213141516171819202122232425262728293031323334353637383940414243#修改nginx配置,添加81端口,添加9001端口server &#123; listen 80; #这里 server_name demo.test.com 192.168.1.151; charset utf-8; root E:/selfweb/git_dev/test/; index index.php; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; #这里 fastcgi_index index.php; include fastcgi.conf; &#125;&#125;server &#123; listen 81; #这里 server_name demo.test.com; charset utf-8; root E:/selfweb/git_dev/test/; index index.php; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9001; #这里 fastcgi_index index.php; include fastcgi.conf; &#125;&#125;#重启phpStudy,在当前php目录下的cmd中运行命令:php-cgi.exe -b demo.test.com:9001 -c php.ini#修改文件文件 E:\\selfweb\\git_dev\\test\\index.php 中端口内容如下:&lt;?php$file = file_get_contents(\"http://demo.test.com:81/index2.php\");print_r($file);echo \"&lt;br&gt; php-cgi.exe -b demo.test.com:9001 -c php.ini\";#再次访问访问 http://demo.test.com:80/index2.php #成功访问 http://demo.test.com:80/index.php #成功 编写bat 脚本123#创建 test_curl.bat 脚本,内容如下set php_nts=D:\\soft_position\\phpStudy20161103\\php\\php-7.3.4-nts%php_nts%\\php-cgi.exe -b demo.test.com:9001 -c %php_nts%\\php.ini","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"}]},{"title":"php -函数","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/php/php函数/","text":"php -函数php -函数php -函数 http_build_query1生成 URL-encode 之后的请求字符串：数组array('foo', 'bar', 'baz''); 转为 foo=bar&amp;baz=boom 程序执行函数1234system(\"php -v\");passthru(\"php -v\");exec(\"php -v\");shell_exec(\"php -v\"); 数学函数数学函数进行四则运算 12echo bcmul(\"3\", \"3.3\",2); // 输出 9.9echo bcadd('1.234', '5', 4); // 输出 6.2340 BC 数学 函数","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"}]},{"title":"linux php -PDO_OCI 扩展","date":"2015-04-03T16:00:00.000Z","path":"2015/04/04/php/php连接oracle_pdoOci扩展安装/","text":"PHP连接到oracle数据库需要pdo_oci 扩展PHP连接到oracle数据库需要pdo_oci 扩展PHP连接到oracle数据库需要pdo_oci 扩展 下载文件12345678910https://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.htmlhttps://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html下载下面2个文件,上传到服务器:instantclient-basic-linux.x64-12.1.0.2.0.zipinstantclient-sdk-linux.x64-12.1.0.2.0下载 oracle 数据库的扩展 oci8https://pecl.php.net/package/oci8oci8-2.2.0.tgz下载 php-src ,主要使用 pdo_oci 目录https://github.com/php/php-src 安装 instantclient1234567891011121314151617进入linux:unzip instantclient-basic-linux.x64-12.1.0.2.0.zipunzip instantclient-sdk-linux.x64-12.1.0.2.0.zipcd /data/server/oracle_phpcp -avr instantclient-basic-linux.x64-12.1.0.2.0.zip /data/server/oracle_php/cp -avr instantclient-sdk-linux.x64-12.1.0.2.0.zip /data/server/oracle_php/#这里解压后会放再一个目录中unzip instantclient-basic-linux.x64-12.1.0.2.0.zipunzip instantclient-sdk-linux.x64-12.1.0.2.0.zipmv instantclient_12_1 instantclient cd instantclientln -s libnnz12.so libnnz.soln -s libclntsh.so.12.1 libclntsh.soln -s libocci.so.12.1 libocci.so 安装 oci8 扩展1234567891011121314cd /data/server/oracle_phptar -zxvf oci8-2.2.0.tgzcd oci8-2.2.0/data/server/php72/bin/phpize./configure \\--with-oci8=instantclient,/data/server/oracle_php/instantclient \\--with-php-config=/data/server/php72/bin/php-configmakemake install## 最后安装成功[www@localhost oci8-2.2.0]$ make installInstalling shared extensions: /data/server/php72/lib/php/extensions/no-debug-non-zts-20170718/[www@localhost oci8-2.2.0]$ 安装 pdo_oci 扩展123456789101112131415161718192021https://pecl.php.net/package/PDO_OCI这里的 PDO_OCI-1.0.tgz 已经不在维护,从github 上php/php-src 中下载使用 pdo_oci 目录改从这里下载https://github.com/php/php-src 使用 php-src 里面的 pdo_ocicd pdo_oci/data/server/php72/bin/phpize./configure \\--with-pdo-oci=instantclient,/data/server/oracle_php/instantclient \\--with-php-config=/data/server/php72/bin/php-configmakemake install## 最后安装成功[www@localhost pdo_oci]$ make installInstalling shared extensions: /data/server/php72/lib/php/extensions/no-debug-non-zts-20170718/[www@localhost pdo_oci]$ -----配置 php.ini ------php.ini配置中添加一句 extension=pdo_oci.so php-src pecl","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"PDO_OCI","slug":"PDO-OCI","permalink":"http://yoursite.com/tags/PDO-OCI/"}]},{"title":"CSS 之 text-align","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_text_align/","text":"css 之 text-align css 之text-align css 之 text-align text-align 文本对齐123456789101112131415&lt;style&gt;.box&#123; background-color: #00ff00; text-align: center; /** 让inner中内容居中对齐,不是对inner的div居中*/&#125;.inner&#123; background-color: #9b5384; width: 200px; /*这行*/ display: inline-block; /*这行*/ /* text-align-last: justify; */&#125;&lt;/style&gt;&lt;div class=\"box\"&gt; &lt;div class=\"inner\"&gt;我是div元素&lt;/div&gt;&lt;/div&gt; ###","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"text-align","slug":"text-align","permalink":"http://yoursite.com/tags/text-align/"}]},{"title":"Postman 中设置全局变量,token","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/postman/","text":"Postman 中设置全局变量,解决token传参更新问题Postman 中设置全局变量,解决token传参更新问题Postman 中设置全局变量,解决token传参更新问题 背景: 使用postman的时候调用接口添加token越来越多,每次手动更新token太浪时间 全局添加变量 全局变量使用 更新全局变量token12345678//把json字符串转化为对象var data=JSON.parse(responseBody);//获取data对象的access_token值。 [ access_token 看自己实际场景 ]var token=data.data.access_token;//设置成全局变量,可以替换刚才写的 fei_token 的值pm.environment.set(\"fei_token\", \"Bearer \"+token);","categories":[{"name":"Postman","slug":"Postman","permalink":"http://yoursite.com/categories/Postman/"}],"tags":[{"name":"Postman","slug":"Postman","permalink":"http://yoursite.com/tags/Postman/"}]},{"title":"搜狗输入法---拆字圣手","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/sougou/","text":"搜狗输入法—拆字圣手搜狗输入法—拆字圣手搜狗输入法—拆字圣手 拼音输入不认识的重叠着组成的汉字,比如( 森,焱,淼,㵘,犇,槑 )技巧: 先打u字,然后拼音你要重叠的字","categories":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/categories/Other/"}],"tags":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/tags/Other/"}]},{"title":"-特殊字符Unicode编码 -HTML -CSS -JavaScript","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/特殊字符Unicode编码/","text":"-特殊字符Unicode编码 -HTML -CSS -JavaScript-特殊字符Unicode编码 -HTML -CSS -JavaScript-特殊字符Unicode编码 -HTML -CSS -JavaScript after content在每个li后面添加一个星星 12345678910111213&lt;style&gt; li:after &#123; content: \"\\2605\"; &#125;&lt;/style&gt;&lt;span&gt;在每个li后面添加一个星星&lt;/span&gt;&lt;ul&gt; &lt;li&gt;大飞&lt;/li&gt; &lt;li&gt;大飞&lt;/li&gt; &lt;li&gt;大飞&lt;/li&gt; &lt;li&gt;大飞&lt;/li&gt; &lt;li&gt;大飞&lt;/li&gt;&lt;/ul&gt; 特殊字符Unicode编码 -HTML -CSS -JavaScript 01)箭头类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ⇠ &amp;#8672 \\u21E0 \\21E0 ⇢ &amp;#8674 \\u21E2 \\21E2 ⇡ &amp;#8673 \\u21E1 \\21E1 ⇣ &amp;#8675 \\u21E3 \\21E3 ↞ &amp;#8606 \\u219E \\219E ↠ &amp;#8608 \\u21A0 \\21A0 ↟ &amp;#8607 \\u219F \\219F ↡ &amp;#8609 \\u21A1 \\21A1 ← &amp;#8592 \\u2190 \\2190 → &amp;#8594 \\u2192 \\2192 ↑ &amp;#8593 \\u2191 \\2191 ↓ &amp;#8595 \\u2193 \\2193 ↔ &amp;#8596 \\u2194 \\2194 ↕ &amp;#8597 \\u2195 \\2195 ⇄ &amp;#8644 \\u21C4 \\21C4 ⇅ &amp;#8645 \\u21C5 \\21C5 ↢ &amp;#8610 \\u21A2 \\21A2 ↣ &amp;#8611 \\u21A3 \\21A3 ⇞ &amp;#8670 \\u21DE \\21DE ⇟ &amp;#8671 \\u21DF \\21DF ↫ &amp;#8619 \\u21AB \\21AB ↬ &amp;#8620 \\u21AC \\21AC ⇜ &amp;#8668 \\u21DC \\21DC ⇝ &amp;#8669 \\u21DD \\21DD ↚ &amp;#8602 \\u219A \\219A ↛ &amp;#8603 \\u219B \\219B ↮ &amp;#8622 \\u21AE \\21AE ↭ &amp;#8621 \\u21AD \\21AD ⇦ &amp;#8678 \\u21E6 \\21E6 ⇨ &amp;#8680 \\u21E8 \\21E8 ⇧ &amp;#8679 \\u21E7 \\21E7 ⇩ &amp;#8681 \\u21E9 \\21E9 ▲ &amp;#9650 \\u25B2 \\25B2 ► &amp;#9658 \\u25BA \\25BA ▼ &amp;#9660 \\u25BC \\25BC ◄ &amp;#9668 \\u25C4 \\25C4 ➔ &amp;#10132 \\u2794 \\2794 ➙ &amp;#10137 \\u2799 \\2799 ➨ &amp;#10152 \\u27A8 \\27A8 ➲ &amp;#10162 \\u27B2 \\27B2 ➜ &amp;#10140 \\u279C \\279C ➞ &amp;#10142 \\u279E \\279E ➟ &amp;#10143 \\u279F \\279F ➠ &amp;#10144 \\u27A0 \\27A0 ➤ &amp;#10148 \\u27A4 \\27A4 ➥ &amp;#10149 \\u27A5 \\27A5 ➦ &amp;#10150 \\u27A6 \\27A6 ➧ &amp;#10151 \\u27A7 \\27A7 ➵ &amp;#10165 \\u27B5 \\27B5 ➸ &amp;#10168 \\u27B8 \\27B8 ➼ &amp;#10172 \\u27BC \\27BC ➽ &amp;#10173 \\u27BD \\27BD ➺ &amp;#10170 \\u27BA \\27BA ➳ &amp;#10163 \\u27B3 \\27B3 ↷ &amp;#8631 \\u21B7 \\21B7 ↶ &amp;#8630 \\u21B6 \\21B6 ↻ &amp;#8635 \\u21BB \\21BB ↺ &amp;#8634 \\u21BA \\21BA ↵ &amp;#8629 \\u21B5 \\21B5 ↯ &amp;#8623 \\u21AF \\21AF ➾ &amp;#10174 \\u27BE \\27BE 02)❤ 基本形状类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ❤ &amp;#10084 \\u2764 \\2764 ✈ &amp;#9992 \\u2708 \\2708 ★ &amp;#9733 \\u2605 \\2605 ✦ &amp;#10022 \\u2726 \\2726 ☀ &amp;#9728 \\u2600 \\2600 ◆ &amp;#9670 \\u25C6 \\25C6 ◈ &amp;#9672 \\u25C8 \\25C8 ▣ &amp;#9635 \\u25A3 \\25A3 ☻ &amp;#9787 \\u263B \\263B ☺ &amp;#9786 \\u263A \\263A ☹ &amp;#9785 \\u2639 \\2639 ✉ &amp;#9993 \\u2709 \\2709 ☎ &amp;#9742 \\u260E \\260E ☏ &amp;#9743 \\u260F \\260F ✆ &amp;#9990 \\u2706 \\2706 � &amp;#65533 \\uFFFD \\FFFD ☁ &amp;#9729 \\u2601 \\2601 ☂ &amp;#9730 \\u2602 \\2602 ❄ &amp;#10052 \\u2744 \\2744 ☃ &amp;#9731 \\u2603 \\2603 ❈ &amp;#10056 \\u2748 \\2748 ✿ &amp;#10047 \\u273F \\273F ❀ &amp;#10048 \\u2740 \\2740 ❁ &amp;#10049 \\u2741 \\2741 ☘ &amp;#9752 \\u2618 \\2618 ❦ &amp;#10086 \\u2766 \\2766 ☕ &amp;#9749 \\u9749 \\9749 ❂ &amp;#10050 \\u2742 \\2742 ☥ &amp;#9765 \\u2625 \\2625 ☮ &amp;#9774 \\u262E \\262E ☯ &amp;#9775 \\u262F \\262F ☪ &amp;#9770 \\u262A \\262A ☤ &amp;#9764 \\u2624 \\2624 ✄ &amp;#9988 \\u2704 \\2704 ✂ &amp;#9986 \\u2702 \\2702 ☸ &amp;#9784 \\u2638 \\2638 ⚓ &amp;#9875 \\u2693 \\2693 ☣ &amp;#9763 \\u2623 \\2623 ⚠ &amp;#9888 \\u26A0 \\26A0 ⚡ &amp;#9889 \\u26A1 \\26A1 ☢ &amp;#9762 \\u2622 \\2622 ♻ &amp;#9851 \\u267B \\267B ♿ &amp;#9855 \\u267F \\267F ☠ &amp;#9760 \\u2620 \\2620 03)¥ 货币类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS $ &amp;#36 \\u0024 \\0024 ¢ &amp;#162 \\u00A2 \\00A2 £ &amp;#163 \\u00A3 \\00A3 ¤ &amp;#164 \\u00A4 \\00A4 € &amp;#8364 \\u20AC \\20AC ¥ &amp;#165 \\u00A5 \\00A5 ₱ &amp;#8369 \\u20B1 \\20B1 ₹ &amp;#8377 \\u20B9 \\20B9 04)½ 数学类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ½ &amp;#189 \\u00BD \\00BD ¼ &amp;#188 \\u00BC \\00BC ¾ &amp;#190 \\u00BE \\00BE ⅓ &amp;#8531 \\u2153 \\2153 ⅔ &amp;#8532 \\u2154 \\2154 ⅛ &amp;#8539 \\u215B \\215B ⅜ &amp;#8540 \\u215C \\215C ⅝ &amp;#8541 \\u215D \\215D ‰ &amp;#8240 \\u2030 \\2030 % &amp;#37 \\u0025 \\0025 &lt; &amp;#60 \\u003C \\003C &gt; &amp;#62 \\u003E \\003E 05)♫ 音乐符号类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ♩ &amp;#9833 \\u2669 \\2669 ♪ &amp;#9834 \\u266A \\266A ♫ &amp;#9835 \\u266B \\266B ♬ &amp;#9836 \\u266C \\266C ♭ &amp;#9837 \\u266D \\266D ♯ &amp;#9839 \\u266F \\266F 06)☞ 手型、铅笔、笔 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ☜ &amp;#9756 \\u261C \\261C ✍ &amp;#9997 \\u270D \\270D ☞ &amp;#9758 \\u261E \\261E ✎ &amp;#9998 \\u270E \\270E ☝ &amp;#9757 \\u261D \\261D ✐ &amp;#10000 \\u2710 \\2710 ☟ &amp;#9759 \\u261F \\261F ✏ &amp;#9999 \\u270F \\270F ✌ &amp;#9996 \\u270C \\270C ✑ &amp;#10001 \\u2711 \\2711 ✒ &amp;#10002 \\u2712 \\2712 07)✖ 对错号 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS &amp;#160 \\u00A0 \\00A0 ☐ &amp;#9744 \\u2610 \\2610 ☑ &amp;#9745 \\u2611 \\2611 ☒ &amp;#9746 \\u2612 \\2612 ✓ &amp;#10003 \\u2713 \\2713 ✔ &amp;#10004 \\u2714 \\2714 ✕ &amp;#10005 \\u10005 \\10005 ✖ &amp;#10006 \\u2716 \\2716 ✗ &amp;#10007 \\u2717 \\2717 ✘ &amp;#10008 \\u2718 \\2718 08)★ 星星 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ★ &amp;#9733 \\u2605 \\2605 ✭ &amp;#10029 \\u272D \\272D ✮ &amp;#10030 \\u272E \\272E ☆ &amp;#9734 \\u2606 \\2606 ✪ &amp;#10026 \\u272A \\272A ✡ &amp;#10017 \\u2721 \\2721 ✯ &amp;#10031 \\u272F \\272F ✵ &amp;#10037 \\u2735 \\2735 ✶ &amp;#10038 \\u2736 \\2736 ✸ &amp;#10040 \\u2738 \\2738 ✹ &amp;#10041 \\u2739 \\2739 ✺ &amp;#10042 \\u273A \\273A ✱ &amp;#10033 \\u2731 \\2731 ✲ &amp;#10034 \\u2732 \\2732 ✴ &amp;#10036 \\u2734 \\2734 ✳ &amp;#10035 \\u2733 \\2733 ✻ &amp;#10043 \\u273B \\273B ✽ &amp;#10045 \\u273D \\273D ❋ &amp;#10059 \\u274B \\274B ❆ &amp;#10054 \\u2746 \\2746 ❄ &amp;#10052 \\u2744 \\2744 ❅ &amp;#10053 \\u2745 \\2745 09)♒ 星座类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ♈ &amp;#9800 \\u2648 \\2648 ♉ &amp;#9801 \\u2649 \\2649 ♊ &amp;#9802 \\u264A \\264A ♋ &amp;#9803 \\u264B \\264B ♌ &amp;#9804 \\u264C \\264C ♍ &amp;#9805 \\u264D \\264D ♎ &amp;#9806 \\u264E \\264E ♏ &amp;#9807 \\u264F \\264F ♐ &amp;#9808 \\u2650 \\2650 ♑ &amp;#9809 \\u2651 \\2651 ♒ &amp;#9810 \\u2652 \\2652 ♓ &amp;#9811 \\u2653 \\2653 10)♚ 国际象棋类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ♚ &amp;#9818 \\u265A \\265A ♛ &amp;#9819 \\u265B \\265B ♜ &amp;#9820 \\u265C \\265C ♝ &amp;#9821 \\u265D \\265D ♞ &amp;#9822 \\u265E \\265E ♟ &amp;#9823 \\u265F \\265F ♔ &amp;#9812 \\u2654 \\2654 ♕ &amp;#9813 \\u2655 \\2655 ♖ &amp;#9814 \\u2656 \\2656 ♗ &amp;#9815 \\u2657 \\2657 ♘ &amp;#9816 \\u2658 \\2658 ♙ &amp;#9817 \\u2659 \\2659 11)♣ 扑克牌类 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ♠ &amp;#9824 \\u2660 \\2660 ♣ &amp;#9827 \\u2663 \\2663 ♥ &amp;#9829 \\u2665 \\2665 ♦ &amp;#9830 \\u2666 \\2666 ♤ &amp;#9828 \\u2664 \\2664 ♧ &amp;#9831 \\u2667 \\2667 ♡ &amp;#9825 \\u2661 \\2661 ♢ &amp;#9826 \\u2662 \\2662 12)Ω 希腊字母 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS Α &amp;#913 \\u0391 \\0391 Β &amp;#914 \\u0392 \\0392 Γ &amp;#915 \\u0393 \\0393 Δ &amp;#916 \\u0394 \\0394 Ε &amp;#917 \\u0395 \\0395 Ζ &amp;#918 \\u0396 \\0396 Η &amp;#919 \\u0397 \\0397 Θ &amp;#920 \\u0398 \\0398 Ι &amp;#921 \\u0399 \\0399 Κ &amp;#922 \\u039A \\039A Λ &amp;#923 \\u039B \\039B Μ &amp;#924 \\u039C \\039C Ν &amp;#925 \\u039D \\039D Ξ &amp;#926 \\u039E \\039E Ο &amp;#927 \\u039F \\039F Π &amp;#928 \\u03A0 \\03A0 Ρ &amp;#929 \\u03A1 \\03A1 Σ &amp;#931 \\u03A3 \\03A3 Τ &amp;#932 \\u03A4 \\03A4 Υ &amp;#933 \\u03A5 \\03A5 Φ &amp;#934 \\u03A6 \\03A6 Χ &amp;#935 \\u03A7 \\03A7 Ψ &amp;#936 \\u03A8 \\03A8 Ω &amp;#937 \\u03A9 \\03A9 13)☩ 十字 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ☨ &amp;#9768 \\u2628 \\2628 ☩ &amp;#9769 \\u2629 \\2629 ✝ &amp;#10013 \\u271D \\271D ✞ &amp;#10014 \\u271E \\271E ✟ &amp;#10015 \\u271F \\271F ✠ &amp;#10016 \\u2720 \\2720 ✚ &amp;#10010 \\u271A \\271A † &amp;#8224 \\u2020 \\2020 ✢ &amp;#10018 \\u2722 \\2722 ✤ &amp;#10020 \\u2724 \\2724 ✣ &amp;#10019 \\u2723 \\2723 ✥ &amp;#10021 \\u2725 \\2725 14)© 法律符号 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ® &amp;#174 \\u00AE \\00AE © &amp;#169 \\u00A9 \\00A9 ℗ &amp;#8471 \\u2117 \\2117 ™ &amp;#153 \\u0099 \\0099 ℠ &amp;#8480 \\u2120 \\2120 15)@ 标点和符号 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS « &amp;#171 \\u00AB \\00AB » &amp;#187 \\u00BB \\00BB ‹ &amp;#139 \\u008B \\008B › &amp;#155 \\u009B \\009B “ &amp;#8220 \\u201C \\201C ” &amp;#8221 \\u201D \\201D ‘ &amp;#8216 \\u2018 \\2018 ’ &amp;#8217 \\u2019 \\2019 • &amp;#8226 \\u2022 \\2022 ◦ &amp;#9702 \\u25E6 \\25E6 ¡ &amp;#161 \\u00A1 \\00A1 ¿ &amp;#191 \\u00BF \\00BF ℅ &amp;#8453 \\u2105 \\2105 № &amp;#8470 \\u2116 \\2116 &amp; &amp;#38 \\u0026 \\0026 @ &amp;#64 \\u0040 \\0040 ℞ &amp;#8478 \\u211E \\211E ℃ &amp;#8451 \\u2103 \\2103 ℉ &amp;#8457 \\u2109 \\2109 ° &amp;#176 \\u00B0 \\00B0 \\ &amp;#124 \\u007C \\007C ¦ &amp;#166 \\u00A6 \\00A6 – &amp;#8211 \\u2013 \\2013 — &amp;#8212 \\u2014 \\2014 … &amp;#8230 \\u2026 \\2026 ¶ &amp;#182 \\u00B6 \\00B6 ∼ &amp;#8764 \\u223C \\223C ≠ &amp;#8800 \\u2260 \\2260 16)♂ 其他 符号 UNICODE 符号 UNICODE HTML JS CSS HTML JS CSS ☽ &amp;#9789 \\u263D \\263D ♃ &amp;#9795 \\u2643 \\2643 ☾ &amp;#9790 \\u263E \\263E ♄ &amp;#9796 \\u2644 \\2644 ♂ &amp;#9794 \\u2642 \\2642 ♅ &amp;#9797 \\u2645 \\2645 ♀ &amp;#9792 \\u2640 \\2640 ♆ &amp;#9798 \\u2646 \\2646 ☿ &amp;#9791 \\u263F \\263F ♇ &amp;#9799 \\u2647 \\2647 ♁ &amp;#9793 \\u2641 \\2641","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"WEB特殊字符","slug":"WEB特殊字符","permalink":"http://yoursite.com/tags/WEB特殊字符/"}]},{"title":"-CSS 常见属性使用_02","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css常见属性使用_02/","text":"CSS 常见属性使用2CSS 常见属性使用2CSS 常见属性使用2 vertical-align 垂直居中用来指定行内元素(inline)或表格单元格(table-cell)元素的垂直对齐方式 针对 inline-block 内联块元素的时候,需要一个参考对象(最少2个元素) 123456789101112131415161718192021222324&lt;style&gt; .container&#123; width: 600px; height: 600px; background-color: #c0c0c0; text-align: center; &#125; .box&#123; width: 200px; height: 200px; background-color: #ff6b81; display: inline-block; /* 内联元素 */ vertical-align: middle; &#125; .box2&#123; height: 100%; width: 40px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt; &lt;!-- box2 主要是测试说明一下(vertical-align)垂直居中,需要参考对象--&gt; &lt;div class=\"box box2\"&gt;让box1 垂直居中&lt;/div&gt;&lt;/div&gt; 图片垂直居中1123456789101112131415161718192021&lt;style&gt; .box &#123; background-color: #c0c0c0; height: 300px; &#125; .box-body:after&#123; content: \" \"; height: 100%; display: inline-block; vertical-align: middle; /*width: 0;*/ /*overflow: hidden;*/ &#125;&lt;/style&gt;&lt;div class=\"box\"&gt; &lt;div class=\"box-body\" style=\"height: 100%\"&gt; &lt;img src=\"./images/star.png\" width=\"32\" height=\"32\" alt=\"\"&gt; &lt;/div&gt;&lt;/div&gt; 图片垂直居中21234567891011121314151617&lt;style&gt; .box &#123; background-color: #c0c0c0; height: 300px; &#125; img &#123; position: relative; top: 50%; transform: translate(0, -50%); /*vertical-align: middle;*/ /* 不能使用这个居中,基线问题 */ &#125;&lt;/style&gt;&lt;div class=\"box\"&gt; &lt;img src=\"./images/star.png\" alt=\"\"&gt;&lt;/div&gt; 图片水平居中+垂直居中1234567891011121314151617181920212223242526&lt;style&gt; .box &#123; background-color: #c0c0c0; height: 600px; /*overflow: hidden;*/ &#125; img &#123; position: relative; /* 垂直居中*/ /*top: 50%;*/ /*transform: translate(0, -50%);*/ /* 水平居中*/ /*left: 50%;*/ /*transform: translate(-50%,0);*/ /* 水平居中+垂直居中*/ top: 50%; left: 50%; transform: translate(-50%, -50%); &#125;&lt;/style&gt;&lt;h3&gt;图片,实现垂直居中和水平居中&lt;/h3&gt;&lt;div class=\"box\"&gt; &lt;!--&lt;img src=\"./images/img_center_01.png\" alt=\"这是一张大图\"&gt;--&gt; &lt;img src=\"./images/star.png\" alt=\"这是一张小图\"&gt;&lt;/div&gt; li之间的空白间隙123456789101112131415161718&lt;style&gt; ul &#123; letter-spacing: -8px &#125; ul li &#123; list-style:none; display: inline-block; letter-spacing: normal; &#125;&lt;/style&gt;&lt;ul&gt; &lt;li&gt;001&lt;/li&gt;&lt;li&gt;002&lt;/li&gt;&lt;!-- 解决 003 004 005 之间空白字符 --&gt; &lt;li&gt;003&lt;/li&gt; &lt;li&gt;004&lt;/li&gt; &lt;li&gt;005&lt;/li&gt;&lt;/ul&gt; 为li设置浮动 将li写在同一行 将ul内的字符尺寸直接设为 0，即font-size:0不足：ul中的其他字符尺寸也被设 为 0，需要额外重新设定其他 字符尺寸，且在 Safari 浏览器依然会出现空白间隔 消除ul的字符间隔letter-spacing: -8px,同时设置li的字符间隔letter-spacing: normal width:auto 和 width:100%一般而言width:100%会使元素 box 的宽度等于父元素的 content box 的宽度。width:auto 会使元素撑满整个父元素，margin、border、padding、content 区域会自动分配水平空间。 width:100%: 是子元素的 content 撑满父元素的content,如果子元素还有 padding、border 等属性，可能会造成子元素区域溢出显示; width:auto: 是子元素的 content + padding + border + margin 等撑满父元素的 content 区域 绝对定位元素与非绝对定位元素的百分比计算的区别绝对定位元素的宽高百分比是相对于临近的 position 不为 static 的祖先元素的 padding box 来计算的。非绝对定位元素的宽高百分比则是相对于父元素的 content box 来计算的。 元素竖向百分比如果是 height 的话，是相对于包含块的高度如果是 padding 或者 margin 竖直方向的属性则是相对于包含块的宽度W3-CSS属性查询___padding-properties The percentage is calculated with respect to the width of the generated box’s containing block, even for ‘padding-top’ and ‘padding-bottom’. If the containing block’s width depends on this element, then the resulting layout is undefined in CSS 2.1 译文:&lt;百分比&gt;即使对于 ‘padding-top’和’padding-bottom’而言，百分比也是相对于所生成的盒子的包含块的宽度来计算的。如果包含块的宽度取决于此元素，则CSS 2.1中未定义结果布局。与边距属性不同，填充值的值不能为负。与边距属性一样，填充属性的百分比值是指生成的框的包含块的宽度 demo: 1234567891011121314151617&lt;style&gt; .fei &#123; width: 200px; height: 50px;/* warning: 这个高度没有作用 */ &#125; .fei div &#123; background: #ff6b81; padding-left: 50%; padding-right: 50%; padding-top: 50%; /* 基于 [ 父元素的宽度 ]的百分比的内边距 */ padding-bottom: 50%; /* 基于 [ 父元素的宽度 ]的百分比的内边距 */ &#125;&lt;/style&gt;&lt;div class=\"fei\"&gt; &lt;div&gt;xxx&lt;/div&gt;&lt;/div&gt; overflow 文本溢出省略号单行文本溢出后省略 12345678910111213141516171819&lt;style&gt; div &#123; width: 400px; height: 60px; border: 2px solid #ff6b81; &#125; p &#123; /* 核心代码 */ overflow: hidden; text-overflow: ellipsis; white-space: nowrap; &#125;&lt;/style&gt;&lt;div&gt; &lt;p&gt; fei:WEB前端开发三剑客就是HTML、CSS、JavaScript fei:WEB前端开发三剑客就是HTML、CSS、JavaScript fei:WEB前端开发三剑客就是HTML、CSS、JavaScript &lt;/p&gt;&lt;/div&gt; 多行文本溢出后省略 12345678910111213141516171819&lt;style&gt; div &#123; width: 400px; height: 60px; border: 2px solid #ff6b81; &#125; p &#123; /* 核心代码 */ max-height: 40px; overflow: hidden; line-height: 20px; &#125;&lt;/style&gt;&lt;div&gt; &lt;p&gt; fei:WEB前端开发三剑客就是HTML、CSS、JavaScript fei:WEB前端开发三剑客就是HTML、CSS、JavaScript fei:WEB前端开发三剑客就是HTML、CSS、JavaScript &lt;/p&gt;&lt;/div&gt; 多行文本溢出后省略(出现省略号) 12345678910111213141516171819202122232425262728&lt;style&gt; div &#123; width: 400px; height: 60px; border: 2px solid #ff6b81; &#125; p &#123; /* 核心代码 */ max-height: 40px; overflow: hidden; line-height: 20px; position: relative; &#125; p::after &#123; /* 核心代码 */ position: absolute; content: '...'; right: 0; bottom: 0; background-color: #fff;/* 白色背景 */ padding: 0 20px 0 10px; &#125;&lt;/style&gt;&lt;div&gt; &lt;p&gt; fei:WEB前端开发三剑客就是HTML、CSS、JavaScript fei:WEB前端开发三剑客就是HTML、CSS、JavaScript fei:WEB前端开发三剑客就是HTML、CSS、JavaScript &lt;/p&gt;&lt;/div&gt; 背景透明—显示下层 12background: transparent; background-color: transparent; 尽管在大多数情况下，没有必要使用 transparent。不过如果您不希望某元素拥有背景色，同时又不希望用户对浏览器的颜色设置影响到您的设计，那么设置 transparent 值还是有必要的 CSS 函数 线性渐变的图像 linear-gradient 动态计算长度值 calc 自定义属性 var CSS 单位 px vh % W3-CSS属性查询","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"阿里云CDN上实现https","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/阿里云CDN上实现https/","text":"SSL证书管理对于静态资源的请求，由于存储在阿里OSS上，并在前端使用了阿里云CDN,因此将相关SSL证书的信息在阿里云CDN上配置一下就ok。 1客户端-------请求（js,img，css）------&gt;CDN----&gt;云存储OSS 从阿里云CA证书服务下载证书 下载解压后得到2个文件： xxx.pem xxx.key 在阿里云CDN管理控制台找到 HTTPS设置点击域名中的配置,然后找到HTTPS设置，修改配置 打开之前下载好的xxx.pem 和 xxx.key ,将里面的内容分别复制到证书对应位置,建议跳转类型设置为默认，保存之后用HTTPS访问你的静态资源，测试一下","categories":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/categories/HTTP/"}],"tags":[{"name":"HTTP","slug":"HTTP","permalink":"http://yoursite.com/tags/HTTP/"},{"name":"HTTPS","slug":"HTTPS","permalink":"http://yoursite.com/tags/HTTPS/"}]},{"title":"数学 Maths-02 常见公式","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/Maths2/","text":"数学与Maths常见公式 常见公式$$ {平方差}\\ 平方差 \\qquad a^2-b^2 = (a+b)(a-b)$$ $$ {完全平方公式}\\ 完全平方公式\\ (a+b)^2 = a^2+2ab+b^2\\ (a-b)^2 = a^2-2ab+b^2$$ $$ { 交叉相乘 }\\ 交叉相乘(x+a)(x+b) = x^2+(a+b)x+ab=0$$ $$ {求根公式}\\ 二次函数求根公式\\ y=ax^2 + bx + c = 0\\ x= \\frac{-b \\pm \\sqrt{b^2-4ac}}{2 a}$$ 幂函数$$\\ \\sqrt[b]{x^{a}} = x^\\frac{a}{b}\\ \\sqrt[3]{x^{2}} = x^\\frac{2}{3}\\ \\sqrt[2]{x^{2}} = x^\\frac{2}{2} = x\\\\ \\frac{1}{x^a} = x^{-a}\\ \\frac{1}{x^2} = x^{-2}\\ \\frac{1}{x} = x^{-1}$$ 三角函数化简公式 对数函数$$\\ lne^x = x\\ lne = 1 (因为 e^1 = e)$$ 常见函数定义域整体思想替换$$\\ y=\\frac{1}{x} \\quad (x \\neq 0)\\ y=\\sqrt[2n]{x} \\quad (x \\geqslant 0)\\ y=\\sqrt[2n+1]{x} \\quad x\\in(-\\infty,+\\infty)\\ y=\\log _{a} x \\quad (a&gt;0 \\text { 且 } a \\neq 1)$$ $$\\ y=\\tan x \\quad x \\neq k \\pi+\\frac{\\pi}{2} \\ y=\\cot x \\quad x \\neq k \\pi \\ y=\\arctan x \\quad y=\\arccot x \\quad x\\in(-\\infty,+\\infty) \\ y=\\arcsin x \\quad y=\\arccos \\quad x \\in[-1,1]$$ 导数求导公式 导数和微分 导数和积分公式对比","categories":[{"name":"Maths","slug":"Maths","permalink":"http://yoursite.com/categories/Maths/"}],"tags":[{"name":"Maths","slug":"Maths","permalink":"http://yoursite.com/tags/Maths/"}]},{"title":"数学 Maths-01 常见图像","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/Maths/","text":"数学与Maths函数图像 正比例函数$$y=kx+b (k为常数，x的次数为1，且k≠0)$$ 反比例函数$$y=\\frac{k}{x} (k为常数，k≠0)$$ 二次函数$$y=ax^2+bx+c$$ 三次函数$$\\ y=x³\\ y=-x³$$ 二次开根号$$\\ y=\\sqrt{x}\\ y=-\\sqrt{x}$$ 圆$$(x-a)^2+(y-b)^2=r^2 \\qquad\\qquad标准方程 \\ x^2+y^2=r^2 \\qquad 以O(0，0)为圆心 \\ x^2+y^2=1 \\qquad 以O(0，0)为圆心$$ 三角函数正弦$$y=\\sin(x)$$ 余弦$$y=\\cos(x)$$ 正切$$y=\\tan(x)$$ 余切$$y=\\cot(x)$$ 指数函数$$y=a^x \\qquad(a为常数且以a&gt;0，a≠1)\\ 0&lt;a&lt;1 \\qquad和\\qquad 1&lt;a$$ 对数函数$$y=\\log _{a}x \\qquad(a&gt;0并且a≠1)$$ 特殊指数e和对数ln$$\\ y=e^x\\ y=ln(x)$$ 工具geogebra","categories":[{"name":"Maths","slug":"Maths","permalink":"http://yoursite.com/categories/Maths/"}],"tags":[{"name":"Maths","slug":"Maths","permalink":"http://yoursite.com/tags/Maths/"}]},{"title":"-vnc server","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/vnc/","text":"vnclinux桌面使用vnclinux桌面使用vnclinux桌面使用 centos7 gnome桌面,安装vnc1234567891011121314####centos7 安装完没有修改配置文件01) 首先检查当前系统是桌面用的KED还是gnome或者其他ll /usr/bin/*session*ps -A | grep KEDps -A | grep gnomeps -A | egrep -i \"gnome|kde|mate|cinnamon|lx|xfce|jwm\"02)安装桌面(上面如果有桌面则这里不需要安装)yum grouplist #查看系统中以组安装的包yum groupinstall -y \"GNOME Desktop\"03 安装vncserrveryum install tigervnc-server -y #安装vncserver 服务端vncserver #启动服务,接下来输入密码即可 centos7的vcn中xstartup`配置文件(原来的配置,不需要修改)123456#!/bin/shunset SESSION_MANAGERunset DBUS_SESSION_BUS_ADDRESS/etc/X11/xinit/xinitrcvncserver -kill $DISPLAY ubuntu16 gnome安装 vnc server1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#### 安装完成后需要修改配置文件,否则出现灰屏和一个大大的x号01) 首先检查当前系统是桌面用的KED还是gnome或者其他,我的是gnome,所以这里不在安装桌面(需要的自行安装)ll /usr/bin/*session*ps -A | grep KEDps -A | grep gnomeps -A | egrep -i \"gnome|kde|mate|cinnamon|lx|xfce|jwm\"#---------------安装----------------------sudo apt-get updatesudo apt-get install tightvncserver #如果需要桌面自己安装合适的桌面vncserver#-----------------启动-------------------01) 如果你想启动root桌面,就用sudo vncserver,访问当前普通用户就用vncserversudo vncserver #root用户 设置密码,我这里用123456 测试vncserver #当前普通用户vncpasswd #修改密码#---------------------------------------------启动后会在 /root 目录下增加一个 .vnc 的目录访问前准备:修改 xstartup 文件02) 在 xstartup 中修改#/etc/X11/Xsession ---------注释这一行,添加下面内容unset DBUS_SESSION_BUS_ADDRESSgnome-panel &amp;gnome-settings-daemon &amp;metacity &amp;nautilus &amp;gnome-terminal &amp;#---------xstartup 文件中的所有内容如下---------#!/bin/shxrdb $HOME/.Xresourcesxsetroot -solid grey#x-terminal-emulator -geometry 80x24+10+10 -ls -title \"$VNCDESKTOP Desktop\" &amp;#x-window-manager &amp;# Fix to make GNOME workexport XKL_XMODMAP_DISABLE=1#/etc/X11/Xsessionunset DBUS_SESSION_BUS_ADDRESSgnome-panel &amp;gnome-settings-daemon &amp;metacity &amp;nautilus &amp;gnome-terminal &amp;#---------------------------------------------vncserver :1 #启动1桌面,重启vncserver #---------------------------------------------访问端口:vnc 默认端口是5900; 启动的时候注意有个空格[ vncserver :1 ]如果你启动的是 vncserver :1 那么访问就是 http://127.0.0.1:5901如果你启动的是 vncserver :2 那么访问就是 http://127.0.0.1:5902ps -aux | grep vnc 可以看到里面有端口的说明 -rfbauth /root/.vnc/passwd -rfbport 5901 ubuntu16 中 vnc的xstartup配置(修改后的)123456789101112131415#!/bin/shxrdb $HOME/.Xresourcesxsetroot -solid grey#x-terminal-emulator -geometry 80x24+10+10 -ls -title \"$VNCDESKTOP Desktop\" &amp;#x-window-manager &amp;# Fix to make GNOME workexport XKL_XMODMAP_DISABLE=1#/etc/X11/Xsessionunset DBUS_SESSION_BUS_ADDRESSgnome-panel &amp;gnome-settings-daemon &amp;metacity &amp;nautilus &amp;gnome-terminal &amp; 其他1234vncserver :1 #启动1桌面vncserver :2 #启动2桌面vncserver -kill :1 #停止1桌面vncserver -kill :2 #停止2桌面 下载视图工具: realvnc download","categories":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/categories/Other/"}],"tags":[{"name":"Other","slug":"Other","permalink":"http://yoursite.com/tags/Other/"}]},{"title":"-CSS 优化","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/z_css_优化/","text":"CSS 优化CSS 优化CSS 优化 加载性能 css 压缩:将写好的 css 进行打包压缩,可以减少很多的体积 css 单一样式:当需要下边距和左边距的时候,很多时候选择:margin:top 0 bottom 0;但 margin-bottom:bottom;margin-left:left;执行的效率更高 减少使用@import,而建议使用 link,因为后者在页面加载时一起加载,前者是等待页面加载完成之后再进行加载 选择器性能 关键选择器(keyselector),选择器的最后面的部分为关键选择器(即用来匹配目标元 素的部分),CSS 选择符是从右到左进行匹配的,当使用后代选择器的时候,浏览器会遍历所有子元素来确定是否是指定的元 素等等 如果规则拥有 ID 选择器作为其关键选择器,则不要为规则增加标签,过滤掉无关的规 则(这样样式系统就不会浪费时间去匹 配它们了 避免使用通配规则,如*{}计算次数惊人!只对需要用到的元素进行选择 尽量少的去对标签进行选择,而是用 class 尽量少的去使用后代选择器,降低选择器的权重值,后代选择器的开销是最高的,尽量将选择器的深度降到最低,最高不要超过三层,更多的使用类来关联每一个标签元素 了解哪些属性是可以通过继承而来的,然后避免对这些属性重复指定规则 渲染性能 慎重使用高性能属性:浮动、定位, 尽量减少页面重排、重绘, 去除空规则:{},空规则的产生原因一般来说是为了预留样式,去除这些空规则无疑 能减少 css 文档体积 属性值为 0 时,不加单位 属性值为浮动小数 0.**,可以省略小数点之前的 0 标准化各种浏览器前缀:带浏览器前缀的在前,标准属性在后 不使用@import 前缀,它会影响 css 的加载速度 选择器优化嵌套,尽量避免层级过深 css 雪碧图,同一页面相近部分的小图标,方便使用,减少页面的请求次数,但是同时 图片本身会变大,使用时,优劣考虑清楚,再使用 正确使用 display 的属性,由于 display 的作用,某些样式组合会无效,徒增样式体积 的同时也影响解析性能 不滥用 web 字体,对于中文网站来说 WebFonts 可能很陌生,国外却很流行,webfonts 通常体积庞大,而且一些浏览器在下载 webfonts 时会阻塞页面渲染损伤性能 可维护性、健壮性 将具有相同属性的样式抽离出来,整合并通过 class 在页面中进行使用,提高 css 的可 维护性 样式与内容分离:将 css 代码定义到外部 css 中 其他JavaScript 优化","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"编程与English","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/English/","text":"编程与English编程与English编程与English 前缀加强前缀: ab-, ac-, ad-, af-, ag-, an-, ap-, ar-, as-, at等加在同辅音字母的词根前, 表示”一再”等加强意义 accompany陪伴（ac+company伙伴→陪伴）addict上瘾，入迷（ad+dict说→一再说起→对……入迷）adduce引证，举例（ad+duce引导→一再引导→举例说明）account计算，算账(ac+count总数→计算)acknowledge承认,告知已收到(ac+count知识,学识→认知,承认) 前缀de decode(解码) code(编码) —前缀de-还表示”除去”、”取消”以及”否定”、”非”、”相反”的意思decamp(撤营) camp(扎营,露营) —前缀de-还表示”除去”、”取消”以及”否定”、”非”、”相反”的意思deactived(无效的) actived(活跃的,有效的) —前缀de-还表示”除去”、”取消”以及”否定”、”非”、”相反”的意思derail(出轨) rail(铁轨,铺铁轨) — 常表”离开”这一深层概念devoid(全无) void(空) ——强调 其他Regular Expression 简写 RegExp 正则表达式 ACK,SYN,NCK, ….. ACK: (全称为Acknowledge character）即是确认字符 SYN: (Synchronousidle) 同步字符 NCK: (Negative Acknowledg) 否认字符 … 程序的基本编写方法IOP全称: I: input 输入,程序的输入 P: process 处理,程序的主要逻辑 O: output 输出,程序的输出 加减12加 add 、plus、 increase减 minus, subtract, deduct Minus，常常用在口头描述数学等式（equation）中。例如：10-4=6（10减4等于6）subtract和介词from搭配来使用，表示：从…中减去…deduct，常用在商业相关的语境中，多用来表示“扣除”、“扣减” Ten minus four equals six 十减四等于六Subtract four from ten and you have six 从十中减去六Corporations may deduct the cost of cost allowance regulations. 公司可以扣除规定的成本补贴。 add:常用于添加.如： add some milk to the flourplus:常用于加法.如：What is five plus six?increase:表示增加.如：The population is increasing fast. 前端1variable(变量var) 和 constant(常量const) C语言1standard input (stdin) 标准输入","categories":[{"name":"English","slug":"English","permalink":"http://yoursite.com/categories/English/"}],"tags":[{"name":"English","slug":"English","permalink":"http://yoursite.com/tags/English/"}]},{"title":"几个属性的特殊性","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/几个属性的特殊性/","text":"CSS几个属性的特殊性CSS几个属性的特殊性CSS几个属性的特殊性 border 的特殊性 border-width 却不支持百分比。 border-style 的默认值是 none，有一部分人可能会误以为是 solid。这也是单纯设置 border-width 或 border-col or 没有边框显示的原因。 border-style:double 的表现规则：双线宽度永远相等，中间间隔±1。 border-color 默认颜色就是 color 色值。 默认 background 背景图片是相对于 paddingbox 定位的。 line-height 的特殊性 对于非替换元素的纯内联元素，其可视高度完全由 line-height 决定。对于文本这样的 纯内联元素，line-height 就是高 度计算的基石，用专业说法就是指定了用来计算行框盒子高度的基础高度。 内联元素的高度由固定高度和不固定高度组成，这个不固定的部分就是这里的“行距”。 换句话说，line-height 之所以起作 用，就是通过改变“行距”来实现的。在 CSS 中，“行距”分散在当前文字的上方和下方，也就 是即使是第一行文字，其上方也是 有“行距”的，只不过这个“行距”的高度仅仅是完整“行距”高度的一半，因此，也被称为“半行 距”。 行距=line-height-font-size。 border 以及 line-height 等传统 CSS 属性并没有小数像素的概念。如果标注的是文字上 边距，则向下取整；如果是文字下 边距，则向上取整。 对于纯文本元素，line-height 直接决定了最终的高度。但是，如果同时有替换元素， 则 line-height 只能决定最小高度。 对于块级元素，line-height 对其本身是没有任何作用的，我们平时改变 line-height，块 级元素的高度跟着变化实际上是 通过改变块级元素里面内联级别元素占据的高度实现的。 line-height 的默认值是 normal，还支持数值、百分比值以及长度值。为数值类型时， 其最终的计算值是和当前 font-size 相乘后的值。为百分比值时，其最终的计算值是和当前 font-size 相乘后的值。为长度值 时原意不变。(推荐使用数字) 如果使用数值作为 line-height 的属性值，那么所有的子元素继承的都是这个值；但是， 如果使用百分比值或者长度值作为 属性值，那么所有的子元素继承的是最终的计算值。 无论内联元素 line-height 如何设置，最终父级元素的高度都是由数值大的那个 line-height 决定的。 只要有“内联盒子”在，就一定会有“行框盒子”，就是每一行内联元素外面包裹的一层 看不见的盒子。然后，重点来了，在每个 “行框盒子”前面有一个宽度为 0 的具有该元素的字体和行高属性的看不见的“幽灵空白节点”。 vertical-align 的特殊性 vertical-align 起作用是有前提条件的，这个前提条件就是：只能应用于内联元素以及 display 值为 table-cell 的元 素。 vertical-align 的默认值是 baseline，即基线对齐，而基线的定义是字母 x 的下边缘。因 此，内联元素默认都是沿着字 母 x 的下边缘对齐的。对于图片等替换元素，往往使用元素本身的下边缘作为基线。：一个 inline-block 元素，如果里面 没有内联元素，或者 overflow 不是 visible，则该元素的基线就是其 margin 底边缘；否则其 基线就是元素里面最后一行 内联元素的基线。 vertical-align:top 就是垂直上边缘对齐，如果是内联元素，则和这一行位置最高的内联 元素的顶部对齐；如果 display 计算值是 table-cell 的元素，我们不妨脑补成元素，则和元素上边缘对齐。 vertical-align:middle 是中间对齐，对于内联元素，元素的垂直中心点和行框盒子基线往 上 1/2x-height 处对齐。对 于 table-cell 元素，单元格填充盒子相对于外面的表格行居中对齐。 vertical-align 支持数值属性，根据数值的不同，相对于基线往上或往下偏移，如果是负 值，往下偏移，如果是正值，往上 偏移。 vertical-align 属性的百分比值则是相对于 line-height 的计算值计算的。 table-cell 元素设置 vertical-align 垂直对齐的是子元素，但是其作用的并不是子元素， 而是 table-cell 元素自身。 overflow 的特殊性 滚动条会占用容器的可用宽度或高度。 HTML 中有两个标签是默认可以产生滚动条的，一个是根元素&lt;html&gt;，另一个是文本域&lt;textarea&gt;。 元素设置了overflow:hidden 声明，里面内容高度溢出的时候，滚动依然存在，仅仅滚 动条不存在！ 一个设置了 overflow:hidden 声明的元素，假设同时存在 border 属性和 padding 属性， 则当子元素内容超出容器宽度 高度限制的时候，剪裁的边界是 borderbox 的内边缘，而非 paddingbox 的内边缘。 absolute 与 overflow 的关系 如果overflow 不是定位元素，同时绝对定位元素和 overflow 容器之间也没有定位元素， 则 overflow 无法对 absolute 元素进行剪裁。 如果overflow 的属性值不是 hidden 而是 auto 或者 scroll，即使绝对定位元素高宽比 overflow 元素高宽还要大，也 都不会出现滚动条。 overflow 元素自身transform 的时候，Chrome 和 Opera 浏览器下的 overflow 剪裁是无 效的。 relative 的特殊性 相对定位元素的 left/top/right/bottom 的百分比值是相对于包含块计算的，而不是自身。 注意，虽然定位位移是相对自身，但是百分比值的计算值不是。 top 和 bottom 这两个垂直方向的百分比值计算跟 height 的百分比值是一样的，都是相 对高度计算的。同时，如果包含块的高度是 auto，那么计算值是 0，偏移无效，也就是说， 如果父元素没有设定高度或者不是“格式化高度”，那么relative 类似 top:20%的代码等同于top:0。 当相对定位元素同时应用对立方向定位值的时候，也就是 top/bottom 和 left/right 同时 使用的时候，只有一个方向的定位属性会起作用。而谁起作用则是与文档流的顺序有关的， 默认的文档流是自上而下、从左往右，因此 top/bottom 同时使用的时候，bottom 失效； left/right 同时使用的时候，right 失效。 font-weight 的特殊性如果使用数值作为 font-weight 属性值，必须是 100～900 的整百数(非 100 的整数倍的值将被四舍五入转换为 100 的整倍数，遇到 *50 时，将向上转换，如 150 将转换为 200 )。因为这里的数值仅仅是外表长得像数值，实际上是一个具有特定含义的关键字，并且这里的数值关键字和字母关键 字之间是有对应关系的。 text-indent 的特殊性 text-indent 仅对第一行内联盒子内容有效。 text-indent 的百分比值是相对于当前元素的“包含块”计算的，而不是当前元素。 非替换元素以外的 display 计算值为inline 的内联元素设置 text-indent 值无效，如果计 算值 inline-block/inline-table 则会生效。 &lt;input&gt;标签按钮 text-indent 值无效。 &lt;button&gt;标签按钮 text-indent 值有效。 letter-spacing 与字符间距letter-spacing 可以用来控制字符之间的间距，这里说的“字符”包括英文字母、汉字以及空格 等。letter-spacing 具有以下一些特性。 继承性。 暂不支持百分比值。 支持小数值，即使 0.1px 也是支持的。 支持负值，且值足够大的时候，会让字符形成重叠，甚至反向排列。 和 text-indent 属性一样，无论值多大或多小，第一行一定会保留至少一个字符。 默认值是 normal 而不是 0。虽然说正常情况下，normal 的计算值就是 0，但两者还是 有差别的，在有些场景下，letter-spacing 会调整 normal 的计算值以实现更好的版面布局。 letter-spacing 作用于所有字符，但 word-spacing 仅作用于空格字符。换句话说，word-spacing 的作用就是增加空格的间隙 宽度。 white-space 属性是用来设置如何处理元素中的空白。","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"web-Emmet  快捷使用  -Emmet","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/Emmet/","text":"快捷使用 -Emmet快捷使用 -Emmet快捷使用 -Emmet HTML 布局_01 子元素12345678ul&gt;li*4&gt;&#123;tab$&#125; 按下tab 后 &lt;ul&gt; &lt;li&gt;tab1&lt;/li&gt; &lt;li&gt;tab2&lt;/li&gt; &lt;li&gt;tab3&lt;/li&gt; &lt;li&gt;tab4&lt;/li&gt;&lt;/ul&gt; HTML 布局_02 id 和 class12345678ul.da#fei&gt;li*4&gt;&#123;tab$&#125; 按下tab后&lt;ul class=\"da\" id=\"fei\"&gt; &lt;li&gt;tab1&lt;/li&gt; &lt;li&gt;tab2&lt;/li&gt; &lt;li&gt;tab3&lt;/li&gt; &lt;li&gt;tab4&lt;/li&gt;&lt;/ul&gt; HTML 布局_03 兄弟元素1234567891011121314div.item*3&gt;div.title&#123;标题$&#125;+div.val&#123;内容$&#125; 按下tab后&lt;div class=\"item\"&gt; &lt;div class=\"title\"&gt;标题1&lt;/div&gt; &lt;div class=\"val\"&gt;内容1&lt;/div&gt;&lt;/div&gt;&lt;div class=\"item\"&gt; &lt;div class=\"title\"&gt;标题2&lt;/div&gt; &lt;div class=\"val\"&gt;内容2&lt;/div&gt;&lt;/div&gt;&lt;div class=\"item\"&gt; &lt;div class=\"title\"&gt;标题3&lt;/div&gt; &lt;div class=\"val\"&gt;内容3&lt;/div&gt;&lt;/div&gt; HTML 布局_04 自定义属性123456div&gt;p[data-fei=fei] 按下tab键div&gt;p[data-fei=\"fei\"] 按下tab键&lt;div&gt; &lt;p data-fei=\"fei\"&gt;&lt;/p&gt;&lt;/div&gt; demo 复杂实例12345678910111213div#header&gt;nav#container&gt;ul.self-tabs&gt;li.self-tabs-item*3&gt;a[href=\"javascript:void(0)\"]按下tab键&lt;div id=\"header\"&gt; &lt;nav id=\"container\"&gt; &lt;ul class=\"self-tabs\"&gt; &lt;li class=\"self-tabs-item\"&gt;&lt;a href=\"javascript:void(0)\"&gt;&lt;/a&gt;&lt;/li&gt; &lt;li class=\"self-tabs-item\"&gt;&lt;a href=\"javascript:void(0)\"&gt;&lt;/a&gt;&lt;/li&gt; &lt;li class=\"self-tabs-item\"&gt;&lt;a href=\"javascript:void(0)\"&gt;&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt;&lt;/div&gt; CSS 布局123456w20 按下tab后width: 20px;w20+h30 按下tab后width: 20px;height: 30px; 隐式标签12345.foo 按下tab后&lt;div class=\"foo\"&gt;&lt;/div&gt;#bar 按下tab后&lt;div id=\"bar\"&gt;&lt;/div&gt; Emmet 官网","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"},{"name":"Emmet","slug":"WEB/Emmet","permalink":"http://yoursite.com/categories/WEB/Emmet/"}],"tags":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/tags/WEB/"},{"name":"Emmet","slug":"Emmet","permalink":"http://yoursite.com/tags/Emmet/"}]},{"title":"Chrome 和 Firefox 中 Developer 模式使用技巧tips","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/developer_tips/","text":"Chrome 和 Firefox 中 Developer 模式使用技巧tipsChrome 和 Firefox 中 developer 模式使用技巧 tipsChrome 和 Firefox 中 developer 模式使用技巧 tips 本文以Chrome为主,以Firefox为辅,大致相同不在详细描述,特殊地方单独提示tips 配置网速Chrome中 F12—&gt;选择Network—&gt;有红色圆点的最右侧 查看伪类样式查看伪类:active,:hover,:focus样式 截图chrome 和 Firefox中截图 screenshots firefox,Firefox中直接右键也可以截图 重新发起网络请求 复制变量复制JavaScript变量到其他地方 表格展示变量使用console.table(xxx),在Chrome中可以直接使用table(xxx),并且结果可以排序 拖拽DOM元素在控制台Elements中,选中某个元素可以自由拖拽 复制响应response信息复制响应结果response数据 查看绑定事件 应用页面DOMChrome 和 Firefox中显示不一样 1$(\"#id\") 回车可以显示dom结构,并且可以修改 火狐中的本地文件omni.ja用7Z解压后可以看到浏览中的图片 123比如chrome://branding/content/about-logo.pngchrome://branding/content/icon16.png 网络请求filter控制台左上角filter中输入中划线可以看到各种过滤选项,Vue常用过滤选项 -.json -sockjs 其他Firefox 开发者工具","categories":[{"name":"Browser","slug":"Browser","permalink":"http://yoursite.com/categories/Browser/"},{"name":"Developer","slug":"Browser/Developer","permalink":"http://yoursite.com/categories/Browser/Developer/"},{"name":"Chrome","slug":"Browser/Developer/Chrome","permalink":"http://yoursite.com/categories/Browser/Developer/Chrome/"},{"name":"Firefox","slug":"Browser/Developer/Chrome/Firefox","permalink":"http://yoursite.com/categories/Browser/Developer/Chrome/Firefox/"}],"tags":[{"name":"Browser","slug":"Browser","permalink":"http://yoursite.com/tags/Browser/"},{"name":"Developer","slug":"Developer","permalink":"http://yoursite.com/tags/Developer/"},{"name":"Chrome","slug":"Chrome","permalink":"http://yoursite.com/tags/Chrome/"},{"name":"Firefox","slug":"Firefox","permalink":"http://yoursite.com/tags/Firefox/"}]},{"title":"-other -command 其他命令","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/win/other_command/","text":"command 其他命令command 其他命令command 其他命令 explorer 直接打开可视化目录12345678#执行后可以打开弹出当前路径的目录#windows中start explorer . #注意这里有个点或者explorer . #注意这里有个点#linux 中nautilus . #注意这里有个点 tracert 路由跟踪命令123#路由跟踪命令,用于确定IP数据访问目标所经过的路径tracert www.baidu.comtracert php.net route 显示和操作IP路由表1234routeroute -nroute addroute del","categories":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/categories/Win/"}],"tags":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/tags/Win/"}]},{"title":"选择器 -CSS","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_选择器/","text":"选择器 -css选择器 -css项目和实际中使用频率高的后代选择器 和 子代选择器 和 伪元素 （01）id 选择器（#myid） （02）类选择器（.myclassname） （03）标签选择器（div,h1,p） （04）后代选择器（h1 p） （05）相邻后代选择器（子）选择器（ul&gt;li） （06）兄弟选择器（li~a） （07）相邻兄弟选择器（li+a） （08）属性选择器（a[rel=”external”]） （09）伪类选择器（a:hover,li:nth-child） （10）伪元素选择器（::before、::after） （11）通配符选择器（*） 后代选择器123456789101112131415161718192021222324&lt;!-- 后代选择器(以空格分隔) 选择div 元素内的所有p 元素 中的 所有span 元素--&gt;&lt;style&gt; div p span&#123; color: #ff0000; &#125;&lt;/style&gt;&lt;span&gt;dafei01&lt;/span&gt;&lt;div&gt; &lt;span&gt;dafei02&lt;/span&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt; &lt;span&gt;dafei03 红色 &lt;/span&gt; &lt;strong&gt; &lt;span&gt;dafei04 红色&lt;/span&gt; &lt;/strong&gt; &lt;/p&gt;&lt;/div&gt;&lt;p&gt; &lt;span&gt;dafei05&lt;/span&gt;&lt;/p&gt; 子代选择器1234567891011121314151617181920212223242526&lt;!-- 子元素选择器(以大于号分隔） 选择div 元素内的子代p 元素 中的子代span 元素 [ 必须是div p span 层级模式,中间不能有其他元素 ]--&gt;&lt;style&gt; div &gt; p &gt; span &#123; color: #ff0000; &#125;&lt;/style&gt;&lt;span&gt;dafei01&lt;/span&gt;&lt;div&gt; &lt;span&gt;dafei02&lt;/span&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt; &lt;span&gt;dafei03 红色 &lt;/span&gt; &lt;strong&gt; &lt;span&gt;dafei04&lt;/span&gt; &lt;/strong&gt; &lt;span&gt;dafei06 红色 &lt;/span&gt; &lt;/p&gt;&lt;/div&gt;&lt;p&gt; &lt;span&gt;dafei05&lt;/span&gt;&lt;/p&gt; 伪元素 ::before 和 ::after1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162其他不常用的伪元素 ::first-letter 选择指定元素的第一个单词 ::first-line 选择指定元素的第一行::selection 选择指定元素中被用户选中的内容01) --------------------------------------------------------------------------&lt;style&gt; /* 所有的span标签前面添加foo_ 也可以是图片 content: url('./img.png') */ /*这2种等效,习惯选择第一种,使用2个冒号, 其实就是为了 把伪元素和伪类区分开*/ /* 这里的content 属性不能省略 */ span::before &#123; /* 习惯写2个冒号 */ content: 'foo_'; &#125; /*span:before &#123;*/ /*content: 'foo_';*/ /*&#125;*/&lt;/style&gt;&lt;span&gt;dafei01&lt;/span&gt;&lt;div&gt; &lt;span&gt;dafei02 红色&lt;/span&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt; &lt;span&gt;dafei03&lt;/span&gt; &lt;strong&gt; &lt;span&gt;dafei04&lt;/span&gt; &lt;/strong&gt; &lt;span&gt;dafei06&lt;/span&gt; &lt;/p&gt;&lt;/div&gt;&lt;p&gt; &lt;span&gt;dafei05&lt;/span&gt;&lt;/p&gt;02) ----------------------------------------------------------------------------&lt;style&gt; /* 为元素可以看做行内元素 */ span::before &#123; content: 'foo_'; background-color: #ff0000; display: inline-block; width: 50px; height: 50px; margin-right: 30px; &#125;&lt;/style&gt;&lt;span&gt;dafei01&lt;/span&gt;&lt;div&gt; &lt;span&gt;dafei02 红色&lt;/span&gt;&lt;/div&gt;&lt;p&gt; &lt;span&gt;dafei05&lt;/span&gt;&lt;/p&gt; 相邻兄弟选择器12345678910111213141516171819202122232425262728&lt;!-- 相邻兄弟选择器（以加号分隔） div p span 三个元素是相邻的兄弟[ 必须是第一个 ]--&gt;&lt;style&gt; div + p +span&#123; color: #ff0000; &#125;&lt;/style&gt;&lt;span&gt;dafei01&lt;/span&gt;&lt;div&gt; &lt;span&gt;dafei02&lt;/span&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt; &lt;span&gt;dafei03 &lt;/span&gt; &lt;strong&gt; &lt;span&gt;dafei04&lt;/span&gt; &lt;/strong&gt; &lt;span&gt;dafei06 &lt;/span&gt; &lt;/p&gt;&lt;/div&gt;&lt;p&gt; &lt;span&gt;dafei05&lt;/span&gt;&lt;/p&gt;&lt;span&gt;dafei07 红色&lt;/span&gt;&lt;span&gt;dafei08&lt;/span&gt; 属性选择器1234567891011121314&lt;style&gt; .box &#123; width: 200px; height: 200px; background-color: #c0c0c0; &#125; .box[style] &#123; /*属性选择器*/ background-color: #ff6b81; &#125; &lt;/style&gt;&lt;div class=\"box\"&gt;&lt;/div&gt;&lt;div class=\"box\" style=\"font-size: 20px\"&gt;&lt;/div&gt; 并集选择器12345678910111213141516171819202122232425&lt;!-- 并集选择器(以逗号分隔)--&gt;&lt;style&gt; div, p, span &#123; color: #ff0000; &#125;&lt;/style&gt;&lt;span&gt;dafei01 红色&lt;/span&gt;&lt;div&gt; &lt;span&gt;dafei02 红色&lt;/span&gt;&lt;/div&gt;&lt;div&gt; &lt;p&gt; &lt;span&gt;dafei03 红色&lt;/span&gt; &lt;strong&gt; &lt;span&gt;dafei04 红色&lt;/span&gt; &lt;/strong&gt; &lt;span&gt;dafei06 红色&lt;/span&gt; &lt;/p&gt;&lt;/div&gt;&lt;p&gt; &lt;span&gt;dafei05 红色&lt;/span&gt;&lt;/p&gt;&lt;h5&gt;dafei07&lt;/h5&gt; 交集选择器12345678910111213141516171819202122232425&lt;!-- 交集选择器(标签和class构成)--&gt;&lt;style&gt; /* 标签是div且class为class_foo */ div.class_foo &#123; color: #ff0000; &#125;&lt;/style&gt;&lt;span class=\"class_foo\"&gt;dafei01&lt;/span&gt;&lt;div class=\"class_foo\"&gt; &lt;span&gt;dafei02 红色&lt;/span&gt;&lt;/div&gt;&lt;div&gt; &lt;p class=\"class_foo\"&gt; &lt;span class=\"class_foo\"&gt;dafei03&lt;/span&gt; &lt;strong&gt; &lt;span class=\"class_foo\"&gt;dafei04&lt;/span&gt; &lt;/strong&gt; &lt;span&gt;dafei06&lt;/span&gt; &lt;/p&gt;&lt;/div&gt;&lt;p class=\"class_foo\"&gt; &lt;span&gt;dafei05&lt;/span&gt;&lt;/p&gt; 伪类选择器 nth-child12345678910111213141516171819ul&gt;li:nth-child(2) &#123; /* 第二行 */ background-color: yellowgreen;&#125;ul&gt;li:nth-child(even) &#123; /* 偶数 */ background-color: yellowgreen;&#125;ul&gt;li:nth-child(odd) &#123; /* 奇数 */ background-color: yellowgreen;&#125;ul&gt;li:nth-child(2n+1) &#123; /* 奇数 */ background-color: yellowgreen;&#125;&lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt; &lt;li&gt;4&lt;/li&gt;&lt;/ul&gt; 伪类选择器 :not1234567h2:not([data-fei])&#123; /* 不含data-fei 属性 */ color: yellowgreen;&#125;&lt;h2 data-fei=\"da\"&gt;1111111&lt;/h2&gt;&lt;h2&gt;2222222222&lt;/h2&gt;&lt;h2&gt;333333333333&lt;/h2&gt; 其他伪类与伪元素的区别 css 引入伪类和伪元素概念是为了格式化文档树以外的信息。也就是说，伪类和伪元素是用来修饰不在文档树中的部分，比如，一句话中的第一个字母，或者是列表中的第一个元素。 伪类用于当已有的元素处于某个状态时，为其添加对应的样式，这个状态是根据用户行为而动态变化的。比如说，当用户悬停在指定的元素时，我们可以通过:hover 来描述这个元素的状态。 伪元素用于创建一些不在文档树中的元素，并为其添加样式。它们允许我们为元素的某些部分设置样式。比如说，我们可以通过::before 来在一个元素前增加一些文本，并为这些文本添加样式。虽然用户可以看到这些文本，但是这些文本实际上不在文档树中。","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"CSS选择器","slug":"CSS选择器","permalink":"http://yoursite.com/tags/CSS选择器/"}]},{"title":"-CSS 常见布局_左右","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见布局_左右/","text":"CSS 常见布局左右CSS 常见布局左右CSS 常见布局左右左边固定宽度,右边自适应 浮动和margin-left12345678910111213141516171819202122&lt;style&gt; /* 浮动 和 margin-left*/ .container &#123; height: 100px; &#125; .left &#123; width: 200px; height: 100px; background: #ff6b81; float: left; &#125; .right &#123; /*width: auto;*/ height: 100px; background: #c0c0c0; margin-left: 200px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt; flex布局放大缩小flex: auto123456789101112131415161718192021&lt;style&gt; /* flex 布局 */ .container &#123; height: 100px; display: flex; &#125; .left &#123; background: #ff6b81; /*flex-shrink: 0;*/ /*flex-grow: 0;*/ flex-basis: 200px; &#125; .right &#123; background: #c0c0c0; flex: auto; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt; 左边绝对定位absolute 和’margin-left’12345678910111213141516171819202122&lt;style&gt; /* 左边绝对定位 */ .container &#123; height: 100px; position: relative; &#125; .left &#123; width: 200px; height: 100px; background: #ff6b81; position: absolute; &#125; .right &#123; height: 100px; background: #c0c0c0; margin-left: 200px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt; 右边绝对定位absolute 和’left’12345678910111213141516171819202122232425&lt;style&gt; /* 右边绝对定位 */ .container &#123; height: 100px; position: relative; &#125; .left &#123; width: 200px; height: 100px; background: #ff6b81; &#125; .right &#123; height: 100px; background: #c0c0c0; position: absolute; top: 0; right: 0; bottom: 0; left: 200px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 特性","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css特性/","text":"css特性css特性css特性 继承123456789101112131415161718&lt;style&gt; div.foo&#123; color: #ff0000; &#125;&lt;/style&gt;&lt;h3&gt;我是标题&lt;/h3&gt;&lt;div class=\"foo\"&gt; &lt;span&gt;dafei&lt;/span&gt;&lt;/div&gt;官网看是否可以继承:https://developer.mozilla.org/zh-CN/docs/Webhttps://developer.mozilla.org/zh-CN/docs/Webdemo:搜索: font-size 然后找有 The font-size CSS property 的文章进去看:是否是继承属性 yescolor 然后找有 The color CSS property 的文章进去进去看: 是否是继承属性 yes MDN 继承021234567891011121314151617181920212223242526 &lt;style&gt; div.foo&#123; color: #ff0000; background-color: #00c3ff; width: 40px; &#125; /* width 本身不支持继承 想让width继承方法2中 */ img&#123; /* width: inherit; */ /* 第一种方案 */ width: 100%; /* 第二种方案 */ /* 相对于包含块的百分百*/ &#125; &lt;/style&gt; &lt;h3&gt;我是标题&lt;/h3&gt; &lt;div class=\"foo\"&gt; &lt;span&gt;dafei&lt;/span&gt; &lt;img src=\"./avatar.png\" alt=\"\"&gt; &lt;/div&gt;参见文档:https://developer.mozilla.org/zh-CN/docs/Web/CSS/width中 Percentages refer to the width of the containing block MDN width 其他_浏览器代理样式有些HTML元素本身有样式比如 h1,h3,strong,i 123&lt;h3&gt;我是标题&lt;/h3&gt;&lt;strong&gt;foo&lt;/strong&gt;&lt;i&gt;dafei&lt;/i&gt; CSS 权重123456权重从高到低!important内联样式[ 行内样式 ]id选择器类选择器,属性选择器,伪类元素选择器,伪元素 行内替换元素无效属性以下属性对行内非替换元素不起作用 width height margin-top margin-bottom 一下属性对行内非替换元素的效果比较特殊 padding-top padding-bottom 上下方向的border","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"美化表单form","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_美化表单form/","text":"美化表单form美化表单form美化表单form 输入框 input1234567891011121314151617181920&lt;style type=\"text/css\"&gt; .input-wrapper&#123; width: 20%; border: 2px solid #ff6b81; &#125; input&#123; outline: none; color: #90ee90; border: 0; width: 100%; height: 40px; line-height: 40px; background-color: transparent; &#125;&lt;/style&gt;&lt;div&gt; &lt;div class=\"input-wrapper\"&gt; &lt;input type=\"text\" value=\"daFei\" /&gt; &lt;/div&gt;&lt;/div&gt; 输入框 input12345678910111213141516171819202122&lt;style type=\"text/css\"&gt; .input-wrapper&#123; width: 20%; &#125; input&#123; outline: none; box-shadow: none; display: inline-block; border: 2px solid #ff6b81; background-color: transparent; width: 100%; height: 40px; line-height: 40px; padding: 0 15px; color: #90ee90; &#125;&lt;/style&gt;&lt;div&gt; &lt;div class=\"input-wrapper\"&gt; &lt;input type=\"text\" value=\"daFei_foo\" /&gt; &lt;/div&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 常见属性使用_01","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css常见属性使用/","text":"CSS 常见属性使用1CSS 常见属性使用1CSS 常见属性使用1 border 和 outline 区别outline轮廓不占据空间，绘制于元素内容周围。根据规范，轮廓通常是矩形，但也可以是非矩形的 123div &#123; outline:3px solid red; /* 查看网页布局的时候很方便 */&#125; display属性值1234/* display: block; */ /* 浏览器默认样式 *//* display: inline; */ /* 设置为行内元素 *//* display: none; */ /* 隐藏元素不占空间 *//* display: inline-block; */ /* 可以和行内元素在同一行, 可以设置宽度和高度*/ min-width 和max-width 属性值123/* width: 100px;*//* min-width: 800px; */ /* 内容宽度小于盒子宽度800的时候出现滚动条 *//* max-width: 100px; */ /* 内容在宽度大于盒子宽度100的时候换行 */ border属性利用 border 制作三角图形 1234567891011121314151617181920&lt;style&gt; .div1 &#123; border-top: 50px solid #85194B; border-right: 50px solid #add8e6; border-bottom: 50px solid #f0e68c; border-left: 50px solid #cd5c5c; width: 0; height: 0; &#125; .div2 &#123; border-top: 50px solid #add8e6; border-left: 50px solid rgba(0,0,0,0); width: 0; height: 0; transform: rotate(45deg); &#125;&lt;/style&gt;&lt;div class=\"div1\"&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt;&lt;/div&gt; box-sizing 属性123456789属性值: box-sizing: border-box / content-box [默认值 不盒子是否包括边框 ]content-box元素实际占用宽度= 内容的宽度wdith元素实际占用高度= 内容的宽度heightborder-box元素实际占用宽度= border + padding + 内容的宽度width元素实际占用高度= border + padding + 内容的高度height 水平居中[ text-align:center | marigin: 0,auto ] 2个属性使用垂直方向的时候 margin 不能实现居中 123456789101112131415161718192021222324252627text-align:center 可以居中的元素01) 普通文本02) 行内元素03) 图片:行内替换元素04) 行内块级元素marigin: 0,auto 可以居中的元素05) 块级元素 [ marigin: 0,auto ]demo:&lt;style&gt; .box&#123; height: 200px; background: #c0c0c0; &#125; .inner&#123; width: 200px; height: 100px; background: #eee8aa; margin: 0 auto; /*盒子水平居中了*/ text-align: center; /*内容水平居中了*/ &#125;&lt;/style&gt;&lt;div class=\"box\"&gt; &lt;div class=\"inner\"&gt;盒子水平居中了&lt;/div&gt;&lt;/div&gt; background-image 属性01) 图片先后顺序,先写谁,谁在上面;02) 前面图片错误,会显示后面图片 12345background-image: url(\"./images/lizard.png\"), /*lizard 图片在上面*/url(\"./images/star.png\");background-image: url(\"./images/star.png\"), /* star 图片在上面 */url(\"./images/lizard.png\"); background-image 和 img 的选择使用 img background-image 性质 HTML元素 CSS样式 图片是否占用空间 V X 浏览器右键直接查看地址 V X 支持CSS Sprite X V 更有可能被搜索引擎收录 V(结合alt属性) X 加载顺序 优先加载 等加载完HTML元素后在加载 CSS常见颜色01) HTML中常用颜色 #c0c0c0 silver（银）02) HTML中常用颜色 #808080 gray[*]（灰）03) HTML中常用颜色 #eee8aa palegoldenrod（灰菊黄）04) HTML中常用颜色 #dda0dd plum（李子色）05) HTML中常用颜色 #90ee90 lightgreen（浅绿）06) HTML中常用颜色 #afeeee paleturquoise（苍宝石绿）07) HTML中常用颜色 #ffd700 gold（金）08) HTML中常用颜色 #add8e6 lightblue（淡蓝）09) HTML中常用颜色 #ff6b81 Wild Watermelon(野生西瓜)10) HTML中常用颜色 #00ffff aqua（水绿）11) 网络安全色 16进制和透明度透明度从00-FF，一共256个梯度下面以黑色为例，标准黑色是#000000，透明度加在最后面，即#000000XX（XX代表透明度）；实际效果如下： 12345678910111213141516171819&lt;div style=\"display: flex\"&gt; &lt;div style=\"background:#00000000;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000010;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000020;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000030;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000040;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000050;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000060;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000070;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000080;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#00000090;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000A0;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000B0;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000C0;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000D0;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000E0;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000F0;width:20px;height:20px\"&gt;&lt;/div&gt; &lt;div style=\"background:#000000FF;width:20px;height:20px\"&gt;&lt;/div&gt;&lt;/div&gt; 常见公用CSS12345678910111213/****** reset.css 常见公用样式 ******/body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,hr,pre,code,form,fieldset,legend,input,button,textarea,p,blockquote,th,td &#123; margin:0; padding:0; &#125;body &#123; color:#555;background:#FFF; font-size:16px; font-family: \"microsoft yahei\", sans-serif, arial; &#125;a &#123;text-decoration: none;color: #1a1b1c;&#125;a:hover&#123;text-decoration:none;&#125;img &#123;border: 0;vertical-align: middle;&#125;ul,ol&#123;list-style:none;&#125;table&#123;border-collapse:collapse;border-spacing:0;&#125;p&#123;word-wrap:break-word;&#125;.clearfix:after &#123;content: \".\"; display: block; height:0; clear:both; visibility: hidden;&#125;.clearfix &#123; *zoom:1; &#125; W3-CSS属性查询","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 常见布局_左中右","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见布局_左中右/","text":"CSS 常见布局左中右CSS 常见布局左中右CSS 常见布局左中右左右两栏宽度固定，中间自适应的布局, 经典的圣杯布局 方案1—绝对定位1234567891011121314151617181920212223242526272829303132333435&lt;style&gt; /* 利用绝对定位的方式,左右两栏设置为绝对定位(absolute), 中间设置对应方向大小的 margin的值 */ .container &#123; height: 100px; position: relative; &#125; .left &#123; width: 100px; height: 100px; background: #ff6b81; position: absolute; &#125; .center &#123; margin-left: 100px; margin-right: 200px; height: 100px; background: #c0c0c0; &#125; .right &#123; width: 200px; height: 100px; background: #ff6b81; position: absolute; top: 0; right: 0; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"center\"&gt;box-center&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt; 方案2—flex1234567891011121314151617181920212223242526272829&lt;style&gt; /* 利用 flex 布局的方式, 左右两栏的放大和缩小比例都设置为 0, 基础大小设置为固定的大小, 中间一栏设置为 auto */ .container &#123; height: 100px; display: flex; &#125; .left &#123; background: #ff6b81; flex: 0 0 100px; &#125; .center &#123; background: #c0c0c0; flex: auto; &#125; .right &#123; background: #ff6b81; flex: 0 0 200px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"center\"&gt;box-center&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt; 方案3—浮动12345678910111213141516171819202122232425262728293031323334&lt;style&gt; /* 利用浮动的方式, 左右两栏设置固定大小,并设置对应方向的浮动。 中间一栏设置左右两个方向的 margin 值, --- 注意这种方式,中间一栏必须放到最后 --- */ .container &#123; height: 100px; &#125; .left &#123; width: 100px; height: 100px; background: #ff6b81; float: left; &#125; .center &#123; height: 100px; background: #c0c0c0; margin-left: 100px; margin-right: 200px; &#125; .right &#123; width: 200px; height: 100px; background: #ff6b81; float: right; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt; &lt;div class=\"center\"&gt;box-center&lt;/div&gt;&lt;/div&gt; 方案4—浮动和负边距(圣杯布局)12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;style&gt; /* 圣杯布局，利用浮动和负边距来实现。 父级元素设置左右的 padding， 三列均设置向左浮动， 中间一列放在最前面，宽度设置为父级元素的宽度， 因此后面两列都被挤到了下一行，通过设置 margin 负值将其移动到上一行， 再利用相对定位，定位到两边 */ .container &#123; padding-left: 100px; padding-right: 200px; &#125; .left &#123; width: 100px; height: 100px; background: #ff6b81; float: left; position: relative; left: -100px; margin-left: -100%; &#125; .center &#123; width: 100%; height: 100px; background: #c0c0c0; float: left; &#125; .right &#123; width: 200px; height: 100px; background: #ff6b81; position: relative; left: 200px; float: left; margin-left: -200px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"center\"&gt;box-center&lt;/div&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt; 方案5—浮动和负边距(双飞翼布局)12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;style&gt; /* 双飞翼布局，双飞翼布局相对于圣杯布局来说, 左右位置的保留是通过中间列的 margin 值来实现的, 而不是通过父元素的 padding 来实现的。 本质上来说,也是通过浮动和外边距负值来实现的 */ .container &#123; height: 100px; &#125; .left &#123; width: 100px; height: 100px; background: #ff6b81; float: left; margin-left: -100%; &#125; .right &#123; width: 200px; height: 100px; background: #ff6b81; float: left; margin-left: -200px; &#125; .wrapper&#123; float: left; width: 100%; &#125; .center &#123; height: 100px; background: #c0c0c0; margin-left: 100px; margin-right: 200px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"wrapper\"&gt; &lt;div class=\"center\"&gt;box-center&lt;/div&gt; &lt;/div&gt; &lt;div class=\"left\"&gt;box-left&lt;/div&gt; &lt;div class=\"right\"&gt;box-right&lt;/div&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 常见布局_多列等高","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见布局_多列等高/","text":"CSS 常见布局多列等高CSS 常见布局多列等高CSS 常见布局多列等高 对冲使用负margin-bottom和正padding-bottom对冲实现核心代码: padding-bottom: 9999px; 和 margin-bottom: -9999px; 123456789101112131415161718192021222324252627282930&lt;style&gt; .container &#123; width: 600px; overflow: hidden; margin: 10px auto; border: 1px solid #c0c0c0; &#125; .box &#123; float: left; width: 30%; margin-right: 3%; border: 1px solid #ff6b81; padding-bottom: 9999px; margin-bottom: -9999px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt; &lt;p&gt;dafei&lt;/p&gt; &lt;/div&gt; &lt;div class=\"box\"&gt; &lt;p&gt;论语&lt;/p&gt; &lt;p&gt;史记&lt;/p&gt; &lt;/div&gt; &lt;div class=\"box\"&gt; &lt;p&gt;战国策&lt;/p&gt; &lt;p&gt;汉书&lt;/p&gt; &lt;p&gt;左传&lt;/p&gt; &lt;/div&gt;&lt;/div&gt; flex 布局核心代码: display: flex; 1234567891011121314151617181920212223242526&lt;style&gt; .container &#123; width: 600px; display: flex; &#125; .box &#123; width: 30%; border: 1px solid #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt; fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei &lt;/div&gt; &lt;div class=\"box\"&gt; CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS &lt;/div&gt; &lt;div class=\"box\"&gt; foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar foo bar &lt;/div&gt;&lt;/div&gt; 模仿table布局核心代码: display: table-cell; 属性使用 123456789101112131415161718192021222324252627&lt;style&gt; .box &#123; width: 600px; margin: 40px auto; font-size: 12px; &#125; .cell &#123; display: table-cell; width: 30%; padding: 20px; border: 2px solid #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"box\"&gt; &lt;div class=\"cell\"&gt; fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei fei &lt;/div&gt; &lt;div class=\"cell\"&gt; CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS CSS &lt;/div&gt; &lt;div class=\"cell\"&gt; foo bar foo bar foo bar foo bar foo bar foo bar &lt;/div&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 常见布局","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见布局/","text":"CSS 常见布局CSS 常见布局CSS 常见布局布局的传统解决方案，基于盒状模型，依赖 display 属性 + position属性 + float属性,新方案使用 flex布局 下面的待写……….品字布局 123上面的 div 宽 100%，下面的两个 div 分别宽 50%，然后用 float 或者 inline 使其不换行即可 一行多列123456789101112131415161718192021222324252627282930313233343536373839404142&lt;!--&lt;div class=\"body-main\"&gt;--&gt; &lt;div class=\"body-menu\"&gt; &lt;div class=\"menu-item\"&gt; &lt;div class=\"menu-content\"&gt; &lt;div class=\"menu-title\"&gt;图文消息&lt;/div&gt; &lt;div class=\"menu-num\"&gt;100&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=\"menu-item\"&gt; &lt;div class=\"menu-content\"&gt; &lt;div class=\"menu-title\"&gt;图文消息&lt;/div&gt; &lt;div class=\"menu-num\"&gt;100&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- 重复 --&gt; &lt;/div&gt;&lt;!--&lt;/div&gt;--&gt;&lt;style&gt;.body-menu&#123; display: flex;&#125;.menu-item&#123; flex: 1; /* body-menu 的项目属性 */ height: 180px; margin-right: 10px; border: 1px dashed #e7e7eb; display: flex; justify-content: center; align-items: center; cursor: pointer;&#125;.menu-content&#123; text-align: center; /*position: relative;*/ /*width: 100%;*/&#125;&lt;/style&gt; CSS 布局","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 常见布局_上下","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见布局_上下/","text":"CSS 常见布局上下CSS 常见布局上下CSS 常见布局上下 情景描述: 有一个高度自适应的 div，里面有两个 div，一个高度 100px，希望另一个填满剩下的高度 方案1—padding 和 margin 对冲123456789101112&lt;style&gt; html, body &#123; height: 100%; padding: 0; margin: 0;&#125; /*方法01, padding 和 margin 对冲*/ .container &#123;height: 100%;padding: 100px 0 0;box-sizing: border-box;&#125; .box-A &#123;background: #c0c0c0;height: 100px;margin: -100px 0 0;&#125; .box-B &#123;background: #ff6b81;height: 100%;&#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box-A\"&gt;&lt;/div&gt; &lt;div class=\"box-B\"&gt;&lt;/div&gt;&lt;/div&gt; 方案2—padding 和 absolute 中top 对冲123456789101112&lt;style&gt; html, body &#123; height: 100%; padding: 0; margin: 0;&#125; /*方法02, padding 和 absolute 中top 对冲*/ .container &#123; height: 100%; padding: 100px 0 0; box-sizing: border-box ; position: relative; &#125; .box-A &#123; background: #c0c0c0; height: 100px; position: absolute; top: 0 ; left: 0 ; width: 100%; &#125; .box-B &#123; background: #ff6b81; height: 100%; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box-A\"&gt;&lt;/div&gt; &lt;div class=\"box-B\"&gt;&lt;/div&gt;&lt;/div&gt; 方案3— absolute 中top123456789101112&lt;style&gt; html, body &#123; height: 100%; padding: 0; margin: 0;&#125; /*方法03, absolute 中top */ .container &#123; height: 100%; position: relative; &#125; .box-A &#123; background: #c0c0c0; height: 100px; &#125; .box-B &#123; background: #ff6b81; width: 100%; position: absolute; top: 100px ; left: 0 ; bottom: 0; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box-A\"&gt;&lt;/div&gt; &lt;div class=\"box-B\"&gt;&lt;/div&gt;&lt;/div&gt; 方案4—flex 和 flex-grow123456789101112&lt;style&gt; html, body &#123; height: 100%; padding: 0; margin: 0;&#125; /*方法04, flex 和 flex-grow */ .container&#123;height: 100%;display: flex;flex-direction: column;&#125; .box-A&#123;height: 100px;background: #c0c0c0;&#125; .box-B&#123;flex-grow: 1;background: #ff6b81;&#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box-A\"&gt;xx&lt;/div&gt; &lt;div class=\"box-B\"&gt;xxxx&lt;/div&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 几个小功能","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_几个小功能/","text":"CSS 几个小功能CSS 几个小功能CSS 几个小功能 三角形利用 border 制作三角图形 1234567891011121314151617181920&lt;style&gt; .div1 &#123; border-top: 50px solid #85194B; border-right: 50px solid #add8e6; border-bottom: 50px solid #f0e68c; border-left: 50px solid #cd5c5c; width: 0; height: 0; &#125; .div2 &#123; border-top: 50px solid #add8e6; border-left: 50px solid rgba(0,0,0,0); width: 0; height: 0; transform: rotate(45deg); &#125;&lt;/style&gt;&lt;div class=\"div1\"&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt;&lt;/div&gt; 宽高自适应的正方形方案1—利用 vw 来实现12345678&lt;style&gt; .square &#123; width: 30%; height: 30vw; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"square\"&gt;&lt;/div&gt; 方案2利用元素的padding 百分比是相对父元素 width 的性质来实现 123456789&lt;style&gt; .square &#123; width: 30%; height: 0; padding-top: 30%; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"square\"&gt;&lt;/div&gt; 方案3—利用伪元素利用元素的 margin 百分比是相对父元素 width 的性质来实现利用子元素的 margin-top 的值来实现的 12345678910111213&lt;style&gt; .square &#123; width: 30%; overflow: hidden; background: #ff6b81; &#125; .square::after &#123; content: \"\"; display: block; margin-top: 100%; &#125;&lt;/style&gt;&lt;div class=\"square\"&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS 常见布局_上中下","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见布局_上中下/","text":"CSS 常见布局上中下CSS 常见布局上中下CSS 常见布局上中下 情景描述: 上下固定中间自适应布局 2中方法主要逻辑 利用absolute绝对定位 利用flex 方案1—利用absolute绝对定位1234567891011121314151617181920212223242526272829303132&lt;style&gt; body &#123; padding: 0; margin: 0; &#125; .header &#123; width: 100%; height: 150px; background-color: #ff6b81; position: absolute; top: 0; &#125; .container &#123; width: 100%; background-color: #C0C0C0; position: absolute; top: 150px; bottom: 50px; &#125; .footer &#123; width: 100%; height: 50px; background-color: #ff6b81; position: absolute; bottom: 0; &#125;&lt;/style&gt;&lt;div&gt; &lt;div class=\"header\"&gt;&lt;/div&gt; &lt;div class=\"container\"&gt;利用 absolute 绝对定位&lt;/div&gt; &lt;div class=\"footer\"&gt;&lt;/div&gt;&lt;/div&gt; 方案2—利用flex123456789101112131415161718192021222324252627282930&lt;style&gt; html, body &#123; padding: 0; margin: 0; height: 100%; /* 定义高度 */ &#125; .fei &#123; width: 100%; height: 100%; /* 定义高度 */ display: flex; flex-direction: column; &#125; .header &#123; height: 100px; background: #ff6b81; &#125; .container &#123; flex-grow: 1; background: #c0c0c0; &#125; .footer &#123; height: 100px; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"fei\"&gt; &lt;div class=\"header\"&gt;&lt;/div&gt; &lt;div class=\"container\"&gt;利用 flex&lt;/div&gt; &lt;div class=\"footer\"&gt;&lt;/div&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"div 居中","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_div居中/","text":"div 居中div 居中div 居中 水平居中*margin123456789&lt;style&gt; .box &#123; width: 200px; height: 200px; background-color: #ff6b81; margin: 0 auto; /*水平居中*/ &#125;&lt;/style&gt;&lt;div class=\"box\"&gt;&lt;/div&gt; *flex1234567891011121314&lt;style&gt; .container &#123; display: flex; justify-content: center; /*水平居中*/ &#125; .box &#123; width: 200px; height: 200px; background-color: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt;&lt;/div&gt; 内联块元素 inline-block1234567891011121314151617&lt;style&gt; .container &#123; height: 600px; width: 400px; background-color: #c0c0c0; text-align: center; /* 水平居中 */ &#125; .box &#123; width: 200px; height: 200px; background-color: #ff6b81; display: inline-block; /* 内联块元素 */ &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt;&lt;/div&gt; 水平+垂直居中内联块元素 inline-block这种方法,需要有2个内联元素,其中一个作为参照 demo-01: text-align:center 和 vertical-align:middle :after 12345678910111213141516171819202122232425&lt;style&gt; .container&#123; width: 600px; height: 600px; background-color: #c0c0c0; text-align: center; /* 水平居中 */ &#125; .container:after&#123; content: ''; height: 100%; width: 0; display: inline-block; /* 内联元素 */ vertical-align: middle; &#125; .box&#123; width: 200px; height: 200px; background-color: #ff6b81; display: inline-block; /* 内联元素 */ vertical-align: middle; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt;&lt;/div&gt; demo-01-a: 证明一下(vertical-align)垂直居中,需要参考对象, 实际开中,正常会写一个元素 123456789101112131415161718192021222324&lt;style&gt; .container&#123; width: 600px; height: 600px; background-color: #c0c0c0; text-align: center; &#125; .box&#123; width: 200px; height: 200px; background-color: #ff6b81; display: inline-block; /* 内联元素 */ vertical-align: middle; &#125; .box2&#123; height: 100%; width: 40px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt; &lt;!-- box2 主要是测试说明一下(vertical-align)垂直居中,需要参考对象--&gt; &lt;div class=\"box box2\"&gt;让box1 垂直居中&lt;/div&gt;&lt;/div&gt; demo-02: 绝对定位 absolute, text-align:center 和 vertical-align:middle :after 123456789101112131415161718192021222324252627&lt;style&gt; .container &#123; background: #c0c0c0; position: fixed; top: 0; right: 0; bottom: 0; left: 0; text-align: center; &#125; .container::after &#123; content: \"\"; display: inline-block; height: 100%; vertical-align: middle; &#125; .box &#123; width: 200px; height: 200px; background-color: #ff6b81; display: inline-block; vertical-align: middle; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt;&lt;/div&gt; *flexflex属性 justify-content: center; 和 align-items: center; 123456789101112131415161718&lt;style&gt; .container &#123; width: 600px; height: 600px; background-color: #c0c0c0; display: flex; justify-content: center; /*水平居中*/ align-items: center; /*垂直居中*/ &#125; .box &#123; width: 200px; height: 200px; background-color: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt;&lt;/div&gt; *flex + marginflex 和 margin: auto; 123456789101112131415161718&lt;style&gt; .container &#123; background: #c0c0c0; height: 400px; display: flex; &#125; .box &#123; width: 100px; height: 100px; background: #ff6b81; margin: auto; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"box\"&gt;&lt;/div&gt;&lt;/div&gt; *绝对定位 + margin绝对定位 absolute, 加 margin: auto; 1234567891011121314&lt;style&gt; .box &#123; width: 200px; height: 200px; background-color: #ff6b81; position: absolute; /*绝对定位*/ margin: auto; /*自动*/ top: 0; /* 四个值保持一致 */ left: 0; bottom: 0; right: 0; &#125;&lt;/style&gt;&lt;div class=\"box\"&gt;&lt;/div&gt; *绝对定位 + transform 一半transform 和 绝对定位 ( 和下面margin一半同理 ) 1234567891011121314&lt;style&gt; .container &#123; width: 200px; height: 200px; background-color: #c0c0c0; position: absolute; /*绝对定位 */ top: 50%; left: 50%; transform: translate(-50%,-50%); /*移动 一半*/ /*transform: translate(-100px,-100px); !*移动 一半*!*/ &#125; &lt;/style&gt;&lt;div class=\"container\"&gt;&lt;/div&gt; *绝对定位 + margin 一半margin 一半 和 绝对定位 ( 和上面transform 同理) 123456789101112&lt;style&gt; .container &#123; width: 200px; height: 200px; background-color: #ff6b81; position: absolute; /*绝对定位 */ top: 50%; left: 50%; margin: -100px -100px; /*外边距为自身宽高的 一半*/ &#125;&lt;/style&gt;&lt;div class=\"container\"&gt;&lt;/div&gt; *绝对定位 + calc 一半123456789101112&lt;style&gt; .container &#123; width: 200px; height: 200px; background-color: #ff6b81; position: absolute; top: calc(50% - 100px); left: calc(50% - 100px); &#125;&lt;/style&gt;&lt;div class=\"container\"&gt;&lt;/div&gt; 总结 可以利用 margin:0 auto 来实现元素的水平居中 利用绝对定位，设置四个方向的值都为 0，并将 margin 设置为 auto，由于宽高固定， 因此对应方向实现平分，可以实现水 平和垂直方向上的居中。 利用绝对定位，先将元素的左上角通过 top:50%和 left:50%定位到页面的中心，然后再 通过 margin负值来调整元素 的中心点到页面的中心。 利用绝对定位，先将元素的左上角通过 top:50%和 left:50%定位到页面的中心，然后再 通过 translate 来调整元素 的中心点到页面的中心。 使用 flex 布局，通过 align-items:center 和 justify-content:center 设置容器的垂直和水平 方向上为居中对 齐，然后它的子元素也可以实现垂直和水平的居中 对于宽高不定的元素，上面的后面两种方法，可以实现元素的垂直和水平的居中。","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"CSS 属性 -position","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_position/","text":"CSS 定位属性 position,四个定位类型 static/relative/absolute/fixed,top,right,bottom,left属性则决定了该元素的最终位置position默认值static,此时top,right,bottom,left和z-index无效 static 静态定位[ 默认值 ]relative 相对定位[ 相对于元素自己原来的位置 ]absolute 绝对定位[ 找到自己的父元素非position:static开始定位 ]fixed 固定定位[ 直接相对于浏览器左上角(视口)开始定位] absolute 总则a)定位参照对象的宽度=left+right+margin-left+margin-right+绝对定位元素的实际占用宽度b)定位参照对象的高度=top+bottom+margin-top+margin-bottom+绝对定位元素的实际占用高度c)让绝对定位元素的宽高和定位参照对象一样,可以给绝对定位元素设置以下属性d)让绝对定位元素在定位对象中居中显示,可以给绝对定位元素这是以下属性 相对定位 relative不会脱离文档流,还会占用原来位置,Two这个div原来位置还在 123456789101112131415161718192021&lt;style&gt; .box &#123; display: inline-block; width: 100px; height: 100px; background: #c0c0c0; color: white; &#125; #two &#123; position: relative; top: 20px; left: 20px; background: #eee8aa; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"one\"&gt;One&lt;/div&gt;&lt;div class=\"box\" id=\"two\"&gt;Two&lt;/div&gt;&lt;div class=\"box\" id=\"three\"&gt;Three&lt;/div&gt;&lt;div class=\"box\" id=\"four\"&gt;Four&lt;/div&gt; 绝对定位absolute常使用方法:[ 子绝父相 ] : 父元素用相对定位relative,子元素用绝对定位absolute 01) 脱离文档流不会占用原来位置,Three这个div不再占用原来位置 123456789101112131415161718192021&lt;style&gt; .box &#123; display: inline-block; width: 100px; height: 100px; background: #c0c0c0; color: white; &#125; #three &#123; position: absolute; top: 20px; left: 20px; background: #eee8aa; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"one\"&gt;One&lt;/div&gt;&lt;div class=\"box\" id=\"two\"&gt;Two&lt;/div&gt;&lt;div class=\"box\" id=\"three\"&gt;Three&lt;/div&gt;&lt;div class=\"box\" id=\"four\"&gt;Four&lt;/div&gt; 02) 脱离文档流定位参照对象是最近相邻的祖先元素如果找不到这样的祖先元素,参照对象是视口定位元素position值不为static的元素,也就是position值为relative/absolute/fixed demo: 注意观察 position: relative; 这个值所在的父元素 123456789101112131415161718192021222324252627282930313233343536373839&lt;style&gt; #one &#123; /*position: relative;*/ width: 400px; height: 400px; background: #c0c0c0; &#125; #two &#123; position: relative; width: 300px; height: 300px; background: #eee8aa; &#125; #three &#123; /*position: relative;*/ width: 200px; height: 200px; background: #dda0dd; &#125; #four &#123; position: absolute; right: 50px; width: 100px; height: 100px; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"one\"&gt; &lt;div class=\"box\" id=\"two\"&gt; &lt;div class=\"box\" id=\"three\"&gt; &lt;div class=\"box\" id=\"four\"&gt;我要找祖元素,position值为relative/absolute/fixed&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 04) 定位参照对象的宽度和高度和居中a)定位参照对象的宽度=left+right+margin-left+margin-right+绝对定位元素的实际占用宽度 1left: 0;right: 0;height: 50px; b)定位参照对象的高度=top+bottom+margin-top+margin-bottom+绝对定位元素的实际占用高度 1top: 0;bottom: 0;width: 50px; c)让绝对定位元素的宽高和定位参照对象一样,可以给绝对定位元素设置以下属性 1left:0;right:0;top:0;bottom:0;margin:0; d)让绝对定位元素在定位对象中居中显示,可以给绝对定位元素这是以下属性 1top: 0;bottom: 0;left: 0;right: 0;margin: auto auto; a)宽度12345678910111213141516171819&lt;style&gt; #two &#123; position: relative; width: 150px; height: 150px; background: #eee8aa; &#125; #four &#123; position: absolute; /*width: 50px;*/ /*注意这里*/ height: 50px;left: 0;right: 0; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"two\"&gt; &lt;div class=\"box\" id=\"four\"&gt;&lt;/div&gt;&lt;/div&gt; b)高度12345678910111213141516171819&lt;style&gt; #two &#123; position: relative; width: 150px; height: 150px; background: #eee8aa; &#125; #four &#123; position: absolute; /*height: 50px;*/ /*注意这里*/ width: 50px;top: 0;bottom: 0; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"two\"&gt; &lt;div class=\"box\" id=\"four\"&gt;&lt;/div&gt;&lt;/div&gt; c)宽高,注意这里four中,并没有设置width和height1234567891011121314151617181920&lt;style&gt; #two &#123; position: relative; width: 150px; height: 150px; background: #eee8aa; &#125; #four &#123; position: absolute; /*width: 50px;*/ /*注意这里*/ /*height: 50px;*/ /*注意这里*/ top: 0;bottom: 0;left: 0;right: 0;margin: 0; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"two\"&gt; &lt;div class=\"box\" id=\"four\"&gt;&lt;/div&gt;&lt;/div&gt; d) 居中1234567891011121314151617181920&lt;style&gt; #two &#123; position: relative; width: 150px; height: 150px; background: #eee8aa; &#125; #four &#123; position: absolute; width: 50px; height: 50px; top: 0;bottom: 0;left: 0;right: 0;margin: auto auto; background: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"box\" id=\"two\"&gt; &lt;div class=\"box\" id=\"four\"&gt;&lt;/div&gt;&lt;/div&gt; 固定定位 fixed定位参照对象是视口(浏览器我左上角) 其他绝对定位常用在层叠样式的布局和小功能调整 经典demo一张大图实现居中相对定位 relative比较大的一张图片,实现垂直居中和水平居中,浏览器窗口随意怎么变换,一直显示图片中间位置 12345678910111213141516171819202122232425262728&lt;style&gt; .box &#123; background-color: #c0c0c0; height: 600px; overflow: hidden; &#125; img &#123; position: relative; /* 垂直居中*/ /*top: 50%;*/ /*transform: translate(0, -50%);*/ /* 水平居中*/ /*left: 50%;*/ /*transform: translate(-50%,0);*/ /* 水平居中+垂直居中*/ top: 50%; left: 50%; transform: translate(-50%, -50%); &#125;&lt;/style&gt;&lt;h3&gt;比较大的一张图片,实现垂直居中和水平居中&lt;/h3&gt;&lt;div class=\"box\"&gt; &lt;!--&lt;img src=\"./images/img_center_01.png\" alt=\"这是一张大图\"&gt;--&gt; &lt;img src=\"./images/star.png\" alt=\"这是一张小图\"&gt;&lt;/div&gt; 参考地址:position","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"position","slug":"position","permalink":"http://yoursite.com/tags/position/"}]},{"title":"Postman 中批量运行多个请求","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/other/postman_02/","text":"Postman 中批量运行请求Postman 中批量运行请求Postman 中批量运行请求 背景: 使用postman的时候调用接口做测试的时候需要大量测试数据 批量运行","categories":[{"name":"Postman","slug":"Postman","permalink":"http://yoursite.com/categories/Postman/"}],"tags":[{"name":"Postman","slug":"Postman","permalink":"http://yoursite.com/tags/Postman/"}]},{"title":"-CSS 常见导航nav","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_常见导航nav/","text":"CSS 常见导航navCSS 常见导航navCSS 常见导航nav 水平导航1234567891011121314151617&lt;style&gt; ul.menu, ul.menu li&#123;margin:0px;padding:0px;list-style:none;position:relative;&#125; ul.menu li&#123;line-height:25px&#125; ul.menu li&#123;float:left;margin-left:10px&#125; ul.menu div&#123;display:none;position:absolute;top:20px;left:0px&#125; ul.menu div a&#123;display:block&#125; ul.menu li:hover div&#123;display:block;&#125;&lt;/style&gt;&lt;ul class=\"menu\"&gt; &lt;li&gt;&lt;a href=\"#\"&gt;Menu1&lt;/a&gt; &lt;div&gt;&lt;a href=\"#\"&gt;menu11&lt;/a&gt;&lt;a href=\"#\"&gt;menu12&lt;/a&gt;&lt;/div&gt; &lt;/li&gt; &lt;li&gt;&lt;a href=\"#\"&gt;Menu2&lt;/a&gt;&lt;div&gt;&lt;a href=\"#\"&gt;menu21&lt;/a&gt;&lt;a href=\"#\"&gt;menu22&lt;/a&gt;&lt;/div&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=\"#\"&gt;Menu3&lt;/a&gt;&lt;div&gt;&lt;a href=\"#\"&gt;menu31&lt;/a&gt;&lt;a href=\"#\"&gt;menu32&lt;/a&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div style=\"clear: both;height: 20px;background-color:#c0c0c0;\"&gt;&lt;/div&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"}]},{"title":"-CSS -transform特效","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_transform/","text":"css transform 抽奖特效 实现2D和3Dcss transform 抽奖特效 实现2D和3D transform 抽奖特效1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt;&lt;head&gt; &lt;meta charset=\"UTF-8\"&gt; &lt;title&gt;daFei_transform&lt;/title&gt; &lt;script src=\"jquery.min.js\"&gt;&lt;/script&gt;&lt;/head&gt;&lt;style&gt; .con &#123; width: 200px; height: 50px; background: #138ce0; overflow: hidden; &#125; .item &#123; display: inline-block; width: 20px; height: 100px; margin-left: 30px; margin-top: 5px; transform: translate3d(0px, 0px, 0px); &#125; .item:nth-child(1) &#123; &#125; .item:nth-child(2) &#123; &#125; .item:nth-child(3) &#123; &#125; img &#123; width: 100%; height: auto; margin-bottom: 40px; &#125;&lt;/style&gt;&lt;body&gt;&lt;div class=\"con\"&gt; &lt;div class=\"item\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;/div&gt; &lt;div class=\"item\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;/div&gt; &lt;div class=\"item\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;img src=\"duihao.png\" alt=\"\"&gt; &lt;/div&gt;&lt;/div&gt;dafei&lt;button id=\"btn\"&gt;走起来&lt;/button&gt;&lt;button id=\"btn2\"&gt;初始化&lt;/button&gt;&lt;/body&gt;&lt;script&gt; $(function () &#123; let cliItem = $('.item'); $('#btn').click(function () &#123; cliItem.css('transition', 'all 1s'); cliItem.eq(0).css('transform', 'translate3d(0px,-128px,0px)'); setTimeout(function () &#123; cliItem.eq(1).css('transform', 'translate3d(0px,-128px,0px)') &#125;, 100); setTimeout(function () &#123; cliItem.eq(2).css('transform', 'translate3d(0px,-128px,0px)') &#125;, 200) &#125;); $('#btn2').click(function () &#123; cliItem.css('transition', ''); cliItem.css('transform', ''); &#125;) &#125;)&lt;/script&gt;&lt;/html&gt;","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"transform","slug":"transform","permalink":"http://yoursite.com/tags/transform/"}]},{"title":"-BFC","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_BFC/","text":"块格式化上下文（Block Formatting Context，BFC）块格式化上下文（Block Formatting Context，BFC）块格式化上下文（Block Formatting Context，BFC） 什么是BFC 浮动元素和绝对定位元素,非块级盒子的块级容器(例如 inline-blocks, table-cells, 和 table-captions),以及overflow值不为visiable的块级盒子,都会为他们的内容创建新的BFC(块级格式上下文), 在BFC中,盒子从顶端开始垂直地一个接一个地排列,两个盒子之间的垂直的间隙是由他们的margin值所决定的,在一个BFC中,两个相邻的块级盒子的垂直外边距会产生折叠, 在BFC中,每一个盒子的左外边缘,会触碰到容器的左边缘(对于从右到左的格式来说,则触碰到右边缘), 通俗理解 浮动元素会创建 BFC,则浮动元素内部子元素主要受该浮动元素影响,所以两个浮动元素之间是互不影响的 BFC 是一个独立的布局环境,可以理解为一个容器,在这个容器中按照一定规则进行物品摆放,并且不会影响其它环境中的物品 如果一个元素符合触发 BFC 的条件,则 BFC 中的元素布局不受外部影响 BFC特性 BFC 是一个独立的容器,容器内子元素不会影响容器外的元素反之亦如此 盒子从顶端开始垂直地一个接一个地排列,盒子之间垂直的间距是由 margin 决定的 在同一个 BFC 中,两个相邻的块级盒子的垂直外边距会发生重叠 BFC 区域不会和 float box 发生重叠 BFC 能够识别并包含浮动元素,当计算其区域的高度时,浮动元素也可以参与计算了 创建BFC ** 根元素（） ** 浮动元素（元素的 float 不是 none） ** 绝对定位元素（元素的 position 为 absolute 或 fixed） ** overflow 计算值(Computed)不为 visible 的块元素 ** 行内块元素（元素的 display 为 inline-block） ** 弹性元素（display 为 flex 或 inline-flex 元素的直接子元素） 表格单元格（元素的 display 为 table-cell，HTML表格单元格默认为该值） 表格标题（元素的 display 为 table-caption，HTML表格标题默认为该值） MDN BFC 这里介绍比较详细 了解创建新BFC的效果让浮动内容和周围的内容等高 1234567891011121314151617181920212223242526&lt;style&gt; section &#123; height:150px; &#125; .box &#123; border: 5px solid steelblue; background-color: aliceblue; overflow: auto; /* 创建一个BFC */ &#125; .float &#123; width: 200px; height: 100px; border:1px solid black; padding: 10px; background-color: rgba(255, 255, 255, .5); float: left; /* 创建一个BFC */ &#125;&lt;/style&gt;&lt;section&gt; &lt;div class=\"box\"&gt; &lt;div class=\"float\"&gt;I am a floated box! 让浮动内容和周围的内容等高&lt;/div&gt; &lt;p&gt;I am content inside the &lt;code&gt;overflow:auto&lt;/code&gt; container.&lt;/p&gt; &lt;/div&gt;&lt;/section&gt; 效果展示 I am a floated box! 让浮动内容和周围的内容等高I am content inside the overflow:auto container. 创建新的BFC避免两个相邻&lt;div&gt;之间的外边距margin合并问题 123456789101112131415161718&lt;style&gt; .blue, .red-inner &#123; height: 50px; background-color: #c0c0c0; margin: 10px 0; &#125; .red-outer &#123; overflow: hidden; /* 创建一个新的BFC */ background-color: #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"blue\"&gt;&lt;/div&gt;&lt;div class=\"red-outer\"&gt; &lt;div class=\"red-inner\"&gt;red inner&lt;/div&gt;&lt;/div&gt; 展示效果 red inner 其他W3 BFCMDN BFC","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"BFC","slug":"BFC","permalink":"http://yoursite.com/tags/BFC/"}]},{"title":"CSS 属性 -float","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_float/","text":"css 属性float,六个基本规则css 属性float,六个基本规则css 属性float,六个基本规则 规则一元素一但浮动后,脱离标准流,然后向左或者向右平移，一直平移直到碰到了所处的容器的边框，或者碰到另外一个浮动的元素 规则二浮动元素不能与行内级内容层叠,行内内容会被浮动元素推出比如:行内级元素: inline-block元素、块级元素的文字内容 1234567891011121314&lt;style&gt; div &#123; float: left; background-color: #c0c0c0; &#125; span &#123; background-color: #eee8aa; &#125; strong &#123; background-color: #dda0dd; &#125;&lt;/style&gt;&lt;span&gt;我是span&lt;/span&gt;&lt;strong&gt;我是strong&lt;/strong&gt;&lt;div&gt;我是div,我浮动&lt;/div&gt; 规则三行内级元素、inline-block元素浮动后,其顶部将于所在行的顶部对齐 demo中图片和网站用于设计网页这行文字,浮动后还是在这一行 12345678910111213&lt;style&gt; .container &#123;width: 500px;&#125; img &#123; float: left; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; 超文本标记语言（英语：HyperText Markup Language，简称：HTML） 是一种用于创建网页的标准标记语言。HTML是一种基础技术， 常与CSS、JavaScript一起被众多 &lt;img src=\"http://localhost:5000/img/avatar.png\" style=\"width: 50px;height: 50px;\" alt=\"\"&gt;网站用于设计网页、网页应用程序以及移动应用程序的用户界面 。 网页浏览器可以读取HTML文件，并将其渲染成可视化网页。 HTML描述了一个网站的结构语义随着线索的呈现，使之成为一种标记语言而非编程语言。&lt;/div&gt; 规则四如果元素是向左(右)浮动,浮动元素的左(右)边界不能超出包含块的左(右)边界 规则五浮动元素之间不能层叠如果一个元素浮动,另一个浮动元素已经在那个位置了,后面的浮动元素将紧贴着前一个浮动元素(左浮动找左浮动,右侧浮动找右浮动)如果水平方向剩余的的空间不够实现浮动元素,浮动元素将向下移动,直到有充足的空间位置 规则六浮动元素的顶端不能超过包含块的顶端,也不能超过之前所有浮动元素的顶端 demo1:123456789101112131415161718192021222324252627282930313233343536&lt;style&gt; .container &#123; width: 990px; height: 500px; background-color: #c0c0c0; margin: 0 auto; &#125; .wrapper &#123; /* 处理最后一个多出的margin */ /* 使用公式 */ margin-right: -10px; &#125; .item &#123; float: left; margin-top: 10px; width: 190px; height: 100px; background-color: #eee8aa; margin-right: 10px; /* 注意这行和 .wrapper 对应 */ &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"wrapper\"&gt; &lt;div class=\"item item1\"&gt;&lt;/div&gt; &lt;div class=\"item item2\"&gt;&lt;/div&gt; &lt;div class=\"item item3\"&gt;&lt;/div&gt; &lt;div class=\"item item4\"&gt;&lt;/div&gt; &lt;div class=\"item item5\"&gt;&lt;/div&gt; &lt;div class=\"item item6\"&gt;&lt;/div&gt; &lt;div class=\"item item7\"&gt;&lt;/div&gt; &lt;div class=\"item item8\"&gt;&lt;/div&gt; &lt;div class=\"item item9\"&gt;&lt;/div&gt; &lt;div class=\"item item10\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; 公式公式 width of containing block= ‘margin-left’ + ‘border-left-width’ + ‘padding-left’ + ‘width’ + ‘padding-right’ + ‘border-right-width’ + ‘margin-right’ demo21234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;style&gt; .container &#123; width: 990px; height: 500px; background: #c0c0c0; margin: 0 auto; &#125; .item &#123; float: left; margin-right: 10px; width: 240px; background-color: #eee8aa; &#125; .itema &#123; height: 306px; &#125; .itemb &#123; height: 148px; &#125; .wrapper &#123; margin-right: -10px; &#125; .item-last &#123; margin-top: 10px; &#125;&lt;/style&gt;&lt;div class=\"container\"&gt; &lt;div class=\"wrapper\"&gt; &lt;div class=\"item itema\"&gt;&lt;/div&gt; &lt;div class=\"item itema\"&gt;&lt;/div&gt; &lt;div class=\"item itemb\"&gt;&lt;/div&gt; &lt;div class=\"item itemb\"&gt;&lt;/div&gt; &lt;div class=\"item itemb item-last\"&gt;&lt;/div&gt; &lt;div class=\"item itemb item-last\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt; demo312345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758&lt;style&gt; h2 &#123; margin: 0; padding: 0; &#125; a&#123; text-decoration: none; &#125; .header&#123; width: 1100px; margin: 0 auto; background-color: #c0c0c0; height: 49px; &#125; .f-left&#123; float: left; &#125; .f-right&#123; float: right; &#125; .header-left&#123; font-size: 14px; &#125; .header-left h2,.header-left span,.header-left a&#123; float: left; margin-right: 20px; &#125; .header-left h2&#123; font-size: 22px; &#125; .header-left span&#123; &#125; .header-left .f-left&#123; margin-top: 9px; &#125; .header-right&#123; margin-top: 9px; font-size: 14px; &#125;&lt;/style&gt;&lt;div class=\"header\"&gt; &lt;div class=\"header-left f-left\"&gt; &lt;h2&gt;美妆专区&lt;/h2&gt; &lt;div class=\"search f-left\"&gt; &lt;span&gt;热搜词：&lt;/span&gt; &lt;a href=\"#\"&gt;面膜&lt;/a&gt; &lt;a href=\"#\"&gt;面膜&lt;/a&gt; &lt;a href=\"#\"&gt;面膜&lt;/a&gt; &lt;a href=\"#\"&gt;面膜&lt;/a&gt; &lt;a href=\"#\"&gt;面膜&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=\"header-right f-right\"&gt; &lt;a href=\"#\"&gt;更多好货&gt;&lt;/a&gt; &lt;/div&gt;&lt;/div&gt; demo 4, 把2px,变为1px12345678910111213141516171819202122232425262728293031323334353637&lt;style&gt; ul &#123; list-style: none; margin: 0; padding: 0; &#125; .brand &#123; width: 1100px; height: 180px; margin: 0 auto; /*background-color: #c0c0c0;*/ &#125; .brand ul &#123; margin-left: -10px; &#125; .brand ul li &#123; float: left; width: 220px; height: 167px; background-color: #dda0dd; margin-left: -1px; /* 减少1px,去掉边框的2像素 */ border: 1px solid #ff6b81; &#125;&lt;/style&gt;&lt;div class=\"brand\"&gt; &lt;ul&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; demo 5, 把2px 变为1px12345678910111213141516171819202122232425262728293031323334353637383940&lt;style&gt; ul &#123; list-style: none; margin: 0; padding: 0; &#125; .today&#123; width: 1100px; margin: 0 auto; &#125; .today ul&#123; margin-right: -6px; &#125; .today ul li&#123; float: left; width: 420px; height: 190px; background-color: #c0c0c0; border: 1px solid #ff6b81; margin-right: -1px; margin-bottom: -1px; &#125; .today ul .last&#123; float: right; width: 260px; height: 381px; background-color: #eee8aa; &#125; &lt;/style&gt;&lt;div class=\"today\"&gt; &lt;ul&gt; &lt;li class=\"last\"&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;li&gt;&lt;/li&gt; &lt;/ul&gt;&lt;/div&gt; 清除浮动浮动元素会脱离文档流(绝对定位元素也会脱离文档流)，导致无法计算准确的高度，这种问题称为高度塌陷 01) 使用BFC清除浮动, 具体见BFC文章内容(常见清除浮动overflow:hidden) 1234567891011121314151617181920212223242526#BFC 中 overflow:hidden; 的demo&lt;style&gt; .fei &#123;border:1px solid #ff6b81; margin:0 0 10px 0;&#125; p &#123;margin: 0;&#125; .footer &#123;border:1px solid #ff6b81;&#125; img &#123;float:left;&#125; .fei &#123; overflow:hidden;&#125;&lt;/style&gt;&lt;div class=\"fei\"&gt; &lt;img src=\"https://github.githubassets.com/images/icons/emoji/octocat.png\" /&gt; &lt;p&gt;对父元素使用 overflow:hidden;图片不会再跑到父元素外面 &lt;/p&gt;&lt;/div&gt;&lt;div class=\"footer\"&gt; 我还是保持原来的位置&lt;/div&gt;#其他overflow:hidden声明的真正用途是防止包含元素被超大内容撑大。应用overflow:hidden之后，包含元素依然保持其设定的宽度，而超大的子内容则会被容器剪切掉。除此之外，overflow:hidden还有另一个作用，即它能可靠地迫使父元素包含其浮动的子元素 02) 给父元素增加::after伪元素 12345678910.clear-item::after &#123; content: \"\"; display: block; clear: both; height: 0; /* 为了兼容旧版浏览器*/ visibility: hidden; /* 为了兼容旧版浏览器*/&#125;.clear-item&#123; *zoom: 1; /* 为了兼容IE6-7浏览器 */&#125; 浮动元素可以左右移动，直到遇到另一个浮动元素或者遇到它外边缘的包含框。浮动框不属 于文档流中的普通流，当元素浮动之后， 不会影响块级元素的布局，只会影响内联元素布局。此时文档流中的普通流就会表现得该浮 动框不存在一样的布局模式。当包含框 的高度小于浮动框的时候，此时就会出现“高度塌陷”。 清除浮动是为了清除使用浮动元素产生的影响。浮动的元素，高度会塌陷，而高度的塌陷使 我们页面后面的布局不能正常显示 因为 BFC 元素不会影响外部元素的特点，所以 BFC 元素也可以用来清除浮动的影响，因为 如果不清除，子元素浮动则父元 素高度塌陷，必然会影响后面元素布局和定位，这显然有违 BFC 元素的子元素不会影响外部 元素的设定。 03) 让父元素也同事浮动 其他浮动常用在水平布局 公式Block-level, non-replaced elements in normal flow","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"float","slug":"float","permalink":"http://yoursite.com/tags/float/"}]},{"title":"CSS 之 -margin 兼容文字方向","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/css_margin/","text":"css 之 margin-block-start 和 margin-top css 之 margin-inline-start 和 margin-left 兼容文字阅读方向 margin-inline-start1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;style&gt; .rtl-tb &#123; direction: rtl; /*margin-block-start: 50px; */ /* 文本垂直从上到下的距离 */ margin-top: 50px; unicode-bidi: bidi-override; &#125; .ltr-tb &#123; direction: ltr; margin-inline-start: 50px; /* 文本水平左右的距离*/ /*margin-left: 50px;*/ /* 文本水平左右的距离 */ unicode-bidi: bidi-override; &#125; .fei_03 &#123; direction: rtl; /** 可以兼容文件方向,这里在使用原来的 margin-left 就没有效果, 要使用margin-right,才能回出现右边的距离 */ margin-inline-start: 50px; /*margin-right: 50px;*/ unicode-bidi: bidi-override; &#125;&lt;/style&gt;&lt;div class=\"fei_01 rtl-tb\"&gt; 水平从右到左的。 hello world&lt;/div&gt;&lt;div class=\"fei_02 ltr-tb\"&gt; 水平从左到右的。 hello world&lt;/div&gt;&lt;div class=\"fei_03\"&gt; 水平从右到左的。 hello world&lt;/div&gt;&lt;ul&gt; &lt;li&gt;fei&lt;/li&gt; &lt;li&gt;fei&lt;/li&gt; &lt;li&gt;fei&lt;/li&gt;&lt;/ul&gt; margin 和 padding 参数A) margin 和 padding 参数顺时针方向顺序[ 上右下左]​ 两个 值时，第一个值被匹配给 上和下, 第二个值被匹配给 左和右.​ 三个 值时，第一个值被匹配给 上, 第二个值被匹配给 左和右, 第三个值被匹配给 下 ​ 两个值的时候,上和右,没有下和左,下跟随上,左跟随右​ 三个值的时候,上右下,没有左,左边的值跟随右边的值 B) 折叠(发生在垂直方向),垂直方向上margin折叠计算规则: 2个值进行比较,取较大的值​ demo: div1 和 div2 页面上实际效果是20px 1234567891011121314151617&lt;style&gt; .div1 &#123; background: #add8e6; width: 100px; height: 100px; margin-bottom: 20px; &#125; .div2 &#123; background: #cd5c5c; width: 100px; height: 100px; margin-top: 10px; &#125;&lt;/style&gt;&lt;div class=\"div1\"&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt;&lt;/div&gt; C) 传递(子元素和父元素基线对齐的时候,子元素传给父元素)​ margin-top 传递 demo1: div2_01 中的 margin-top: 30px; 发生了传递 123456789101112131415161718192021222324252627&lt;style&gt; .div1 &#123; background: #add8e6; width: 100px; height: 100px; margin-bottom: 20px; &#125; .div2 &#123; background: #cd5c5c; width: 100px; height: 100px; margin-top: 10px; &#125; .div2_01 &#123; background: red; width: 50px; height: 50px; margin-top: 30px; &#125;&lt;/style&gt;&lt;div class=\"div1\"&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt; &lt;div class=\"div2_01\"&gt;&lt;/div&gt;&lt;/div&gt; margin-bottom 传递 demo2 1234567891011121314151617181920212223242526&lt;style&gt; .div1 &#123; background: #add8e6; width: 100px; /*height: 100px;*/ height: auto; &#125; .div2 &#123; background: #cd5c5c; width: 100px; height: 100px; &#125; .div1_01 &#123; background: red; width: 50px; height: 100px; margin-bottom: 20px; &#125;&lt;/style&gt;&lt;h3&gt; margin-bottom 传递&lt;/h3&gt;&lt;div class=\"div1\"&gt; &lt;div class=\"div1_01\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt;&lt;/div&gt; C-02) 防止传递方法3种 01) 给父元素设置padding-top 或者 padding-bottom 02) 给父元素设置border 03) 触发BFC: 设置overflow为auto 或者 hidden D) margin 和 padding 总结margin一般是用来设置兄弟元素之间的间距padding一般是用来设置父子元素之间的间距一个padding的demo: 子元素向下移动20px, 父元素总高度为120px 1234567891011121314151617181920212223242526&lt;style&gt; .div1 &#123; background: #add8e6; width: 100px; height: 100px; margin-bottom: 20px; &#125; .div2 &#123; background: #cd5c5c; width: 100px; height: 100px; padding-top: 20px;/* 子元素移动20px, 父元素总高度为120px */ &#125; .div2_01 &#123; background: red; width: 50px; height: 50px; &#125;&lt;/style&gt;&lt;div class=\"div1\"&gt;&lt;/div&gt;&lt;div class=\"div2\"&gt; &lt;div class=\"div2_01\"&gt;&lt;/div&gt;&lt;/div&gt; 水平居中123456789&lt;style&gt; div &#123; width: 200px; height: 200px; background-color: #ff6b81; margin: 0 auto; &#125;&lt;/style&gt;&lt;div class=\"div1\"&gt;&lt;/div&gt; 折叠详细介绍折叠,传递,重叠 三个词一个意思 产生折叠的必备条件: margin 必须是邻接的, 两个 margin 是邻接的必须满足以下条件: 必须是处于常规文档流(非 float 和绝对定位)的块级盒子,并且处于同一个 BFC 当中 没有线盒,没有空隙,没有 padding 和border 将他们分隔开 都属于垂直方向上相邻的外边距,可以是下面任意一种情况 元素的margin-top 与其第一个常规文档流的子元素的 margin-top 元素的 margin-bottom 与其下一个常规文档流的兄弟元素的 margin-top height 为 auto 的元素的 margin-bottom 与其最后一个常规文档流的子元素的 margin-bottom 高度为 0 并且最小高度也为 0,不包含常规文档流的子元素,并且自身没有建立新的 BFC 的元素的 margin-top 和 margin-bottom 有三种情况会形成外边距重叠 同一层相邻元素之间 没有内容将父元素和后代元素分开 空的块级元素 其他MDN外边距重叠","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"margin","slug":"margin","permalink":"http://yoursite.com/tags/margin/"}]},{"title":"-flex布局","date":"2015-03-03T16:00:00.000Z","path":"2015/03/04/css/flex_布局/","text":"flex 布局flex 布局 启用flex: diplay:flex | inline-flex (块级 | 行内) 容器属性6个 123flex-directionjustify-content, align-items, align-content, flex-wrap, flex-flow 项目属6个 123flex flex-grow, flex-shrink, flex-basisorder, align-self 常用 一共4个属性flex-direction, justify-content, align-items, flex 容器属性6个123456789diplay:flex | inline-flex (块级 | 行内)// 容器属性6个flex-direction (主轴方向)justify-content (主轴对齐方式)align-items (交叉轴对齐方式)align-content (多根轴线在交叉轴上对齐方式)(属性类似align-items)flex-wrap (轴线上换行)flex-flow (是flex-direction 和 flex-wrap 的简写) 1-01)flex-direction 属性决定主轴的方向12345678/* flex-direction:决定主轴的方向 *//* row 主轴从左到右(默认) *//* row-reverse 主轴从右到左 *//* column 交叉轴从上到下 *//* column-reverse 交叉轴从下到上 */ .container&#123; flex-direction: row;&#125; 1-02) justify-content 属性决定主轴对齐方式12345678910/* justify-content 决定在主轴对齐方式 *//* flex-start 左对齐(默认)*//* center 居中*//* flex-end 右对齐*//* space-between 两端对齐,item之间的间隔都相等 *//* space-around 每个item两侧间隔相等,是 main start 和 main end 距离的2倍*//* space-evenly 每个item两侧间隔相等, 和 main start 和 main end 距离也相等 */.container&#123; justify-content: flex-start;&#125; 1-03) align-items 属性决定在交叉轴对齐方式123456789/* align-items 决定在交叉轴对齐方式*//* flex-start 左对齐 *//* center 居中 *//* flex-end 右对齐 *//* baseline 基于item第一行文字的基线对齐 *//* stretch 如果 item没有设置高度,会自动拉伸占满flex container (默认) */.container&#123; align-items: stretch ;&#125; 1-04) align-content 多根轴线在交叉轴上对齐方式12345678910111213/* 可以消除 flex-wrap 换行后的间隙 *//* 属性类似align-items *//* align-items 决定在交叉轴对齐方式*//* flex-start 左对齐 *//* center 居中 *//* flex-end 右对齐 *//* baseline 基于item第一行文字的基线对齐 *//* stretch 如果 item没有设置高度,会自动拉伸占满flex container (默认) */.container&#123; align-content: stretch ;&#125; 1-05) flex-wrap 一条轴线方不下,轴线上换行1234567/* flex-wrap 一条轴线方不下,轴线上换行*//* nowrap 不换行(默认) *//* wrap 主轴上换行,第一行在上方*//* wrap-reverse 主轴上换行,第一行在下方*/.container&#123; flex-wrap: nowrap;&#125; 1-06) flex-flow 是 flex-direction 和 flex-wrap 的简写12345/* flex-flow 是 flex-direction 和 flex-wrap 的简写*//* 默认值 row nowrap */.container&#123; flex-flow: row nowrap;&#125; 项目属性6个123456flex (属性是flex-grow, flex-shrink 和 flex-basis的简写，默认值为0 1 auto。后两个属性可选。)flex-grow (项目的放大比例)flex-shrink (项目的缩小比例)flex-basisorder (项目的排列顺序)align-self flex的三个属性12flex:0 1 auto;flex: flex-grow flex-shrink flex-basic flex 属性是 flex-grow、flex-shrink 和 flex-basis 属性的简写，描述弹性项目的整体的伸缩性zi 自动分配空间,不超长flex: 1;width: 0; 1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;style&gt; .wrapper &#123; display: flex; align-items: center; justify-content: space-between; width: 300px; background: #eee8aa; padding: 4px; border-radius: 4px; border: 2px solid #808080; &#125; .right &#123; flex-shrink: 0; margin-left: 8px; &#125; .left &#123; display: flex; flex: 1; /*flex-basis: 0;*/ /*flex-grow: 1;*/ width: 0; &#125; .start,.end &#123; background: #ff6b81; &#125; .center &#123; margin: 0 8px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; &#125;&lt;/style&gt;&lt;div class=\"wrapper\"&gt; &lt;div class=\"left\"&gt; &lt;div class=\"start\"&gt;左侧&lt;/div&gt; &lt;div class=\"center\"&gt;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&lt;/div&gt; &lt;div class=\"end\"&gt;标题&lt;/div&gt; &lt;/div&gt; &lt;div class=\"right\"&gt;其他&lt;/div&gt;&lt;/div&gt; Flex 布局教程：语法篇使用 CSS 弹性盒子对齐弹性容器中的弹性项目flex","categories":[{"name":"Flex","slug":"Flex","permalink":"http://yoursite.com/categories/Flex/"}],"tags":[{"name":"Flex","slug":"Flex","permalink":"http://yoursite.com/tags/Flex/"}]},{"title":"linux ubuntu 磁盘扩容","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/ubuntu_虚拟机_磁盘扩容/","text":"linux ubuntu 磁盘扩容linux ubuntu 磁盘扩容linux ubuntu 磁盘扩容 在虚拟机VMware上增加磁盘空间使用了一段时间虚拟机后发现磁盘不够用了,需要扩容。在客户端操作扩容出现磁盘已成功扩展。您必须从客户机操作系统内部对磁盘重新进行分区和扩展文件系统。 然后进ubuntu系统进行操作 查看现有的磁盘空间12df -h #查看当前磁盘空间,没有看到变化fdisk -l #查看硬盘信息 创建新分区不同操作系统命名方式不一样, 我的是 /dev/sda , 有的可能是 /dev/vda,具体使用看 df -h 出来的信息 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677root@ubuntu:/# fdisk /dev/sdaWelcome to fdisk (util-linux 2.31.1).Changes will remain in memory only, until you decide to write them.Be careful before using the write command.Command (m for help): m ------------------获取帮助Help: DOS (MBR) a toggle a bootable flag b edit nested BSD disklabel c toggle the dos compatibility flag Generic d delete a partition F list free unpartitioned space l list known partition types n add a new partition p print the partition table t change a partition type v verify the partition table i print information about a partition Misc m print this menu u change display/entry units x extra functionality (experts only) Script I load disk layout from sfdisk script file O dump disk layout to sfdisk script file Save &amp; Exit w write table to disk and exit q quit without saving changes Create a new label g create a new empty GPT partition table G create a new empty SGI (IRIX) partition table o create a new empty DOS partition table s create a new empty Sun partition tableCommand (m for help): n ----------创建新分区 Partition type p primary (1 primary, 0 extended, 3 free) e extended (container for logical partitions)Select (default p): p --------------选择主分区Partition number (2-4, default 2): 2 -------------分区号,默认是2(系统不一样,默认值不一样)First sector (41940992-52428799, default 41940992): --------直接回城选择默认Last sector, +sectors or +size&#123;K,M,G,T,P&#125; (41940992-52428799, default 52428799): ----直接回城选择默认Created a new partition 2 of type 'Linux' and of size 5 GiB.Command (m for help): t -----------修改分区格式Partition number (1,2, default 2): 2 ----------刚才选择的分区号(对应上面的2)Hex code (type L to list all codes): 8e --------8e是lvm磁盘类型Changed type of partition 'Linux' to 'Linux LVM'.Command (m for help): p ------打印分享信息(可以看到刚才选择的2,多出/dev/sda2,也就是要增加的5G空间)Disk /dev/sda: 25 GiB, 26843545600 bytes, 52428800 sectorsUnits: sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisklabel type: dosDisk identifier: 0x4a53929fDevice Boot Start End Sectors Size Id Type/dev/sda1 * 2048 41940991 41938944 20G 83 Linux/dev/sda2 41940992 52428799 10487808 5G 8e Linux LVMCommand (m for help): w -----------------保存The partition table has been altered.Syncing disks.root@ubuntu:/# reboot -----------重启系统 创建物理卷12df -h #查看当前磁盘空间,没有看到变化fdisk -l #查看硬盘信息,-------------------这时候这里会多出一个 /dev/sda2,说明上面的操作成功 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364------------------这里出现问题?????????????------------root@ubuntu:/# pvcreate /dev/sda2 --------------创建物理卷(pv组成vg，vg组成lv) Physical volume \"/dev/sda2\" successfully created.root@ubuntu:/# pvdisplay --------查看物理卷和大小 \"/dev/sda2\" is a new physical volume of \"5.00 GiB\" --- NEW Physical volume --- PV Name /dev/sda2 VG Name -----------这里没有VG name(如果这里有值怎下面不需要穿件) PV Size 5.00 GiB Allocatable NO PE Size 0 Total PE 0 Free PE 0 Allocated PE 0 PV UUID xVmELU-F8si-LN9g-t4Ur-TWvR-u2Hp-nemrbb -------- 由于我上面VG name 为空,所以创建------ root@ubuntu:/# vgcreate data_fei /dev/sda2 -----------创建vgroot@ubuntu:/# vgdisplay ----------------查看vg状态,查看卷组信息root@ubuntu:/# pvdisplay ------------(再次查看)查看物理卷和大小 --- Physical volume --- PV Name /dev/sda2 VG Name data_fei ------------现在这里有VG name 的值 PV Size 5.00 GiB / not usable 0 Allocatable yes PE Size 4.00 MiB Total PE 1280 ----------这个值在下面 lvextend 会用到 ↓↓↓ Free PE 1280 Allocated PE 0 PV UUID xVmELU-F8si-LN9g-t4Ur-TWvR-u2Hp-nemrbb root@ubuntu:/#-------------------------------------------------root@ubuntu:/# vgextend data_fei /dev/sda2 --------把创建的PV加入到相应的CG Physical volume '/dev/sda2' is already in volume group 'data_fei' Unable to add physical volume '/dev/sda2' to volume group 'data_fei' /dev/sda2: physical volume not initialized. ------------------------------- root@ubuntu:/# lvcreate -L100 -n data_001 data_fei -----我这里lvdisplay没有,所以创建一个 Logical volume \"data_001\" created.root@ubuntu:/# lvdisplay --- Logical volume --- LV Path /dev/data_fei/data_001 LV Name data_001 VG Name data_fei LV UUID dpmINm-4qE4-TX8G-wC72-Z4kO-XsVP-zhdKZs LV Write Access read/write LV Creation host, time ubuntu, 2019-07-01 06:29:51 -0700 LV Status available # open 0 LV Size 100.00 MiB Current LE 25 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 256 Block device------------------------- root@ubuntu:/# lvresize -l +1280 /dev/mapper/data_fei-data_001 ---1280为上面pvdisplay中的free PE数量↑↑↑root@ubuntu:/# lvdisplay resize2fs /dev/mapper/data_fei-data_001 我是a里面的内容","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"Ubuntu","slug":"Linux/Ubuntu","permalink":"http://yoursite.com/categories/Linux/Ubuntu/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"}]},{"title":"linux-DDU  -vagrant 简单使用","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/vagrant简单使用/","text":"vagrant 简单使用vagrant 简单使用vagrant 简单使用 常用命令vagrant 常用命令介绍 12345678910111213141516171819202122vagrant init [初始化]vagrant up [启动虚拟机]vagrant halt [关闭虚拟机]vagrant reload [重新启动虚拟机,主要用于重新载入配置文件]vagrant suspend [暂停虚拟机,这是虚拟机的内存,配置信息会暂存至硬盘]vagrant resume [恢复虚拟机]vagrant ssh [ssh登录到虚拟机]vagrant status [查看虚拟机运行状态]vagrant destroy [销毁当前虚拟机]vagrant box add [添加一个box]vagrant box list [显示当前已经添加的box列表]vagrant box remove [删除相应的box]vagrant package [打包命令,可以吧当前运行的虚拟机环境进行打包]vagrant plugin [用于安装卸载插件]vagrant ssh-config [输出用于ssh连接的一些信息]vagrant 创建的虚拟机账号用户名：vagrant 密 码：vagrant root帐号密码：vagrant用vagrant创建的ubuntu系统，root账号密码默认是没有设置的，需要手动设置 sudo passwd 一般使用 1234567891011121314151617181920212223242526272829303132333435363738391. vagrant --help2. vagrant -version3.显示当前已经添加的box列表 vagrant box list 4. 添加 box vagrant box add new-box-name yours-box-name.box(你的box文件)5. 删除 box vagrant box remove yours-box-name6. 指定 box 初始化 vagrant init yours-box-name7.启动 vagrant up vagrant up --provider virtualbox8.关闭 vagrant halt9.重新启动,加载配置文件 vagrant reload10. 挂起 vagrant suspend11. ssh登录 vagrant ssh12. 打包box打包前删除一个文件sudo rm -rf /etc/udev/rules.d/70-persistent-net.rulesvagrant packagevagrant package --base ubuntu18_default_1543569229538_92064 --output php72_mysql8_nginx.box demo: vagrant --help vagrant -version vagrant box list vagrant box add centos7 centos7-vagrant-123456.box vagrant box list vagrant init centos7 vagrant up --provider virtualbox vagrant ssh vagrant reload vagrant ssh vagrant halt ubuntu box -releases版本 centos box","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"Vagrant","slug":"Linux/Vagrant","permalink":"http://yoursite.com/categories/Linux/Vagrant/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Vagrant","slug":"Vagrant","permalink":"http://yoursite.com/tags/Vagrant/"}]},{"title":"linux-DDU  -vagrant 简单使用02","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/vagrant_02/","text":"vagrant 简单使用02vagrant 简单使用02vagrant 简单使用02 添加一个 box12vagrant box listvagrant box add centos7 centos7-vagrant-180906.box 初始化1vagrant init centos7 启动12vagrant up --provider virtualbox启动时,SSH 没有权限,下面修改配置, 进入虚拟机 virtualBox ,运行远程登录123456789vim /etc/ssh/sshd_config #修改配置文件PubkeyAuthentication yes #注释取消掉重启服务 systemct1 restart sshd.servicewindows端: ssh vagrant@127.0.0.1 -p2222使用密码登录windows端: ssh vagrant@192.168.56.3 #使用指定ip登录 windows 添加私钥 ssh 免密码登录,[在windows中执行]123456vagrant ssh-config #查看实时连接信息cd /c/Users/Administrator/.vagrant.d/scp -P2222 vagrant@127.0.0.1:~/.ssh/id_rsa ./ #从远程复制私钥到windowsmv insecure_private_key insecure_private_key_old #备份原来文件mv id_rsa insecure_private_key 设置 linux 公钥12cp authorized_keys authorized_keys_oldcat id_rsa.pub &gt; authorized_keys 配置 Vagrantfilevagrantfiile1234567891011config.vm.box = \"centos7\"config.vm.network \"private_network\", ip: \"192.168.56.3\"config.vm.network \"public_network\",:bridge=&gt;'en0: Wi-Fi (AirPort)'config.vm.synced_folder \"E:/data_web/webroot/\", \"/data\",mount_options: [\"dmode=775,fmode=775\"]------------------ 这三种写法都可以 ---------------#config.vm.network \"public_network\",:bridge=&gt;'en0: Wi-Fi (AirPort)'#config.vm.network \"public_network\", ip: \"192.168.1.201\"#config.vm.network \"public_network\", ip: \"192.168.1.200\", :bridge =&gt; 'en0: Wi-Fi (AirPort)' 重启1vagrant reload okwindows中 E:/data_web/webroot/ 下创建文件 ,linux 中 /data ,自动同步","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"Vagrant","slug":"Linux/Vagrant","permalink":"http://yoursite.com/categories/Linux/Vagrant/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Vagrant","slug":"Vagrant","permalink":"http://yoursite.com/tags/Vagrant/"}]},{"title":"vagrant_03 --VirtualBox --硬盘扩容","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/vagrant_03_VirtualBox_硬盘扩容/","text":"vagrant 初始的 box 硬盘空间只有 10G,安装 mysql8 就不够用 :( ,下面介绍给主硬盘空间扩容, 操作平台 windows7, box[ubuntu18] 添加环境变量为了接下来方便操作在 windows 中添加 virtualbox 的环境变量 [ 因为下面会多次用到 vboxmanage 命令 ] 12!!! 备份要扩容的文件, 或者全部备份!! vbox , vbox-prev 配置文件要备份 记录要扩容的硬盘的原始信息1234567vboxmanage showhdinfo ubuntu-bionic-18.04-cloudimg.vmdk--------------------------------------------------------$ vboxmanage showhdinfo ubuntu-bionic-18.04-cloudimg.vmdkUUID: 5d02ba81-6f7e-4a8e-8e1b-eadbb30d11d4Parent UUID: base..... 开始扩容12345678910111213141516171819202122232425262728#克隆成 vdi 文件vboxmanage clonehd \"ubuntu-bionic-18.04-cloudimg.vmdk\" \"new-ubuntu-bionic-18.04-cloudimg.vdi\" --format vdi#扩容为 30Gvboxmanage modifyhd \"new-ubuntu-bionic-18.04-cloudimg.vdi\" --resize 30720#转化为原来的 vmdk 格式VBoxManage clonehd \"new-ubuntu-bionic-18.04-cloudimg.vdi\" \"new-ubuntu-bionic-18.04-cloudimg.vmdk\" --format vmdk#查看新 vmdk 信息,记录uuid vboxmanage showhdinfo new-ubuntu-bionic-18.04-cloudimg.vmdk$ vboxmanage showhdinfo new-ubuntu-bionic-18.04-cloudimg.vmdkUUID: f6b42381-fde2-43c2-bcab-3e37731caa9aParent UUID: base--------------------------------------------------#[ del,ren 命令只能在 cmd 或 powershell 中执行]#删除需要扩容的 vmdk del ubuntu-bionic-18.04-cloudimg.vmdk#将扩容后的 vmdk 重命名为原来的文件名ren new-ubuntu-bionic-18.04-cloudimg.vmdk ubuntu-bionic-18.04-cloudimg.vmdk--------------------------------------------------D:\\soft_position\\VirtualBox_linux\\ubuntu18_default_1543569229538_92064&gt; del ubuntu-bionic-18.04-cloudimg.vmdkD:\\soft_position\\VirtualBox_linux\\ubuntu18_default_1543569229538_92064&gt; ren new-ubuntu-bionic-18.04-cloudimg.vmdk ubuntu-bionic-18.04-cloudimg.vmdk 修改 配置文件 uuid12345# 手动修改,图形界面修改都可以ubuntu18_default_1543569229538_92064.vboxubuntu18_default_1543569229538_92064.vbox-prev这2个文件中旧的 uuid 5d02ba81-6f7e-4a8e-8e1b-eadbb30d11d4全部替换为新的 uuid f6b42381-fde2-43c2-bcab-3e37731caa9a 扩容成功","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"Vagrant","slug":"Linux/Vagrant","permalink":"http://yoursite.com/categories/Linux/Vagrant/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Vagrant","slug":"Vagrant","permalink":"http://yoursite.com/tags/Vagrant/"}]},{"title":"centos7  -mysql5.7.22 安装","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/mysql57/","text":"centos7 -mysql5.7.22 安装centos7 -mysql5.7.22 安装centos7 -mysql5.7.22 安装 安装依赖1234567yum -y install libxml2 libxml2-devel curl-devel libjpeg-devel libpng-devel freetype-devel libmcrypt-develyum install -y gcc gcc-c++ make automake libaio-devel cmakeyum install -y ncurses-develyum install openssl openssl-devel查看一下cmake 版本cmake --version 下载 [ 注意版本]1234567安装版本 5.7.22；如果是虚拟机建议内容 4G ;wget https://cdn.mysql.com//archives/mysql-5.7/mysql-boost-5.7.22.tar.gz【我这里是下载到 /usr/local/download/ 然后解压到 当前目录, 准备安装到/usr/local/mysql57 】tar zxvf mysql-boost-5.7.22.tar.gz mv mysql-5.7.21 mysqlcd mysql 编译安装123456789101112131415161718cmake . -DBUILD_CONFIG=mysql_release \\-DCPACK_MONOLITHIC_INSTALL=ON \\-DCMAKE_INSTALL_PREFIX=/usr/local/mysql57 \\-DDEFAULT_CHARSET=utf8 \\-DDEFAULT_COLLATION=utf8_general_ci \\-DMYSQL_UNIX_ADDR=/usr/local/mysql57/mysql.sock \\-DMYSQL_TCP_PORT=3306 \\-DMYSQLX_UNIX_ADDR=/usr/local/mysql57/mysqlx.sock \\-DMYSQL_DATADIR=/usr/local/mysql57/data \\-DSYSCONFDIR=/usr/local/mysql57/etc \\-DWITH_BOOST=/usr/local/download/mysql-5.7.22/boost/boost_1_59_0注意这一项：这个是你 boost 下载好的目录，我的这个版本的 MySQL 解压后对应的目录中有这个-DWITH_BOOST=/usr/local/download/mysql-5.7.22/boost/boost_1_59_0注意看编译报错信息,每次出现缺少包,安装完缺少的包,重新解压新的mysql压缩包make #需要很长时间make install 初始化mysql创建 MySQL 组跟用户12groupadd mysqluseradd -r -g mysql -s /bin/false mysql 更改 mysql 目录权限1234567cd /usr/local/mysql57touch mysql.sockchmod -R 777 mysql.sockchown -R mysql .chgrp -R mysql . 初始化 mysql ， 生成 root 用户临时密码，1234567891011初始化要是操作出问题,可以删掉当前目录文件,然后到编译目录先 make install 可以重新生成文件此时要删除 系统中生成的my.cnf 文件 [/etc/my.cnf /etc/my.cnf.d /etc/my.cnf.d/mysql-clients.cnf ]bin/mysqld --initialize --user=mysql通过mysqld初始化data目录时，如果使用--initialize选项，则会为'root'@'localhost'用户创建一个随机密码。该密码会打印在控制台，如下所示行中末尾就是临时密码：2019-05-09T11:41:55.724145Z 1 [Note] A temporary password is generated for root@localhost: yfa!II_T%7dU*****************初始化一个空密码，使用initialize-insecure ****************bin/mysqld --initialize-insecure --user=mysql 启动mysql1234567891011121314!!!如果遇到启动报错记得杀死进程重新启动!!!ps -aux | grep mysqlpkill -9 mysqlps -aux | grep mysqlsupport-files/mysql.server start #启动报错,没有报错则不用执行下面创建文件mkdir /var/log/mariadbtouch /var/log/mariadb/mariadb.logchown -R mysql:mysql /var/log/mariadb/再次启动:support-files/mysql.server start #启动成功 登录mysql 修改密码123456789101112131415161718192021222324252627bin/mysql -u root -palter user 'root'@'localhost' identified by 'new_password'; #修改密码修改完重启mysql 或者 刷新support-files/mysql.server stop 或者flush privileges;----------------------show databases;use mysql;show tables;select * from user;select Host,User from user;select Host,User,authentication_string from user;*************************************************************我这里设置密码： 123456 做测试，实际中设置你认为安全的密码方法1：alter user 'root'@'localhost' identified by '123456';方法2：set password=password('123456');方法3：update user set authentication_string=password('123456') where user='root';( 不建议使用方法3,SQL会记录到日志中 )这里如果不重新设置密码，系统会一直提示：mysql&gt; show databases;ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.****其他****ALTER USER 'root'@'localhost' PASSWORD EXPIRE; #使密码过期","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"CentOS","slug":"Linux/CentOS","permalink":"http://yoursite.com/categories/Linux/CentOS/"},{"name":"MySQL","slug":"Linux/CentOS/MySQL","permalink":"http://yoursite.com/categories/Linux/CentOS/MySQL/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"},{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"MySQL5","slug":"MySQL5","permalink":"http://yoursite.com/tags/MySQL5/"}]},{"title":"--redis key 设计技巧","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/redis_key_设计技巧/","text":"redis key 设计技巧redis key 设计技巧redis key 设计技巧 redis key 设计技巧第一段 表名转化为key的前缀,如 book: tag:第二段 放置用于分区 key 的字段—对于的 mysql 中的主键的列名,如 id userid第三段 放置主键的值,如1 2 3 4 a b c第四段,写要储存的列名 123456789101112131415161718192021222324第一段 表名转化为key的前缀,如 book: tag:第二段 放置用于分区 key 的字段---对于的 mysql 中的主键的列名,如 id userid 第三段 放置主键的值,如1 2 3 4 a b c第四段,写要储存的列名用户表 user , 转换为 key-value 存储 +----+----------+----------+-----------+| id | username | password | email |+----+----------+----------+-----------+| 1 | 张三 | 123456 | 1@qwq.com || 2 | 李四 | 123456 | 2@qq.com |+----+----------+----------+-----------+127.0.0.1:6379&gt; set user:id:1:username zhangsan127.0.0.1:6379&gt; set user:id:1:password 123456127.0.0.1:6379&gt; set user:id:1:email 1@qwq.com127.0.0.1:6379&gt; set user:id:2:username lisi127.0.0.1:6379&gt; set user:id:2:password 123456127.0.0.1:6379&gt; set user:id:2:email 2@qq.com127.0.0.1:6379&gt; keys user*127.0.0.1:6379&gt; keys user:id* mysql 弊端1234567891011121314151617181920212223242526272829303132333435#book 表 tags 表DROP TABLE IF EXISTS `book`;CREATE TABLE `book` ( `bookid` int(10) unsigned NOT NULL AUTO_INCREMENT, `title` char(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL, PRIMARY KEY (`bookid`)) ENGINE=MyISAM AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;DROP TABLE IF EXISTS `tags`;CREATE TABLE `tags` ( `tid` int(10) unsigned NOT NULL AUTO_INCREMENT, `bookid` int(11) DEFAULT NULL, `content` char(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL, PRIMARY KEY (`tid`)) ENGINE=MyISAM AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;#------------------- 测试数据 ---------------INSERT INTO `book` VALUES (&apos;5&apos;, &apos;PHP圣经&apos;);INSERT INTO `book` VALUES (&apos;6&apos;, &apos;ruby实战&apos;);INSERT INTO `book` VALUES (&apos;7&apos;, &apos;mysql 运维&apos;);INSERT INTO `book` VALUES (&apos;8&apos;, &apos;ruby服务端编程&apos;);INSERT INTO `tags` VALUES (&apos;10&apos;, &apos;5&apos;, &apos;PHP&apos;);INSERT INTO `tags` VALUES (&apos;11&apos;, &apos;5&apos;, &apos;WEB&apos;);INSERT INTO `tags` VALUES (&apos;13&apos;, &apos;6&apos;, &apos;ruby&apos;);INSERT INTO `tags` VALUES (&apos;14&apos;, &apos;7&apos;, &apos;database&apos;);INSERT INTO `tags` VALUES (&apos;15&apos;, &apos;8&apos;, &apos;ruby&apos;);INSERT INTO `tags` VALUES (&apos;16&apos;, &apos;8&apos;, &apos;server&apos;);INSERT INTO `tags` VALUES (&apos;12&apos;, &apos;6&apos;, &apos;WEB&apos;);# 查询:即有 web 标签又有 PPH 标签,要用连接查询 select t1.bookid from tags as t1 inner join tags as t2 on t1.bookid=t2.bookid where t1.content=&apos;PHP&apos; and t2.content=&apos;WEB&apos;; # 如果在查有其他标签 web php ruby ,关联的又要多了","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"CentOS","slug":"Linux/CentOS","permalink":"http://yoursite.com/categories/Linux/CentOS/"},{"name":"Redis","slug":"Linux/CentOS/Redis","permalink":"http://yoursite.com/categories/Linux/CentOS/Redis/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"},{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/tags/Redis/"}]},{"title":"-crontab 定时任务","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/crontab_定时任务/","text":"crontab 定时任务crontab 定时任务crontab 定时任务 crontabcrontab 文件说明,每个用户都会生成一个自己的 crontab 文件,位于 /var/spool/cron 目录下查看 crontab 详情 cat /etc/crontab 12345678910111213141516171819[root@localhost cron]# cat /etc/crontabSHELL=/bin/bashPATH=/sbin:/bin:/usr/sbin:/usr/binMAILTO=root# For details see man 4 crontabs# Example of job definition:# .---------------- minute (0 - 59)# | .------------- hour (0 - 23)# | | .---------- day of month (1 - 31)# | | | .------- month (1 - 12) OR jan,feb,mar,apr ...# | | | | .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat# | | | | |# * * * * * user-name command to be executed[root@localhost cron]# ls /var/spool/cronroot #root 用户fei #飞用户 crontab 命令1234567891011121314151617181920sudo apt-get install cron/sbin/service crond start //启动服务/sbin/service crond stop //关闭服务/sbin/service crond restart //重启服务/sbin/service crond reload //重新载入配置/sbin/service crond status //查看服务状态 systemctl start crond.servicesystemctl stop crond.servicesystemctl restart crond.servicesystemctl reload crond.servicesystemctl status crond.service//-----------------------------------------------crontab -u //设定某个用户的cron服务，一般root用户在执行这个命令的时候需要此参数crontab -l //列出某个用户cron服务的详细内容crontab -r //删除没个用户的cron服务crontab -e //编辑某个用户的cron服务 Demo123456789101112#每隔一分钟执行一次*/1 * * * * php /crontab_test/index.php#每小时的第一分,执行1 * * * * php /crontab_test/index.php----------------------------------------------#每隔2小时执行一次; 从整点开始计数0 */2 * * * sh /fei/test.sh#每天的第2小时执行一次0 2 * * * sh /fei/test.sh------------------------ !!!注意这种错误写法 ------#每隔一分钟执行一次* */1 * * * sh /fei/test.sh demo test.sh12345678d1=`date +%Y-%m-%d-%H:%M:%S`echo \" $d1. [ 0 */2 * * * sh /fei/test.sh ] \" &gt;&gt; /fei/ccc.txtd1=`date +%Y-%m-%d-%H:%M:%S`echo \" $d1. [ 0 2 * * * sh /fei/test.sh ] \" &gt;&gt; /fei/ccc.txtd1=`date +%Y-%m-%d-%H:%M:%S`echo \" $d1. [ * */1 * * * sh /fei/test.sh ] \" &gt;&gt; /fei/ccc.txt","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"CentOS","slug":"Linux/CentOS","permalink":"http://yoursite.com/categories/Linux/CentOS/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"},{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"crontab","slug":"crontab","permalink":"http://yoursite.com/tags/crontab/"}]},{"title":"-oracle 简单使用","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/oracle/oracle_简单使用/","text":"oracle 简单SQL的使用……………. sql123456789101112131415161718192021222324252627282930313233343536373839#sqlSELECT * FROM USER_TAB_COMMENTSSELECT * FROM USER_TAB_COMMENTS T WHERE T.TABLE_NAME='表名' #查看表注释SELECT table_name FROM user_tables; //当前用户的表SELECT table_name FROM all_tables; //所有用户的表查看oracle 数据库版本select * from v$version;select * from product_component_version;#获取表字段：SELECT * FROM user_tab_columns WHERE Table_Name='用户表'; #获取表注释SELECT * FROM user_col_comments;SELECT * FROM user_col_comments WHERE Table_Name='用户表' #EMPI_ADDRESS#查询一行SELECT * FROM 表名 WHERE ROWNUM=1 #查询2行SELECT * FROM (SELECT * FROM 表名 order by CFG_ORGANIZATION_UNID) WHERE ROWNUM &lt; 3;SELECT * FROM 表名 WHERE ROWNUM&lt;3 #这里最好不要用#查询5条数据SELECT * FROM (SELECT 表名.*,ROWNUM as num FROM 表名) WHERE num between 0 and 5;SELECT * FROM 表名 WHERE ROWNUM &lt;= 5 minus SELECT * FROM 表名 WHERE ROWNUM &lt; 0;#WHERE 条件查询SELECT * FROM 表名 WHERE 表名.id&lt;=200 #id小于200#查询最后一条条数据SELECT p.* FROM (SELECT * FROM 表名 t order by t.id desc) p WHERE ROWNUM = 1#between andSELECT * FROM 表名 WHERE 时间字段 BETWEEN TO_DATE('2000-01-01 02:00:00', 'yyyy-MM-dd HH24:MI:SS') AND TO_DATE('2000-02-01 08:00:59', 'yyyy-MM-dd HH24:MI:SS')#时间字段 TO_CHARSELECT UNID,NAME,NAME_XML FROM TABLE_NAME WHERE UNID=10 PHP 操作 oracle123456789101112### PHP 使用 pdo 操作oracle数据库 报错## SELECT UNID,NAME,NAME_XML WHERE UNID&gt;=10 AND UNID&lt;=15 ## 在10到15这5条数据中不为空数据php: symbol lookup error: ...php/lib/php/extensions/no-debug-non-zts-20170718/pdo_oci.so: undefined symbol: GC_ADDREF原因: oracle数据库中字段类型有 CLOB 和 SYS.XMLTYPE 这2中类型解决办法:我的字段 NAME 是 CLOB 类型; NAME_XML 是 SYS.XMLTYPE 类型SELECT UNID,NAME,NAME_XML FROM TABLE_NAME WHERE UNID&gt;=10 AND UNID&lt;=15SELECT UNID,TO_CHAR(a.NAME_XML.getclobval()) as NAME_XML FROM TABLE_NAME WHERE UNID&gt;=10 AND UNID&lt;=15SELECT UNID,TO_CHAR(a.NAME),TO_CHAR(a.NAME_XML.getclobval()) as NAME_XML FROM TABLE_NAME WHERE UNID&gt;=10 AND UNID&lt;=15","categories":[{"name":"Oracle","slug":"Oracle","permalink":"http://yoursite.com/categories/Oracle/"}],"tags":[{"name":"Oracle","slug":"Oracle","permalink":"http://yoursite.com/tags/Oracle/"}]},{"title":"-php -vagrant[centos] -xdebug","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/php_vagrant_xdebug/","text":"!!!! 温馨提醒 PHP版本一点要和xdebug版本对应!!!! 温馨提醒 PHP版本一点要和xdebug版本对应!!!! 温馨提醒 PHP版本一点要和xdebug版本对应 查看安装的xdebug 011234567891011121314[root@localhost php.d]# yum list | grep xdebugRepodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fastphp-composer-xdebug-handler.noarch 1.3.0-1.el7 epel php-pecl-xdebug.x86_64 2.6.1-1.el7.remi.7.2 remi-php72php54-php-pecl-xdebug.x86_64 2.4.1-1.el7.remi remi-safe php55-php-pecl-xdebug.x86_64 2.5.5-1.el7.remi remi-safe php56-php-pecl-xdebug.x86_64 2.5.5-1.el7.remi remi-safe php70-php-pecl-xdebug.x86_64 2.6.1-1.el7.remi remi-safe php71-php-pecl-xdebug.x86_64 2.6.1-1.el7.remi remi-safe php72-php-pecl-xdebug.x86_64 2.6.1-1.el7.remi remi-safe php73-php-pecl-xdebug.x86_64 2.7.0~beta1-1.el7.remi remi-safe [root@localhost php.d]# yum install php-pecl-xdebug 查看安装的xdebug 021234567891011[root@localhost php.d]# ll /etc/php.d/ | grep xdebug-rw-r--r-- 1 root root 37784 Aug 4 05:54 15-xdebug.ini[root@localhost php.d]# vim 15-xdebug.ini zend_extension=xdebug.so xdebug.idekey = \"PHPSTORM\" xdebug.default_enable = 1 xdebug.remote_connect_back = 1 xdebug.remote_port = 9001 xdebug.remote_enable = 1 xdebug.remote_autostart = 1 xdebug.remote_handler=\"dbgp\" 查看安装的xdebug 031234567891011121314151617181920212223242526272829[root@localhost php.d]# php -vPHP 7.2.9 (cli) (built: Aug 15 2018 09:19:33) ( NTS )Copyright (c) 1997-2018 The PHP GroupZend Engine v3.2.0, Copyright (c) 1998-2018 Zend Technologies with Xdebug v2.6.1, Copyright (c) 2002-2018, by Derick Rethans ###这里的配置不要写错了,remote_connect_back这项很重要[root@localhost php.d]# vim 15-xdebug.ini zend_extension=xdebug.so xdebug.idekey = \"PHPSTORM\" xdebug.default_enable = 1 xdebug.remote_connect_back = 1 xdebug.remote_port = 9001 xdebug.remote_enable = 1 xdebug.remote_autostart = 1 xdebug.remote_handler=\"dbgp\" 或者 zend_extension=xdebug.so xdebug.idekey=\"PHPSTORM\" xdebug.remote_connect_back = 1 //这项不要丢了 xdebug.remote_handler = \"dbgp\" xdebug.remote_mode = \"req\" xdebug.remote_host=127.0.0.1 xdebug.remote_enable=on xdebug.remote_port = 9001 xdebug.remote_autostart = no---------------虚拟机配置完毕------------------ windows中配置123456704 Tools--&gt;Vagrant 05 Languages &amp; Frameworks --&gt;PHP--&gt; Debug 06 Languages &amp; Frameworks --&gt;PHP--&gt; Debug --&gt; DBGp Proxy07 Languages &amp; Frameworks --&gt;PHP--&gt; Servers08 Run --&gt; Edit Configurations 添加PHP Web Page09接下来接可以断点调试了","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"},{"name":"CentOS","slug":"Linux/CentOS","permalink":"http://yoursite.com/categories/Linux/CentOS/"},{"name":"PHP","slug":"Linux/CentOS/PHP","permalink":"http://yoursite.com/categories/Linux/CentOS/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"},{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"xdebug","slug":"xdebug","permalink":"http://yoursite.com/tags/xdebug/"}]},{"title":"-虚拟机 -centos7 -扩容","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/centos_扩容/","text":"虚拟机 -centos7 -扩容虚拟机 -centos7 -扩容虚拟机 -centos7 -扩容 在虚拟机VMware上增加磁盘空间使用了一段时间虚拟机后发现磁盘不够用了,需要扩容。在客户端操作扩容出现磁盘已成功扩展。您必须从客户机操作系统内部对磁盘重新进行分区和扩展文件系统。 然后进centos7系统进行操作 使用 df -h 查看磁盘空间大小12345678910### 挂载跟目录节点的 /dev/mapper/centos-root 只有23容量[root@localhost ~]# df -hFilesystem Size Used Avail Use% Mounted on/dev/mapper/centos-root 23G 23G 20K 100% /devtmpfs 20G 0 20G 0% /devtmpfs 20G 4.0K 20G 1% /dev/shmtmpfs 20G 8.5M 20G 1% /runtmpfs 20G 0 20G 0% /sys/fs/cgroup/dev/sda1 497M 120M 378M 25% /boot[root@localhost ~]# 使用 fdisk -l 命令查看磁盘信息12345678910111213141516171819202122232425262728### 第一行 Disk /dev/sda: 107.4 GB 与实际 df -好现实内容不符,说明增加磁盘成功[root@localhost ~]# fdisk -lDisk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectors ---与上面(df -h)不符,说明新增成功Units = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x0004148c Device Boot Start End Blocks Id System/dev/sda1 * 2048 1026047 512000 83 Linux/dev/sda2 1026048 41943039 20458496 8e Linux LVM/dev/sda3 41943040 52428799 5242880 8e Linux LVMDisk /dev/mapper/centos-root: 24.1 GB, 24121442304 bytes, 47112192 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytes[root@localhost ~]# 使用 fdisk /dev/sda 创建新的分区1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677### 注意：不同操作系统的磁盘命名方式不同，有些是/dev/vda。### 具体使用方式参考第三步中fdisk -l首行显示Disk。### 如笔者在该系统中首行显示为Disk /dev/sda: 107.4 GB, 107374182400 bytes ，故使用命令fdisk /dev/sda）[root@localhost ~]# fdisk /dev/sdaWelcome to fdisk (util-linux 2.23.2).Changes will remain in memory only, until you decide to write them.Be careful before using the write command.Command (m for help): m ---------#帮助命令Command action a toggle a bootable flag b edit bsd disklabel c toggle the dos compatibility flag d delete a partition g create a new empty GPT partition table G create an IRIX (SGI) partition table l list known partition types m print this menu n add a new partition o create a new empty DOS partition table p print the partition table q quit without saving changes s create a new empty Sun disklabel t change a partition's system id u change display/entry units v verify the partition table w write table to disk and exit x extra functionality (experts only)Command (m for help): n -----------#创建新分区Partition type: p primary (3 primary, 0 extended, 1 free) e extendedSelect (default e): p -------#选择主分区Selected partition 4First sector (52428800-209715199, default 52428800): ---#回车使用默认Using default value 52428800Last sector, +sectors or +size&#123;K,M,G&#125; (52428800-209715199, default 209715199): ---#回车使用默认Using default value 209715199Partition 4 of type Linux and of size 75 GiB is setCommand (m for help): t --------------#修改分区类型Partition number (1-4, default 4): ----------#回车使用默认值Hex code (type L to list all codes): 8e -----#说明: 8e 是lvm磁盘类型Changed type of partition 'Linux' to 'Linux LVM'Command (m for help): p ------#打印分区表Disk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x0004148c Device Boot Start End Blocks Id System/dev/sda1 * 2048 1026047 512000 83 Linux/dev/sda2 1026048 41943039 20458496 8e Linux LVM/dev/sda3 41943040 52428799 5242880 8e Linux LVM/dev/sda4 52428800 209715199 78643200 8e Linux LVMCommand (m for help): w -------#保存退出The partition table has been altered!Calling ioctl() to re-read partition table.WARNING: Re-reading the partition table failed with error 16: Device or resource busy.The kernel still uses the old table. The new table will be used atthe next reboot or after you run partprobe(8) or kpartx(8) ---#这里提示重启系统Syncing disks. 重启系统1[root@localhost ~]# reboot 查看磁盘情况1234567891011121314151617181920212223242526272829### 核对刚才所做的分区操作是否保存成功[root@localhost ~]# fdisk -lDisk /dev/sda: 107.4 GB, 107374182400 bytes, 209715200 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0x0004148c Device Boot Start End Blocks Id System/dev/sda1 * 2048 1026047 512000 83 Linux/dev/sda2 1026048 41943039 20458496 8e Linux LVM/dev/sda3 41943040 52428799 5242880 8e Linux LVM/dev/sda4 52428800 209715199 78643200 8e Linux LVM ----#这里多出一块,说明保存成功Disk /dev/mapper/centos-root: 24.1 GB, 24121442304 bytes, 47112192 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk /dev/mapper/centos-swap: 2147 MB, 2147483648 bytes, 4194304 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytes[root@localhost ~]# 使用 pvcreate /dev/sda4 创建物理卷1234### /dev/sda4 这里的4是上面刚才新增的分区[root@localhost ~]# pvcreate /dev/sda4 Physical volume \"/dev/sda4\" successfully created[root@localhost ~]# 使用pvdisplay 查看新建的物理卷大小123456789101112131415161718192021222324252627282930313233343536[root@localhost ~]# pvdisplay --- Physical volume --- PV Name /dev/sda2 VG Name centos PV Size 19.51 GiB / not usable 3.00 MiB Allocatable yes (but full) PE Size 4.00 MiB Total PE 4994 Free PE 0 Allocated PE 4994 PV UUID 7q1DBZ-n5ZX-1OPX-IN9w-SdAp-qekM-BfpVbc --- Physical volume --- PV Name /dev/sda3 VG Name centos PV Size 5.00 GiB / not usable 4.00 MiB Allocatable yes PE Size 4.00 MiB Total PE 1279 Free PE 10 Allocated PE 1269 PV UUID eOLd2K-aXSx-cA1M-hwJc-zqdq-7U4Y-ZE8d2R \"/dev/sda4\" is a new physical volume of \"75.00 GiB\" ----------#可以看到新增的75G --- NEW Physical volume --- PV Name /dev/sda4 VG Name PV Size 75.00 GiB Allocatable NO PE Size 0 Total PE 0 Free PE 0 --------#现在这里看到的是0,在 lvextend 的时候还要重新查看 Allocated PE 0 PV UUID wyG3ZO-e1a0-3OHW-6afy-u90w-7Lc8-ddMnJL [root@localhost ~]# 使用 vgdisplay 查看 vg 状态1234567891011121314151617181920212223[root@localhost ~]# vgdisplay --- Volume group --- VG Name centos --------------#这个名字在下面会用到 System ID Format lvm2 Metadata Areas 2 Metadata Sequence No 5 VG Access read/write VG Status resizable MAX LV 0 Cur LV 2 Open LV 2 Max PV 0 Cur PV 2 Act PV 2 VG Size 24.50 GiB PE Size 4.00 MiB Total PE 6273 Alloc PE / Size 6263 / 24.46 GiB Free PE / Size 10 / 40.00 MiB VG UUID q6Omkk-sEkn-Ex9Y-gfSY-0URm-4z2E-0u9Euj [root@localhost ~]# 使用 vgextend centos /dev/sda4 将添加新的物理卷加载到 centos 卷组123456789101112131415161718192021### centos 是我的服务器vg名称,可以通过vgdisplay查看vg状态得到名称### /dev/sda4 是我刚刚新增的物理卷[root@localhost ~]# vgextend centos /dev/sda4 Volume group \"centos\" successfully extended[root@localhost ~]# ###---------- 注意这里可以由于系统空间不足出现报错 ------------###---------- 手动去删除些没有用的文件 ------------### 报错内容### [root@localhost ~]# vgextend centos /dev/sda4### Couldn't create temporary archive name.### Volume group \"centos\" metadata archive failed.### Internal error: Attempt to unlock unlocked VG #orphans.### [root@localhost ~]# ###[root@localhost ~]# vgextend centos /dev/sda4 Couldn't create temporary archive name. Volume group \"centos\" metadata archive failed. Internal error: Attempt to unlock unlocked VG #orphans.[root@localhost ~]# 使用 lvdisplay 查看 lv 状态123456789101112131415161718192021222324252627282930313233343536[root@localhost ~]# lvdisplay --- Logical volume --- LV Path /dev/centos/swap LV Name swap VG Name centos LV UUID d39rhF-bGNs-fWPE-ItwX-FNQe-QJ4h-taAm94 LV Write Access read/write LV Creation host, time localhost, 2019-05-09 03:42:09 -0400 LV Status available # open 2 LV Size 2.00 GiB Current LE 512 Segments 1 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:1 --- Logical volume --- LV Path /dev/centos/root LV Name root VG Name centos LV UUID rvepaR-xSYs-hPOy-vPWA-Oiuh-A0Je-j29Gk1 LV Write Access read/write LV Creation host, time localhost, 2019-05-09 03:42:10 -0400 LV Status available # open 1 LV Size 22.46 GiB Current LE 5751 Segments 2 Allocation inherit Read ahead sectors auto - currently set to 8192 Block device 253:0 [root@localhost ~]# 使用 lvextend 增加容量123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960 ## 使用 df -h 可以看到 /dev/mapper/centos-root 的名字 ## 使用 pvdisplay 再次查看 free 的PE数量 [root@localhost data]# df -hFilesystem Size Used Avail Use% Mounted on/dev/mapper/centos-root 23G 23G 52K 100% / -------# /dev/mapper/centos-root 这个名字要用devtmpfs 20G 0 20G 0% /devtmpfs 20G 4.0K 20G 1% /dev/shmtmpfs 20G 8.5M 20G 1% /runtmpfs 20G 0 20G 0% /sys/fs/cgroup/dev/sda1 497M 120M 378M 25% /boot[root@localhost data]# [root@localhost data]# pvdisplay --- Physical volume --- PV Name /dev/sda2 VG Name centos PV Size 19.51 GiB / not usable 3.00 MiB Allocatable yes (but full) PE Size 4.00 MiB Total PE 4994 Free PE 0 Allocated PE 4994 PV UUID 7q1DBZ-n5ZX-1OPX-IN9w-SdAp-qekM-BfpVbc --- Physical volume --- PV Name /dev/sda3 VG Name centos PV Size 5.00 GiB / not usable 4.00 MiB Allocatable yes PE Size 4.00 MiB Total PE 1279 Free PE 10 Allocated PE 1269 PV UUID eOLd2K-aXSx-cA1M-hwJc-zqdq-7U4Y-ZE8d2R --- Physical volume --- PV Name /dev/sda4 VG Name centos PV Size 75.00 GiB / not usable 4.00 MiB Allocatable yes PE Size 4.00 MiB Total PE 19199 Free PE 19199 --------#这个大小要用 Allocated PE 0 PV UUID wyG3ZO-e1a0-3OHW-6afy-u90w-7Lc8-ddMnJL [root@localhost data]# ###---------- 注意这里可以由于系统空间不足出现报错 ------------###---------- 手动去删除些没有用的文件 ------------### 报错内容### [root@localhost ~]# lvextend -l +19199 /dev/mapper/centos-root ### Couldn't create temporary archive name.### Volume group \"centos\" metadata archive failed.### [root@localhost ~]# ###[root@localhost ~]# lvextend -l +19199 /dev/mapper/centos-root Size of logical volume centos/root changed from 22.46 GiB (5751 extents) to 97.46 GiB (24950 extents). Logical volume root successfully resized[root@localhost ~]# 查看当前分区类型(在下一步会用到)12345678910### 我的是 xfs 类型(centos7系统)[root@localhost ~]# df -T /dev/sda1Filesystem Type 1K-blocks Used Available Use% Mounted on/dev/sda1 xfs 508588 122080 386508 25% /boot[root@localhost ~]####-----------或者使用[root@localhost ~]# cat /etc/fstab | grep centos-root/dev/mapper/centos-root / xfs defaults 0 0[root@localhost ~]# 使用 xfs_growfs (centos7)重新调整文件系统大小(根据上一步类型使用不同命令)12345678910111213141516### centos7中用 xfs_growfs[root@localhost ~]# xfs_growfs /dev/mapper/centos-rootmeta-data=/dev/mapper/centos-root isize=256 agcount=6, agsize=1144832 blks = sectsz=512 attr=2, projid32bit=1 = crc=0 finobt=0data = bsize=4096 blocks=5889024, imaxpct=25 = sunit=0 swidth=0 blksnaming =version 2 bsize=4096 ascii-ci=0 ftype=0log =internal bsize=4096 blocks=2560, version=2 = sectsz=512 sunit=0 blks, lazy-count=1realtime =none extsz=4096 blocks=0, rtextents=0data blocks changed from 5889024 to 25548800[root@localhost ~]# ### centos6中用 resize2fs[root@localhost ~]# resize2fs /dev/mapper/centos-root 查看磁盘空间123456789[root@localhost ~]# df -hFilesystem Size Used Avail Use% Mounted on/dev/mapper/centos-root 98G 23G 75G 24% / ----#新增成功devtmpfs 20G 0 20G 0% /devtmpfs 20G 4.0K 20G 1% /dev/shmtmpfs 20G 8.5M 20G 1% /runtmpfs 20G 0 20G 0% /sys/fs/cgroup/dev/sda1 497M 120M 378M 25% /boot[root@localhost ~]#","categories":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/categories/CentOS/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"}]},{"title":"-centos 中开机自启","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/centos/开机自启/","text":"centos 中开机自启centos 中开机自启centos 中开机自启 systemctl 设置开机启动123yum install nginx # 安装nginx 做开机启动测试systemctl enable nginx.service # 设为开机启动systemctl disable nginx.service # 停止开机启动 修改 rc.local 设置为开机启动123456789101112### /etc/rc.local 和 /etc/rc.d/rc.local 修改那个都行,我这里修改 /etc/rc.d/rc.local[root@localhost vagrant]# locate rc.local/etc/rc.local/etc/rc.d/rc.local[root@localhost vagrant]#在 /etc/rc.d 目录下,修改 rc.local ,添加执行命令,比如 mkdir /fei_03 创建一个名字叫 fei_03 的目录; 然后 chmod +x /etc/rc.d/rc.local##### ---- 温馨提示,请注意 rc.local 文件里面有个提示如下, # Please note that you must run 'chmod +x /etc/rc.d/rc.local' to ensure# that this script will be executed during boot.","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"-oracle 其他问题","date":"2015-02-03T16:00:00.000Z","path":"2015/02/04/oracle/oracle_其他问题/","text":"oracle 其他问题 Navicat 连接 oracle 报错123connection to server failed probale oracle net admin errorNavicat 客户端的oci需要与oracle 的版本一致 Navicat 连接 oracle 数据库账号错误123connection as SYS should be as SYSDBA or SYSOPER不能使用sys账号,要使用system账号登录 PL/SQL Developer 连接oracle#PL 和 oracle在通一个系统中安装完PL/SQL Developer 直接连接oracle数据库即可 PL 在windows系统, oracle在linux系统中 01) 需要下载 instantclient-basic-linux.zseries64-11.2.0.4.0.zip 和 instantclient-basic-windows.x64-11.2.0.4.0.zip,注意版本要和oracle数据库版本一致,这2个都需要,在后面配置PL/SQL 的时候会用到 02) 创建 tnsnames.ora 文件 ,向文件中添加如下内容 12345678910orcl = (DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST = 10.168.69.199 )(PORT = 1521)) ) (CONNECT_DATA = (SERVICE_NAME = ehrv3 ) ) ) 03) 解压 instantclient-basic-linux.zseries64-11.2.0.4.0.zip 和 instantclient-basic-windows.x64-11.2.0.4.0.zip 解压后名字是 instantclient_11_2 ,然后把这2个解压文件合并,有重复的文件直接覆盖替换, 我把文件 放到 C:\\instantclient_11_2,然后把 tnsnames.ora 放到 C:\\instantclient_11_2 下面,(网上有的说把 tnsnames.ora 放到新建的目录 C:\\instantclient_11_2\\network\\admin 下面,其实不是必须的,只要后面配置的时候可以找到这个文件就可以) 03-02) !!! 下面这2个环境变量不配置也可以 ,( 我这里没有配置这2个环境变量 ) 变量名 变量 TNS_ADMIN C:\\instantclient_11_2 NLS_LANG AMERICAN_AMERICA.AL32UTF8 04) 配置 PL/SQL Developer , (汉化在后面会另加说明), 启动 PL/SQL 出现登录窗口,点击取消(calcel)按钮,这嗜好会进去软件界面 123oracle 主目录 C:\\instantclient_11_2OCI库 C:\\instantclient_11_2\\oci.dll 05) 重启 PL/SQl , 输入账号密码,注意数据库的哪一行要写(192.168.1.200:1521/fei [ IP 端口 数据库名称 ]) PL/SQL Developer - Registered Download 下载__操作oracle数据库工具 instantclient-basic-windows.x64-11.2.0.4.0.zip 下载地址 &amp;&amp; instantclient-basic-linux.zseries64-11.2.0.4.0.zip 下载 oracle教程","categories":[{"name":"Oracle","slug":"Oracle","permalink":"http://yoursite.com/categories/Oracle/"}],"tags":[{"name":"Oracle","slug":"Oracle","permalink":"http://yoursite.com/tags/Oracle/"}]},{"title":"-nginx","date":"2015-01-03T16:00:00.000Z","path":"2015/01/04/nginx/nginx_01/","text":"nginx 相关使用文章介绍 ——–飞- nginx——– 防盗链123456789101112location ~ .*\\.(gif|jpg|jpeg|png|bmp|swf)$ &#123; # none 允许没有http_refer的请求资源 # blocked 允许不是 http://开头的,不带协议的请求访问资源 # *.test22.com 只允许指定域名访问 valid_referers none blocked *.test22.com; if ($invalid_referer) &#123; #return 403; #return 500; rewrite ^/ https://www.baidu.com/img/bd_logo1.png; &#125; expires 30d;&#125; 强制 Nginx 返回一个404状态码123return 404; #return 403;#return 500; 强制 Apache 返回一个404状态码12Redirect 404 / #访问根目录显示404Redirect 500 / #访问根目录显示500 访问不存在的页面重定向到首页1234if (!-e $request_filename) &#123; rewrite ^/(.*) /index.html redirect; break;&#125; 伪静态123456789location / &#123; try_files $uri $uri/ /index.php$is_args$args;&#125;location /backend &#123; try_files $uri $uri/ /backend/index.php$is_args$args;&#125;location /api &#123; try_files $uri $uri/ /api/index.php$is_args$args;&#125; nginx全局变量 Alphabetical index of variables Module ngx_http_core_module 搜索 Embedded Variables","categories":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/categories/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"}]},{"title":"-Apache 安装","date":"2014-12-31T16:00:00.000Z","path":"2015/01/01/apache/apache安装/","text":"Apache 安装Apache 安装Apache 安装 apache 安装1)官方地址: http://httpd.apache.org/docs/2.4/install.html安装Apache 必须的源码包: [Apache, Apr,Apr-Util,Pcre],并且确认系统中已经安装了[gcc,gcc-c++,make,autoconf,automake], 2)centos系统中可以:1yum install -y gcc gcc-c++ autoconf libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel libpng libpng-devel libxml2 libxml2-devel zlib zlib-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses curl openssl-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp-devel readline-devel libxslt-devel expat-devel xmlrpc-c xmlrpc-c-devel 3),下载好源码1234wget https://mirrors.tuna.tsinghua.edu.cn/apache//httpd/httpd-2.4.37.tar.gzwget https://mirrors.cnnic.cn/apache//apr/apr-1.6.5.tar.gzwget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.1.tar.gzwget http://jaist.dl.sourceforge.net/project/pcre/pcre/8.36/pcre-8.36.tar.gz 4).安装1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465centos中安装pcre: yum install -y pcre pcre-develubuntu中安装pcre: apt-get install libpcre3 libpcre3-dev#安装过程中缺少依赖自行安装,我的pcre已经用apt安装好了#groupadd deployer useradd -g apache apache #tar -zxvf apr-1.6.5.tar.gz -C /data/server/apache_component#tar -zxvf apr-util-1.6.1.tar.gz -C /data/server/apache_component#tar -zxvf pcre-8.36.tar.gz -C /data/server/apache_component#tar -zxvf httpd-2.4.37.tar.gz -C /data/server/apache_componenttar -zxvf apr-1.6.5.tar.gzcd apr-1.6.5./configure --prefix=/data/server/apache_component/apr-1.6.5makemake installtar -zxvf apr-util-1.6.1.tar.gzcd apr-util-1.6.1./configure \\--prefix=/data/server/apache_component/apr-util-1.6.1 \\--with-apr=/data/server/apache_component/apr-1.6.5makemake install##centos中少库 expat-devel##ubuntu中缺少 apt-get install libexpat-devtar -zxvf httpd-2.4.37.tar.gzcd httpd-2.4.37./configure \\--prefix=/data/server/apache \\--with-apr=/data/server/apache_component/apr-1.6.5 \\--with-apr-util=/data/server/apache_component/apr-util-1.6.1make make install##到这里已经安装完毕,下面配置Apachevim httpd.conf #修改配置ServerName www.test.com:80##Apache常用命令/data/server/apache/bin/apachectl -v #查看 Apache 版本/data/server/apache/bin/apachectl -V #大写V 查看 Apache 版本,安装路径等其他信息/data/server/apache/bin/apachectl -k start #参数k发送信号/data/server/apache/bin/apachectl -k stop/data/server/apache/bin/apachectl restart/data/server/apache/bin/apachectl configtest #检查配置文件是否正确/data/server/apache/bin/apachectl -t #检查配置文件是否正确/data/server/apache/bin/httpd -t #检查配置文件是否正确/data/server/apache/bin/apachectl -S #大写S 显示已解析的vhost设置/data/server/apache/bin/apachectl -help cat /data/server/apache/build/config.nice #查看apache编译参数ps -aux | grep httpd # 查看 apache 状态windows 中命令./httpd.exe -t #查看配置文件是否正确 &lt;Directory /data/www&gt; Deny from all #403 拒绝访问 #ErrorDocument 404 /test/404.html #404 重定向 #ErrorDocument 404 \"This is 404 page\" &lt;/Directory&gt; 5)自定义配置文件1Include conf/self_vhosts/*.conf 让普通用户可以启apache1234##用普通用户安装的时候cd /data/server/apache/binchown root httpd #chown root:www httpdchmod u+s httpd 强制 Apache 返回一个404状态码1234567Redirect 404 / #访问根目录显示404Redirect 500 / #访问根目录显示500&lt;Directory /data/www&gt; Deny from all #403 拒绝访问 #ErrorDocument 404 /test/404.html #404 重定向 #ErrorDocument 404 \"This is 404 page\" #400 显示错误字符串&lt;/Directory&gt; Apache 解析php123456789101112131415161718192021222324252627282930313233343536#方法一: PHP编译的时候使用--with-apxs2'--with-apxs2=/usr/local/apache/bin/apxs' #让Apache支持PHP#查看原来PHP的编译参数/data/server/php7/bin/php -i | grep configure#方法二,在Apache2.4以后支持FCGI方式在Apache的conf中添加自己的文件路径; Include conf/self_vhosts/*.conf&lt;VirtualHost *:80&gt; #ServerAdmin webmaster@localhost ServerName www.afei.com DocumentRoot /data/www #主要是这2个配置 ProxyRequests Off ProxyPassMatch ^/(.*\\.php(/.*)?)$ fcgi://127.0.0.1:9000/data/www/$1 &lt;Directory /data/www&gt; Options FollowSymlinks DirectoryIndex index.php AllowOverride All Require all granted &lt;/Directory&gt;&lt;/VirtualHost&gt;##需要在 conf/httpd.conf 文件中打开4个扩展,把下面这几个的注释都打开#LoadModule proxy_module modules/mod_proxy.so#LoadModule proxy_http_module modules/mod_proxy_http.so #LoadModule proxy_fcgi_module modules/mod_proxy_fcgi.so#LoadModule rewrite_module modules/mod_rewrite.so#方法三,解析PHP,需要Apache 2.4.9 以后&lt;FilesMatch \\.php$&gt; SetHandler \"proxy:fcgi://127.0.0.1:9000\"&lt;/FilesMatch&gt; 使用ip访问,骚气操作011234567891011121314151617#http://192.168.1.202/api/hello/world #后端PHP访问方式#http://192.168.1.202/test/dist/index.html #前端访问方式#/data/www/web/test/public 前端&lt;IfModule alias_module&gt; #解析php ProxyRequests Off ProxyPassMatch ^/(.*\\.php(/.*)?)$ fcgi://127.0.0.1:9000/data/www/test/public/$1 Alias /test \"/data/www/test/public\" #使用别名访问&lt;/IfModule&gt;&lt;Directory /data/www/test/public&gt; Options FollowSymlinks DirectoryIndex index.php Allow from all AllowOverride All Require all granted&lt;/Directory&gt; 使用ip访问,骚气操作01123456789101112131415161718192021在 conf/httpd.conf 文件中添加#解析PHP&lt;FilesMatch \\.php$&gt; SetHandler \"proxy:fcgi://127.0.0.1:9000\"&lt;/FilesMatch&gt;#访问方法 ip/index.php&lt;Directory \"/data/www/web/fsnh/api/trunk/public\"&gt; Options Indexes FollowSymLinks MultiViews AllowOverride all Require all granted&lt;/Directory&gt;#访问方法 ip/aaa/index.phpAlias /aaa \"/data/www/cfsh/CFSH/public\"&lt;Directory \"/data/www/cfsh/CFSH/public\"&gt; Options Indexes FollowSymLinks MultiViews AllowOverride all Require all granted&lt;/Directory&gt;","categories":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/categories/Apache/"}],"tags":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/tags/Apache/"}]},{"title":"-Apache 配置","date":"2014-12-31T16:00:00.000Z","path":"2015/01/01/apache/apache配置/","text":"Apache 配置.. httpd.confApache 配置.. httpd.confApache 配置.. httpd.conf 配置1234567891011121314151617181920212223242526272829303132&lt;VirtualHost *:80&gt; #官方文档 http://httpd.apache.org/docs/2.4/ #ServerAdmin webmaster@dummy-host.www.phpStudy.net DocumentRoot \"E:/selfweb/git_dev/test/\" ServerName fei.apache.test ServerAlias fei.apache.test #ErrorLog \"logs/dummy-host.www.phpStudy.net-error.log\" #CustomLog \"logs/dummy-host.www.phpStudy.net-access.log\" common &lt;Directory /&gt; #没有index文件显示目录 Options +Indexes +FollowSymLinks +ExecCGI #没有index不显示目录,禁止访问 #Options -Indexes +FollowSymLinks #是否禁用.htaccess 文件配置 AllowOverride All #默认index.php index.html DirectoryIndex index.html index.php Order allow,deny Allow from all Require all granted #404 重定向 #ErrorDocument 404 /test/404.html &lt;/Directory&gt;&lt;/VirtualHost&gt; 配置ssl,支持https 01123456编辑Apache根目录下 conf/httpd.conf 找到 LoadModule ssl_module modules/mod_ssl.soLoadModule socache_shmcb_module modules/mod_socache_shmcb.so和 Include conf/extra/httpd-ssl.conf去掉这3行前面的注释 配置ssl,支持https 02-11234567891011121314151617181920212223242526272829303132333435363738394041424344454647修改 httpd-ssl.conf 文件, a_public.crt a.key a_chain.crt 换成你对应的证书名字vim /data/server/apache/conf/extra/httpd-ssl.conf内容如下:&lt;VirtualHost _default_:443&gt; SSLProtocol all -SSLv2 -SSLv3 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!NULL:!DH:!EDH:!EXP:+MEDIUM SSLHonorCipherOrder on SSLCertificateFile /data/server/apache/conf/extra/cert/a_public.crt SSLCertificateKeyFile /data/server/apache/conf/extra/cert/a.key SSLCertificateChainFile /data/server/apache/conf/extra/cert/a_chain.crt ServerName 你的域名:443 DocumentRoot \"/data/web/web01/\" &lt;Directory /data/web/web01/&gt; Options FollowSymlinks DirectoryIndex index.php Allow from all AllowOverride All Require all granted &lt;/Directory&gt; SSLEngine on &lt;FilesMatch \"\\.(cgi|shtml|phtml|php)$\"&gt; SSLOptions +StdEnvVars &lt;/FilesMatch&gt; &lt;Directory \"/data/server/apache/cgi-bin\"&gt; SSLOptions +StdEnvVars &lt;/Directory&gt; CustomLog \"/data/server/apache/logs/ssl_request_log\" \\ \"%t %h %&#123;SSL_PROTOCOL&#125;x %&#123;SSL_CIPHER&#125;x \\\"%r\\\" %b\"&lt;/VirtualHost&gt;############ 同时支持http 和 https 访问,需要修改vhost ####################vim /data/server/apache/conf/self_vhosts/vhost.conf &lt;VirtualHost *:80&gt; ServerName 你的域名 DocumentRoot \"/data/web/web01/\" &lt;Directory /data/web/web01/&gt; Options FollowSymlinks DirectoryIndex index.php Allow from all AllowOverride All Require all granted &lt;/Directory&gt;&lt;/VirtualHost&gt; 配置ssl,支持https 02-212345678910111213141516171819202122232425262728293031323334353637383940414243444546474849编辑Apache根目录下 conf/httpd.conf 找到 LoadModule ssl_module modules/mod_ssl.so和 Include conf/extra/httpd-ssl.conf去掉这2行前面的注释这个操作完成后可以修改 vim /data/server/apache/conf/self_vhosts/vhost.conf 文件&lt;VirtualHost *:80&gt; ServerName 你的域名 DocumentRoot \"/data/web/web01/\" &lt;Directory /data/web/web01/&gt; Options FollowSymlinks DirectoryIndex index.php Allow from all AllowOverride All Require all granted &lt;/Directory&gt;&lt;/VirtualHost&gt;&lt;VirtualHost _default_:443&gt; SSLProtocol all -SSLv2 -SSLv3 SSLCipherSuite HIGH:!RC4:!MD5:!aNULL:!eNULL:!NULL:!DH:!EDH:!EXP:+MEDIUM SSLHonorCipherOrder on SSLCertificateFile /data/server/apache/conf/extra/cert/a_public.crt SSLCertificateKeyFile /data/server/apache/conf/extra/cert/a.key SSLCertificateChainFile /data/server/apache/conf/extra/cert/a_chain.crt ServerName 你的域名:443 DocumentRoot \"/data/web/web01/\" &lt;Directory /data/web/web01/&gt; Options FollowSymlinks DirectoryIndex index.php Allow from all AllowOverride All Require all granted &lt;/Directory&gt; SSLEngine on &lt;FilesMatch \"\\.(cgi|shtml|phtml|php)$\"&gt; SSLOptions +StdEnvVars &lt;/FilesMatch&gt; &lt;Directory \"/data/server/apache/cgi-bin\"&gt; SSLOptions +StdEnvVars &lt;/Directory&gt; CustomLog \"/data/server/apache/logs/ssl_request_log\" \\ \"%t %h %&#123;SSL_PROTOCOL&#125;x %&#123;SSL_CIPHER&#125;x \\\"%r\\\" %b\"&lt;/VirtualHost&gt; apache 80 跳转到 4431234567891011&lt;VirtualHost *:80&gt; ServerName your.domain.com RewriteEngine on RewriteCond %&#123;SERVER_PORT&#125; !^443$ #所有 http:// 变为 https:// url的内容不会匹配 RewriteRule ^/?(.*)$ https://%&#123;SERVER_NAME&#125;/$1 [L,R] #所有 http:// 变为 https:// 保持url地址内容不变 RewriteRule ^.*$ https://%&#123;SERVER_NAME&#125;%&#123;REQUEST_URI&#125; [L,R] &lt;/VirtualHost&gt; Apache 正向代理12345678910111213141516171819&lt;virtualHost *:80&gt; ServerName 127.0.0.1:80 DocumentRoot /usr/local/apache2/htdocs/www &lt;Directory /usr/local/apache2/htdocs/www&gt; Options FollowSymLinks AllowOverride All Order allow,deny Allow from all &lt;/Directory&gt; ProxyRequests Off &lt;Proxy *&gt; Order deny,allow Allow from all &lt;/Proxy&gt; # 访问127.0.0.1/fei1/ 的时候 代理到 http://192.168.1.151/ # 注意这里的 / 不能多也不能少,要对应上 ProxyPass /fei1/ http://192.168.1.151/ ProxyPassReverse /fei1/ http://192.168.1.151/&lt;/VirtualHost&gt;","categories":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/categories/Apache/"}],"tags":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/tags/Apache/"}]},{"title":"-Apache 三种工作模式","date":"2014-12-31T16:00:00.000Z","path":"2015/01/01/apache/apache三种工作模式/","text":"Apache 三种工作模式Apache 三种工作模式Apache 三种工作模式 Apache2.0 支持插入式并行处理模块,成为多路处理模块( MPM) 下面以我使用的 Apache/2.4.33 为例子: 查看 apache 安装的那种模式12345678910111213141516171819202122./bin/apache -V ./bin/httpd -V./bin/apache -l./bin/httpd -l[root@localhost apache24]# ./bin/apachectl -VServer version: Apache/2.4.33 (Unix)Server built: May 9 2019 09:09:30Server's Module Magic Number: 20120211:76Server loaded: APR 1.6.3, APR-UTIL 1.6.1Compiled using: APR 1.6.3, APR-UTIL 1.6.1Architecture: 64-bitServer MPM: event[root@localhost apache24]# ./bin/httpd -lCompiled in modules: core.c mod_so.c http_core.c event.c ### 如果看到event.c 就是 mpm event 模式; 如果是 perfork.c 就是 perfork mp模式 mpm_prefork1234567&lt;IfModule mpm_prefork_module&gt; StartServers 5 MinSpareServers 5 MaxSpareServers 10 MaxRequestWorkers 250 MaxConnectionsPerChild 0&lt;/IfModule&gt; mpm_worker12345678&lt;IfModule mpm_worker_module&gt; StartServers 3 MinSpareThreads 75 MaxSpareThreads 250 ThreadsPerChild 25 MaxRequestWorkers 400 MaxConnectionsPerChild 0&lt;/IfModule&gt; mpm_event12345678&lt;IfModule mpm_event_module&gt; StartServers 3 MinSpareThreads 75 MaxSpareThreads 250 ThreadsPerChild 25 MaxRequestWorkers 400 MaxConnectionsPerChild 0&lt;/IfModule&gt; 配置1修改里面的参数,需要在 conf/httpd.conf 中去掉 Include conf/extra/httpd-mpm.conf 前面注释","categories":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/categories/Apache/"}],"tags":[{"name":"Apache","slug":"Apache","permalink":"http://yoursite.com/tags/Apache/"}]},{"title":"ubuntu16 -php7 extension imagick","date":"2014-03-05T16:00:00.000Z","path":"2014/03/06/ubuntu/php_extension_imagick/","text":"Extension 之 imagick温馨提示: 在安装过程中出现错误，一般是由于缺少编译工具包导致，可根据提示参照第一步安装相应的工具包即可 安装 ImageMagick12345678wget http://www.imagemagick.org/download/ImageMagick.tar.gz解压到指定目录【我这里是 /data/server/other_component/】tar -zxvf ImageMagick.tar.gz -C /data/server/other_component/cd ImageMagick-7.0.7-28/./configure --prefix=/data/server/other_component/ImageMagick-7.0.7-28 make &amp;&amp; make installexport PKG_CONFIG_PATH=/data/server/other_component/ImageMagick-7.0.7-28/lib/pkgconfig/ #设置环境变量 【重启电脑执行下一步】 安装 imagick123456789101112131415161718wget http://pecl.php.net/get/imagick-3.4.3.tgz解压到指定目录【我这里是 /data/server/other_component/】tar -zxvf imagick-3.4.3.tgz -C /data/server/other_component/cd imagick-3.4.3//data/server/php7/bin/phpize #用phpize生成configure配置文件，[找到你PHP安装位置中的phpsize]./configure \\--with-php-config=/data/server/php7/bin/php-config \\--with-imagick=/data/server/other_component/ImageMagick-7.0.7-28 make &amp; make install安装完成后提示如下，表示安装成功：root@www:/data/server/other_component/phpredis-4.0.0# make installInstalling shared extensions: /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/root@www:/data/server/other_component/phpredis-4.0.0# 配置123456789安装完成后配置【找到 php.ini 的位置添加扩展】：vi /etc/php/7.0/cli/php.inivi /data/server/php7/lib/php.ini 这两个里面都要写上一以下内容：extension=imagick.so拷贝扩展，否则 在 【cli PHP -m】 模式中看不到扩展：cp /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/imagick.so /usr/lib/php/20151012/ 重启php-fpm12345重启php-fpm查找PHP服务 ps aux | grep php-fpmpkill -9 phpphp启动命令/data/server/php7/sbin/php-fpm 查看扩展12345php -m | grep imagick提示如下root@www:/data/server/other_component/ImageMagick-7.0.7-28# php -m | grep redisimagickroot@www:/data/server/other_component/ImageMagick-7.0.7-28# PHP扩展imagick下载网址 PHP扩展下载网址","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"Imagick","slug":"Imagick","permalink":"http://yoursite.com/tags/Imagick/"}]},{"title":"ubuntu -path 环境变量篇 -composer 测试","date":"2014-03-05T16:00:00.000Z","path":"2014/03/06/ubuntu/ubuntu_path环境变量_composer/","text":"源码编译完的包,很多时候在任何目录时访问不到的,这时候需要添加环境变量,或者通过链接的形式,链接到系统默认的PATH目录下的一个,这篇文章就是介绍一下这2中添加环境变量的方式; !!!修改系统环境变量后,要退出当前用户重新登录后才可以看到效果; 本章介绍修改文件配置环境变量, 软链接配置环境变量参考node篇 demo背景,采用composer测试,前提编译安装完php 安装composer1curl -sS https://getcomposer.org/installer | /data/server/php7/bin/php 配置环境变量方法 01123456789101112#第一种方式,放到系统默认PATH环境变量目录下cp /test/composer.phar /usr/local/bin/composer 或者mv /test/composer.phar /usr/local/bin/composer###扩展,使用 echo $PATH 可以看到当前的环境变量内容,系统默认的环境变量包括:root@ubuntu:/test# echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/gamesroot@ubuntu:/test# ##查看环境变量 01) echo $PATH02) evn 配置环境变量方法 02 , 使用 PHP 来测试,系统 centos712345678PHP编译安装后的目录: /data/server/php/binvim /etc/profile#centos中配置PHP环境变量:修改 /etc/profile 配置环境变量PATH=$PATH:/data/server/php/binexport PATH然后执行source /etc/profile 或者 ./profile 使其生效; 执行完后可以通过 echo $PATH 命令查看环境变量 添加多个环境变量1234567891011以node 和 PHP 为例修改 /etc/profile 配置环境变量PATH=$PATH:/data/server/node-v10.15.3-linux-x64/bin:/data/server/php7/binexport PATH然后执行source /etc/profile 或者 ./profile 使其生效; 执行完后可以通过 echo $PATH 命令查看环境变量执行 node -vnpm -vphp -vnode 和 PHP 都生效 其他–环境变量顺序1234正常情况下修改/etc/profile在图形界面中需要再修改~/.bashrc #针对当前用户 composer 命令12345678910111213141516171819202122232425composer config -gl #查看composer全局设置composer config --list -g #查看composer全局设置composer require monolog/monolog #安装monologcomposer require monolog/monolog:\"1.24.0\" #安装monolog指定版本composer require \"monolog/monolog:1.24.0\" #安装monolog指定版本composer install composer updatecomposer dump-autoload #添加自定义后文件执行设置镜像地址:1) 全局配置composer config -g repo.packagist composer https://repo.packagist.org2) 当前项目使用 [ 去掉参数-g ] composer config repo.packagist composer https://repo.packagist.orgrepo.packagist.org ip地址: 139.99.121.122 新加坡packagist.org ip地址: 139.99.121.122 新加坡其他镜像地址composer-proxy.jp packagist.jphttps://packagist.laravel-china.org [laravel 中国镜像]https://mirrors.aliyun.com/composer [阿里云 composer 镜像]https://opsx.alibaba.com/mirror [这里可以看到阿里云的所有镜像] composer官方安装文档","categories":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/categories/Ubuntu/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"},{"name":"composer","slug":"composer","permalink":"http://yoursite.com/tags/composer/"}]},{"title":"电脑安装 ubuntu16","date":"2014-03-05T16:00:00.000Z","path":"2014/03/06/ubuntu/ubuntu_install/","text":"电脑安装ubuntu16系统电脑安装ubuntu16系统 下载： ubuntu下载1wget https://www.ubuntu.com/download/desktop 安装好 UltraISO 软碟通 ，安装完软件后，打开软件，点击文件打开，找到刚才下载的 ubuntu 的 ISO 文件，点击开开，完成 ISO 文件的加载。接着插入 u 盘，点击 UltraISO 启动选项，然后找到写入硬盘选项，点击它进入将要操作的界面，最后点击写入; install","categories":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/categories/Ubuntu/"}],"tags":[{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"},{"name":"Ubuntu16","slug":"Ubuntu16","permalink":"http://yoursite.com/tags/Ubuntu16/"}]},{"title":"ubuntu16 -php7 extension redis","date":"2014-03-05T16:00:00.000Z","path":"2014/03/06/ubuntu/php_extension_redis/","text":"PHP Extension 之 redisPHP Extension 之 redis 下载 redis 包12wget https://github.com/nicolasff/phpredis/archive/4.0.0.tar.gzwget http://pecl.php.net/get/redis-4.0.0.tgz 安装redis12345678910111213解压到指定目录【我这里是 /data/server/other_component/】tar -zxvf 4.0.0.tar.gz -C /data/server/other_component/cd phpredis-4.0.0//data/server/php7/bin/phpize #用phpize生成configure配置文件，[找到你PHP安装位置中的phpsize]./configure --with-php-config=/data/server/php7/bin/php-config #配置makemake install安装完成后提示如下，表示安装成功：root@www:/data/server/other_component/phpredis-4.0.0# make installInstalling shared extensions: /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/root@www:/data/server/other_component/phpredis-4.0.0# 配置 redis1234567891011安装完成后配置【找到 php.ini 的位置添加扩展】：vi /etc/php/7.0/cli/php.inivi /data/server/php7/lib/php.ini 这两个里面都要写上一以下内容：extension=redis.so拷贝扩展，否则 在 【cli PHP -m】 模式中看不到扩展：cp /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/opcache.a /usr/lib/php/20151012/cp /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/opcache.so /usr/lib/php/20151012/cp /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/redis.so /usr/lib/php/20151012/ 重启php-fpm 并查看扩展123456789101112重启php-fpm查找PHP服务 ps aux | grep php-fpmpkill -9 phpphp启动命令/data/server/php7/sbin/php-fpm查看扩展php -m | grep redis提示如下root@www:/data/server/other_component/phpredis-4.0.0# php -m | grep redisredisroot@www:/data/server/other_component/phpredis-4.0.0# 历史版本 历史版本2 PHP扩展下载网址","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"},{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/tags/Redis/"}]},{"title":"ubuntu16 Redmine","date":"2014-03-05T16:00:00.000Z","path":"2014/03/06/ubuntu/Redmine/","text":"Rvm+Ruby+Rails 【具体细节效果以后版本修改……】rvm是用于管理多个ruby版本的一个管理器 123456789101112131415161718192021sudo apt-get update sudo apt-get upgradegpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3curl -sSL https://get.rvm.io | bash -s stable//如果上面的连接失败，可以尝试:curl -L https://raw.githubusercontent.com/wayneeseguin/rvm/master/binscripts/rvm-installer | bash -s stable 载入 Rvm 环境[ 根据提示操作 ] source /etc/profile.d/rvm.sh检查Rvm是否安装成功 rvm -v用 RVM 安装 Ruby 环境(同时把RubyGems也安装） rvm requirements rvm install 2.5.1 #可以到 Ruby(https://www.ruby-lang.org/en/downloads/)官网查看最新版本号，时间比较长RVM装好后，可以执行以下命令将刚才安装的Ruby版本，设置系统ruby默认版本 rvm use 2.5.1 --default 由于某些原因，调整gem安装目录至国内镜像，有且仅有一个就好！ 1234567891011121314151617181920212223242526272829303132333435检查下Ruby和RubyGems的版本 ruby -v gem -vgem update --system gem -v 换源 gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org gem sources --add https://ruby.taobao.org/ --remove https://rubygems.org gem sources -l //查看在用的gem源 显示如下：root@ubuntu:/data/server# gem sources -l*** CURRENT SOURCES ***https://rubygems.org/https://gems.ruby-china.org/root@ubuntu:/data/server# 安装bundlers gem install bundler安装Rails gem install rails 5.2.0 # 可以到rails官网查看最新版本号 或者使用： gem install rails #自己默认选择最新版查看版本 rails -v 最后检查一下所有版本 rvm -v ruby -v rails -v bundler -v适当升级gem update --system Redmine1234wget http://www.redmine.org/releases/redmine-3.4.5.tar.gztar -zxvf redmine-3.4.5.tar.gz -C /data/servermv redmine-3.4.5 redminecd redmine 设置数据库连接Redmine 需要 nginx 和 MySQL 自行安装这里不再安装 12cp config/database.yml.example config/database.yml vim config/database.yml 安装依赖包12345678910#查看缺少依赖包，安装完依赖后执行一次这个命令,直到到出现 Bundle complete!bundle install --without development test 我的值缺少依赖包如下：apt-get install libmysqlclient-dev不在缺少依赖，显示如下：Bundle complete! 31 Gemfile dependencies, 55 gems now installed.Gems in the groups development and test were not installed.Use `bundle info [gemname]` to see where a bundled gem is installed. Session 存储秘钥1rake generate_secret_token 生成redmine的数据库表结构和初始化数据12RAILS_ENV=production rake db:migrate //生成表结构RAILS_ENV=production rake redmine:load_default_data //初始化数据 创建上传文件的目录，设置文件夹的权限1234567useradd redminepasswd redmine //设置redmine账户的密码这里先不做mkdir -p tmp tmp/pdf public/plugin_assets/chown -R redmine:redmine files log tmp public/plugin_assetschmod -R 755 files log tmp public/plugin_assets/ 测试12ruby bin/rails server webrick -e productionruby bin/rails server webrick -e production -b 0.0.0.0 -p3000 #允许远程访问 其他默认账户 admin/admin 初次登录需要修改密码， 关机重启后，需要再次运行 source /etc/profile.d/rvm.sh 载入环境 网站： https://www.phusionpassenger.com/library/install/standalone/install/oss/tarball/ https://www.phusionpassenger.com/library/install/standalone/install/oss/tarball/ 下载地址： https://www.phusionpassenger.com/latest_stable_tarball https://www.phusionpassenger.com/latest_stable_tarball 12wget https://www.phusionpassenger.com/latest_stable_tarballtar -xzvf passenger-X.X.X.tar.gz -C /somewhere-permanent rootroot 内容start 代码分为行内代码和代码块 行内代码使用&lt;p&gt;这里使用代码块&lt;/p&gt; 这里没有代码块 代码语法高亮 1echo \"dddddd\"; 12var abc = \"123\";alert(abc); 我是a里面的内容","categories":[{"name":"Redmine","slug":"Redmine","permalink":"http://yoursite.com/categories/Redmine/"}],"tags":[{"name":"Redmine","slug":"Redmine","permalink":"http://yoursite.com/tags/Redmine/"}]},{"title":"-systemctl 常用命令","date":"2014-03-05T16:00:00.000Z","path":"2014/03/06/ubuntu/systemctl_常用命令/","text":"systemctl 常用命令systemctl 常用命令 常用命令 1234567891011121314151617181920212223242526272829303132333435常用命令 重新加载service文件： systemctl daemon-reload启动一个服务： systemctl start nginx-1.13.0.service关闭一个服务： systemctl stop nginx-1.13.0.service重启一个服务： systemctl restart nginx-1.13.0.service显示一个服务的状态： systemctl status nginx-1.13.0.service在开机时启用一个服务： systemctl enable nginx-1.13.0.service在开机时禁用一个服务： systemctl disable nginx-1.13.0.service查看服务是否开机启动： systemctl is-enabled nginx-1.13.0.service查看已启动的服务列表： systemctl list-unit-files|grep enabled查看启动失败的服务列表：systemctl --failedapache启动 systemctl start httpd停止 systemctl stop httpd重启 systemctl restart httpdmysql启动 systemctl start mysqld停止 systemctl stop mysqld重启 systemctl restart mysqldphp-fpm启动 systemctl start php-fpm停止 systemctl stop php-fpm重启 systemctl restart php-fpmnginx启动 systemctl start nginx停止 systemctl stop nginx重启 systemctl restart nginx","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Imagick","slug":"Imagick","permalink":"http://yoursite.com/tags/Imagick/"}]},{"title":"ubuntu -mysql5.6.39","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_mysql_02/","text":"ubuntu -mysql5.6.39ubuntu -mysql5.6.39ubuntu -mysql5.6.39 mysql5.6.39编译环境1sudo apt install make cmake gcc g++ perl bison libaio-dev libncurses5 libncurses5-dev libnuma-dev 下载12345678安装版本5.6.39wget https://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.39.tar.gzwget https://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.39.tar.gz【解压到你指定的目录，我这里选择 /data/server/ 】tar zxvf mysql-5.6.39.tar.gz -C /data/server/mv mysql-5.6.39 mysqlcd mysql 编译安装12345678910111213141516171819202122232425262728293031323334353637383940414243cmake \\-DCMAKE_INSTALL_PREFIX=/data/server/mysql \\-DMYSQL_DATADIR=/data/server/mysql/data \\-DSYSCONFDIR=/data/server/mysql/etc \\-DWITH_MYISAM_STORAGE_ENGINE=1 \\-DWITH_INNOBASE_STORAGE_ENGINE=1 \\-DWITH_MEMORY_STORAGE_ENGINE=1 \\-DWITH_READLINE=1 \\-DMYSQL_UNIX_ADDR=/data/server/mysql/mysql.sock \\-DMYSQL_TCP_PORT=3306 \\-DENABLED_LOCAL_INFILE=1 \\-DWITH_PARTITION_STORAGE_ENGINE=1 \\-DEXTRA_CHARSETS=all \\-DDEFAULT_CHARSET=utf8 \\-DDEFAULT_COLLATION=utf8_general_cimake &amp;&amp; make install注意事项：重新编译时，需要清除旧的对象文件和缓存信息# make clean# rm -f CMakeCache.txt# rm -rf /data/server/etc/my.cnf编译参数： https://dev.mysql.com/doc/refman/5.6/en/source-configuration-options.html编译参数： https://dev.mysql.com/doc/refman/5.6/en/source-configuration-options.htmlcmake \\-DCMAKE_INSTALL_PREFIX=/data/server/mysql \\ 安装路径-DMYSQL_DATADIR=/data/server/mysql/data \\ 文件存放路径-DSYSCONFDIR=/etc \\ 配置文件路径 /data/server/mysql/etc-DWITH_MYISAM_STORAGE_ENGINE=1 \\-DWITH_INNOBASE_STORAGE_ENGINE=1 \\-DWITH_MEMORY_STORAGE_ENGINE=1 \\-DWITH_READLINE=1 \\-DMYSQL_UNIX_ADDR=/tmp/mysql/mysql.sock \\ sock文件路径/data/server/mysql/mysql.sock-DMYSQL_TCP_PORT=3306 \\-DENABLED_LOCAL_INFILE=1 \\-DWITH_PARTITION_STORAGE_ENGINE=1 \\-DEXTRA_CHARSETS=all \\-DDEFAULT_CHARSET=utf8 \\ 字符集 -DDEFAULT_CHARSET=utf8mb4 -DDEFAULT_COLLATION=utf8_general_ci 排序字符集 -DDEFAULT_COLLATION=utf8mb4_general_ci 创建 mysql 组跟用户1234567检查系统中是否已经存在 mysql 用户，如果没有则创建cat /etc/passwd | grep mysqlcat /etc/group | grep mysql创建 mysql 用户sudo groupadd mysqlsudo useradd -r -g mysql -s /bin/false mysql 更改 mysql 目录权限123cd /data/server/mysqlsudo chown -R mysql .sudo chgrp -R mysql . 初始化数据库123456789101112131415161718192021222324252627282930313233343536chmod +x mysql_install_db 或者 chmod +x scripts/mysql_install_db./scripts/mysql_install_db --basedir=/data/server/mysql --datadir=/data/server/mysql/data --user=mysql初始化后提示：To start mysqld at boot time you have to copysupport-files/mysql.server to the right place for your systemPLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !To do so, start the server, then issue the following commands: /data/server/mysql/bin/mysqladmin -u root password 'new-password' /data/server/mysql/bin/mysqladmin -u root -h ubuntu password 'new-password'Alternatively you can run: /data/server/mysql/bin/mysql_secure_installationwhich will also give you the option of removing the testdatabases and anonymous user created by default. This isstrongly recommended for production servers.See the manual for more instructions.You can start the MySQL daemon with: cd . ; /data/server/mysql/bin/mysqld_safe &amp;You can test the MySQL daemon with mysql-test-run.pl cd mysql-test ; perl mysql-test-run.plPlease report any problems at http://bugs.mysql.com/The latest information about MySQL is available on the web at http://www.mysql.comSupport MySQL by buying support/licenses at http://shop.mysql.comNew default config file was created as /data/server/mysql/my.cnf andwill be used by default by the server when you start it.You may edit this file to change server settings 启动数据库12345678chmod +x mysql.server 或者 chmod +x support-files/mysql.server ./support-files/mysql.server start 初始化密码，我这里设置密码： 123456 做测试，实际中设置你认为安全的密码 /data/server/mysql/bin/mysqladmin -u root password '123456' 登录MySQL bin/mysql -u root -p 创建新用户，并允许远程连接123456789101112131415命令: GRANT ALL PRIVILEGES ON *.* TO 'username'@'host' IDENTIFIED BY 'new_password' WITH GRANT OPTION; . 点代表所有表username 代表你创建的用户名host 代表你指定在那台机器可以登录，本地登录就是 localhost ，允许所有远程登录就是 % ；new_password 代表该用户的登录密码，密码可以为空，如果是空则改用户可以不需要密码登录demo:新增超级权限并允许远程访问：GRANT ALL PRIVILEGES ON *.* TO 'afei2'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION; FLUSH PRIVILEGES;查看创建的新用户信息：SELECT `Host`,`User`,`Password`,authentication_string,password_expired FROM `user`; MySQL 命令123456support-files/mysql.server startsupport-files/mysql.server stop/data/server/mysql/bin/mysql -u root -pmysql -h 你登录的ip -u username -P 3306 -p 【远程登录】demo： mysql -h 192.168.1.230 -u afei2 -p 查看 mysql 默认读取 my.cnf 的目录如果没有设置使用指定目录的my.cnf，mysql启动时会读取安装目录根目录及默认目录下的my.cnf文件。查看mysql启动时读取配置文件的默认目录 1234567891011121314151617181920212223242526mysql --help|grep 'my.cnf'输出：root@ubuntu:/data/server/mysql/bin# mysql --help|grep 'my.cnf'/etc/my.cnf /etc/mysql/my.cnf ~/.my.cnf order of preference, my.cnf, $MYSQL_TCP_PORT,root@ubuntu:/data/server/mysql/bin# //////////////////或者/////////////////./bin/mysqld --verbose --help |grep -A 1 'Default options'输出：root@ubuntu:/data/server/mysql# ./bin/mysqld --verbose --help |grep -A 1 'Default options'2018-04-08 01:55:32 0 [Note] --secure-file-priv is set to NULL. Operations related to importing and exporting data are disabled2018-04-08 01:55:32 0 [Note] ./bin/mysqld (mysqld 5.6.39) starting as process 34387 ...2018-04-08 01:55:32 34387 [Note] Plugin 'FEDERATED' is disabled.Default options are read from the following files in the given order: /etc/my.cnf /etc/mysql/my.cnf /data/server/mysql/etc/my.cnf ~/.my.cnf 2018-04-08 01:55:32 34387 [Note] Binlog end2018-04-08 01:55:32 34387 [Note] Shutting down plugin 'CSV'2018-04-08 01:55:32 34387 [Note] Shutting down plugin 'MyISAM'root@ubuntu:/data/server/mysql# /etc/my.cnf, /etc/mysql/my.cnf, /usr/local/etc/my.cnf, ~/.my.cnf 这些就是mysql默认会搜寻my.cnf的目录，顺序排前的优先 查看错误日志位置1234567891011121314151617修改 my.cnf 文件指定错误日志位置log_error=/data/mysql.log错误日志默认存放位置为数据目录下，你也可以用下面命令查看:SHOW GLOBAL VARIABLES LIKE '%log_error%';mysql&gt; SHOW GLOBAL VARIABLES LIKE '%log_error%';+---------------------+-----------------+| Variable_name | Value |+---------------------+-----------------+| binlog_error_action | IGNORE_ERROR || log_error | /data/mysql.log |+---------------------+-----------------+2 rows in set (0.00 sec)mysql&gt; mysql官方预编译配置参数","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"},{"name":"MySQL5.6","slug":"MySQL5-6","permalink":"http://yoursite.com/tags/MySQL5-6/"}]},{"title":"Linux -node 编译安装, 需要配置环境变量","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_node/","text":"Linux -node 编译安装, 需要配置环境变量Linux -node 编译安装, 需要配置环境变量Linux -node 编译安装, 需要配置环境变量 源码编译安装node123456wget https://nodejs.org/dist/v10.15.3/node-v10.15.3.tar.gztar -zxvf node-v10.15.3.tar.gzcd node-v10.15.3./configure --prefix=/data/server/node [有警告,先不用管]make [编译时间比较长,编译1个小时]make install 安装完测试,并创建软连接 1234567891011/data/server/node/bin/node -v #查看node版本/data/server/node/bin/npm -v #查看npm版本这时候输出 npm -v 没有,原因npm需要通过node来执行,所以解决方法有2种01) 创建软连接ln -sv /data/server/node/bin/node /usr/local/bin/nodeln -sv /data/server/node/bin/npm /usr/local/bin/npm02) 修改 vim /etc/profile 添加环境变量PATH=$PATH:/data/server/node/binexport PATH然后执行source /etc/profile 或者 ./profile 使其生效; 执行完后可以通过 echo $PATH 命令查看环境变量 二进制安装node123https://nodejs.org/dist/v10.15.3/node-v10.15.3-linux-x64.tar.xztar -xvf node-v10.15.3-linux-x64.tar.xz -C /data/server解压后可以直接使用,需要配置环境变量,方法同上 其他123456789101112131415161718npm config list #查看npm配置信息npm config edit #编辑配置信息npm config get cache #查看npm缓存目录npm config set cacat #设置缓存目录位置npm config get registry #获取配置使用的地址npm config set registry https://registry.npm.taobao.org #设为淘宝地址windows中显示配置文件位置: C:\\Users\\Administrator\\.npmrc ubuntu图中在用户: /home/fei/.npmrc原文件内容:registry=http://registry.cnpmjs.org/修改淘宝地址:registry=https://registry.npm.taobao.org----------淘宝nmp网址: https://npm.taobao.org/npm install -g cnpm --registry=https://registry.npm.taobao.org #安装配置cnpm 多个node环境共存123456windows中多个node环境共存,使用二进制包(以node14为例子)下载地址: https://nodejs.org/dist/v14.17.1/node-v14.17.1-win-x64.zip解压后即可使用D:/soft_position_not/node14/node.exe -vD:/soft_position_not/node14/npm -vD:/soft_position_not/node14/npm init vite-app feiVuexxx","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Node","slug":"Node","permalink":"http://yoursite.com/tags/Node/"}]},{"title":"ubuntu -mysql others","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_mysql_others/","text":"ubuntu -mysql5.6 othersubuntu -mysql5.6 othersubuntu -mysql5.6 others mysql 5.6 其他查看 MySQL 配置;1234windows下是my.inilinux下是my.cnflinux 中 locate my.cnf 就出来了（没有的话先updatedb） MySQL 忘记密码1234567891、查找 my.cnf 配置文件位置，在文件最后添加 skip-grant-tables 保存退出，修改完密码记得删掉2、修改密码，命令MySQL&gt; UPDATE mysql.user SET Password=PASSWORD('你的密码') where USER='root';MySQL&gt; flush privileges; MySQL&gt; exit;yum 安装的mysql 跳过密码,修改配置文件无效,可以使用命令跳过密码/usr/bin/mysqld_safe --skip-grant-tables 执行后,从新开一个窗口,连接数据库 确定 MySQL 中文件位置123456789101112131415161、locate mysql.server 找到后启动 mysql ./mysql.server start2、 ps -aux | grep mysql 看到信息如下（我自己的）：root 19312 0.0 0.0 113256 1596 pts/2 S 14:09 0:00 /bin/sh /usr/bin/mysqld_safe #数据库登录运行路径--datadir=/var/lib/mysql #数据库文件的存放路径--pid-file=/var/lib/mysql/iZ2ze8dugwavcbouiggqoeZ.pidmysql 19413 0.1 5.8 1236108 465644 pts/2 Sl 14:09 0:01 /usr/sbin/mysqld --basedir=/usr --datadir=/var/lib/mysql #数据库文件的存放路径--plugin-dir=/usr/lib64/mysql/plugin --user=mysql --log-error=/var/lib/mysql/iZ2ze8dugwavcbouiggqoeZ.err #错误日志--pid-file=/var/lib/mysql/iZ2ze8dugwavcbouiggqoeZ.pid 创建行用户并授权给指定数据库权限【以下命令在服务器 MySQL 中运行】1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253541、登录MySQLmysql -u root -p2、创建新用户CREATE USER '用户名'@'ip地址' IDENTIFIED BY '密码'; % 代表所有ip都能访问localhost 代表本机才能访问123.123.123.123 代表指定ip才能访问3、验证账号是否创建成功SELECT host, user, password FROM mysql.user WHERE user='用户';4、给新建用户授权指定数据库GRANT &lt;privileges&gt; ON &lt;database&gt;.&lt;table&gt; TO 'myuser'@'localhost';命令中 &lt;privileges&gt; 代表着用逗号分隔权限列表&lt;database&gt;.&lt;table&gt; 代表数据库.表demo：GRANT ALL ON &lt;database&gt;.&lt;table&gt; TO 'myuser'@'localhost';GRANT CREATE,INSERT ON &lt;database&gt;.&lt;table&gt; TO 'myuser'@'localhost';以下是一些可用权限&lt;privileges&gt;：ALL: 所有可用的权限CREATE: 创建库、表和索引LOCK_TABLES: 锁定表ALTER: 修改表DELETE: 删除表INSERT: 插入表或列SELECT: 检索表或列的数据CREATE_VIEW: 创建视图SHOW_DATABASES: 列出数据库DROP: 删除库、表和视图5、验证给用户的权限SHOW GRANTS FOR '用户名'@'ip地址';6、移除权限REVOKE &lt;privileges&gt; ON &lt;database&gt;.&lt;table&gt; FROM '用户名'@'ip地址';demo：CREATE DATABASE afei_db;CREATE USER 'afei'@'%' IDENTIFIED BY '123456';SELECT host, user, password FROM mysql.user WHERE user='afei';grant all privileges on afei_db.* to 'afei'@'%'; #没有指定密码授权SHOW GRANTS FOR 'afei'@'%';flush privileges; #刷新扩展命令grant all privileges on afei.* to afei@l% identified by '123456'; #指定命令授权drop user 'afei'@'%'; #删除用户 linux 查看 MySQL 版本1、在help中查找 mysql –help |grep Distrib2、在help中查找 mysql –help |grep Distrib Mysql 常用性能分析方法??123456select version(); #查版本号show processlist; #查看那些线程正在运行show profiles; show profiles for query 3; #更具query_id 查看某个查询的详细时间耗费explian + sql # 分析执行计划和最左前缀原理reset query cache; #清除缓存 mysql SQL 执行顺序12345678910(7) SELECT (8) DISTINCT &lt;select_list&gt;(1) FROM &lt;left_table&gt;(3) &lt;join_type&gt; JOIN &lt;right_table&gt;(2) ON &lt;join_condition&gt;(4) WHERE &lt;where_condition&gt;(5) GROUP BY &lt;group_by_list&gt;(6) HAVING &lt;having_condition&gt;(9) ORDER BY &lt;order_by_condition&gt;(10) LIMIT &lt;limit_number&gt;","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"},{"name":"MySQL5.6","slug":"MySQL5-6","permalink":"http://yoursite.com/tags/MySQL5-6/"}]},{"title":"WIN -node 修改npm全局模式的默认安装路径","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_node_02/","text":"WIN -node 修改npm全局模式的默认安装路径WIN -node 修改npm全局模式的默认安装路径WIN -node 修改npm全局模式的默认安装路径 查看当前配置12npm root -gnpm config ls 新建文件夹在欲更改的目录下新建两个文件夹，分别是：node_global_modules 和 node_cache，效果如图 执行命令改配置12345npm config set prefix \"D:\\soft_position\\nodejs\\fei_node_repo\\node_global_modules\"npm config set cache \"D:\\soft_position\\nodejs\\fei_node_repo\\node_cache\"#执行成功后查看npm config ls 配置环境变量在环境变量中，新建一个系统变量，变量名：NODE_HOME，变量值：D:\\soft_position\\nodejs\\fei_node_repo，效果如图：在Path变量名中，新建变量值： 1234567#Windwos10中%NODE_HOME%%NOED_HOME%\\node_modules%NODE_HOME%\\node_modules\\npm\\node_global_modules\\#Windwos7中;%NODE_HOME%;%NOED_HOME%\\node_modules;%NODE_HOME%\\node_modules\\npm\\node_global_modules\\; 测试结果安装一个jquery测试一下 1npm install -g jquery","categories":[{"name":"WIN","slug":"WIN","permalink":"http://yoursite.com/categories/WIN/"}],"tags":[{"name":"Node","slug":"Node","permalink":"http://yoursite.com/tags/Node/"},{"name":"WIN","slug":"WIN","permalink":"http://yoursite.com/tags/WIN/"},{"name":"npm","slug":"npm","permalink":"http://yoursite.com/tags/npm/"}]},{"title":"ubuntu15 -redis安装","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_redis/","text":"ubuntu15 中 redis2种安装方式ubuntu15 中 redis2种安装方式ubuntu15 中 redis2种安装方式 安装redis1234sudo apt-get install redis-server 启动redisredis-server 检查redis 进程1ps -aux|grep redis 终端输入：redis-cli 测试redis是否成功 redis 设置密码123456789reids默认是不需要密码的，设置密码sudo vi /etc/redis/redis.conf 在397行： 取消 注释 # requirepass foobared 设置新密码： requirepass redis_pwd_123456 让 reids 远程登录 注释bind，在69行 # bind 127.0.0.1 修改后重启redis1sudo /etc/init.d/redis-server restart 记得使用密码登录奥！！！ 卸载redis1sudo apt-get purge --auto-remove redis-server 2、编译安装下载1234wget http://download.redis.io/releases/redis-4.0.8.tar.gztar -xzvf redis-4.0.8.tar.gz -C /data/server/cd redis-4.0.8/make 启动redismake完后 redis-4.0.8目录下会出现编译后的redis服务程序redis-server,还有用于测试的客户端程序redis-cli,两个程序位于安装目录 src 目录下，下面启动redis服务. 12cd src/./redis-server redis设置密码123456789reids默认是不需要密码的，设置密码vi redis.conf 在500行： 取消 注释 # requirepass foobared 设置新密码： requirepass redis_pwd_123456让 reids 远程登录 注释bind，在69行 # bind 127.0.0.1 修改后启动redis1src/redis-server ./redis.conf 【指定配置文件启动】 设置 reids 后台启动1234567891011121314151617181920vi redis.conf 在136行把 daemonize no 改成 daemonize yes修改完重启redis：src/redis-server ./redis.conf 【指定配置文件启动】/data/server/redis-4.0.8/src/redis-server ./redis.conf 【指定配置文件启动】/data/server/redis-4.0.8/src/redis-server /data/server/redis-4.0.8/redis.conf 【指定配置文件启动】后台启动后关闭命令：./redis-cli -h 127.0.0.1 -a redis_pwd_123456 -p 6379 shutdown/data/server/redis-4.0.8/src/redis-cli -h 127.0.0.1 -a redis_pwd_123456 -p 6379 shutdown指定密码登录：/data/server/redis-4.0.8/src/redis-cli -a redis_pwd_123456./redis-cli -a redis_pwd_123456./redis-cli 回车后,输入 auth 密码测试数据：set key1 \"hello world\"get key1 redis官网下载地址 redis官网安装","categories":[{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/categories/Redis/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/tags/Redis/"}]},{"title":"-redis 在windows中使用","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_redis_win/","text":"redis 在windows中使用redis 在windows中使用redis 在windows中使用 启动 redis123在redis目录下面执行(执行完后窗口不要关闭)redis-server.exe redis.windows.conf 固定服务安装12345#这种方式不会有cmd窗口,#此时window service服务列表中出现名为Redis的服务redis-server.exe --service-install redis.windows.conf#卸载服务,从windows service服务列表中移除redis-server.exe --service-uninstall 连接redis 三种方法12345601) 双击`redis-cli.exe`,然后 auth ***(密码)02) redis-cli.exe -h 127.0.0.1 -p 6379 -a 123456 //密码连接(不建议这样使用)03) redis-cli.exe -h 127.0.0.1 -p 6379 //无需添加密码参数 (回车) auth ***(输入密码) 使用telnet连接redis12telnet 127.0.0.1 6379 # 回车auth ***(输入密码) windows 中redis 设置密码1requirepass 123456 测试12set key1 \"hello world\"get key1","categories":[{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/categories/Redis/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"http://yoursite.com/tags/Redis/"}]},{"title":"ubuntu16 -php7.0.28","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_php/","text":"ubuntu16 源码编译安装php7.0ubuntu16 源码编译安装php7.0ubuntu16 源码编译安装php7.0 依赖安装，安装依赖123456789101112131415161718192021222324252627282930313233343536apt-get install libxml2 libxml2-devapt-get install opensslapt-get install libssl-devapt-get install curlapt-get install libcurl4-gnutls-devapt-get install libxslt-devapt-get install libpng-devapt-get install libfreetype6-dev// RetHat CentOS or Fedora 使用下面安装命令yum install curl curl-devel****************一般使用的依赖都是以下这些***************************安装相关依赖库sudo apt-get updatesudo apt-get install libxml2-dev#安装gccsudo apt-get install build-essentialsudo apt-get install openssl sudo apt-get install libssl-dev sudo apt-get install makesudo apt-get install curlsudo apt-get install libcurl4-gnutls-devsudo apt-get install libjpeg-devsudo apt-get install libpng-devsudo apt-get install libmcrypt-devsudo apt-get install libreadline6 libreadline6-devapt-get -y install libfreetype6-dev sudo apt-get install libxslt1-dev 下载 PHP 源码1234567wget http://cn2.php.net/get/php-7.0.28.tar.gz/from/this/mirrormv mirror php-7.0.28.tar.gz解压到你指定的目录，我这里选择 /data/server/ 目录tar -zxvf php-7.0.28.tar.gz -C /data/server/mv php-7.0.28 php7cd php7/ 查看安装帮助，执行配置脚本进行配置1234567891011121314151617181920212223242526272829303132333435363738# ./configure --help# ./configure --prefix=/data/server/php7 \\ --with-curl \\ --with-freetype-dir \\ --with-gd \\ --with-gettext \\ --with-iconv-dir \\ --with-kerberos \\ --with-libdir=lib64 \\ --with-libxml-dir \\ --with-mysqli \\ --with-openssl \\ --with-pcre-regex \\ --with-pdo-mysql \\ --with-pdo-sqlite \\ --with-pear \\ --with-png-dir \\ --with-xmlrpc \\ --with-xsl \\ --with-zlib \\ --enable-fpm \\ --enable-bcmath \\ --enable-libxml \\ --enable-inline-optimization \\ --enable-gd-native-ttf \\ --enable-mbregex \\ --enable-mbstring \\ --enable-opcache \\ --enable-pcntl \\ --enable-shmop \\ --enable-soap \\ --enable-sockets \\ --enable-sysvsem \\ --enable-xml \\ --enable-zip \\ --enable-mysqlnd \\ --with-pdo-mysql=mysqlnd \\ --with-mcrypt 我的错误 Configure Command ‘./configure’ ‘–prefix=/data/server/php7’ ‘–with-gd’ ‘–with-freetype-dir’ ‘–enable-gd-native-ttf’ ‘–enable-mysqlnd’ ‘–with-pdo-mysql=mysqlnd’ ‘–with-openssl’ ‘–with-mcrypt’ ‘–enable-mbstring’ ‘–enable-zip’ ‘–enable-fpm’ Server API FPM/FastCGI Virtual Directory Support disabled Configuration File (php.ini) Path /data/server/php7/lib Loaded Configuration File (none) 【正常情况这里不应该没有值的，还是之前的编译有问题，请仔细查看 正常应该是这个值 /data/server/php7/lib/php.ini】 Scan this dir for additional .ini files (none) Additional .ini files parsed (none) 之前安装过依赖这里就可以不用装，然后会提示部分依赖没有安装，安装依赖 123456789101112131415161718192021222324252627282930313233343536apt-get install libxml2 libxml2-devapt-get install opensslapt-get install libssl-devapt-get install curlapt-get install libcurl4-gnutls-devapt-get install libxslt-devapt-get install libpng-devapt-get install libfreetype6-dev// RetHat CentOS or Fedora 使用下面安装命令yum install curl curl-devel****************一般使用的依赖都是以下这些***************************安装相关依赖库sudo apt-get updatesudo apt-get install libxml2-dev#安装gccsudo apt-get install build-essentialsudo apt-get install openssl sudo apt-get install libssl-dev sudo apt-get install makesudo apt-get install curlsudo apt-get install libcurl4-gnutls-devsudo apt-get install libjpeg-devsudo apt-get install libpng-devsudo apt-get install libmcrypt-devsudo apt-get install libreadline6 libreadline6-devapt-get -y install libfreetype6-dev sudo apt-get install libxslt1-dev 预处理ok后，make 编译123make &amp;&amp; make install最后用 make test 测试一下【这个过程时间比较长】 安装完毕12345#查看 php 版本 ,这个时候没有环境变量,全局还不能使用 php -v,下问有介绍/data/server/php7/bin/php -v #查看配置文件,没有加载,需要自己复制一份 php.ini/data/server/php7/bin/php --ini 配置PHP123456cp /data/server/php7/php.ini-development /data/server/php7/lib/php.inicp /data/server/php7/etc/php-fpm.conf.default /data/server/php7/etc/php-fpm.confcp /data/server/php7/etc/php-fpm.d/www.conf.default /data/server/php7/etc/php-fpm.d/www.conf官方这里拷贝文件有点不一样，注意一下 添加 PHP 启动用户1234567891011121314PHP 安装默认使用 www 用户，这里根据自己情况添加用户groupadd managersuseradd -r -g managers -s /bin/false managers设置 PHP 启动用户cd /data/server/php7/etc/php-fpm.dvi www.conf 修改23、24行，内容如下： user = 启动fpm的用户名 group = 启动fpm的用户所在组 user = managers group = managers修改完启动 PHP-fpm php 启动命令1/data/server/php7/sbin/php-fpm 配置虚拟主机测试一下在 /data/www/ 目录下创建 index.php 内容如下： 123&lt;?phpecho phpinfo();?&gt; 在 nginx 中配置虚拟主机 12345678910111213141516server &#123; listen 80; server_name 127.0.0.1 192.168.1.230; client_max_body_size 10m; charset utf-8; #access_log /data/server/tengine/logs/127.0.0.1_access.log; #error_log /data/server/tengine/logs/127.0.0.1_error.log; root /data/www/; # index index.html; index index.php; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; &#125;&#125; 扩展： 使用 php -m 查看扩展,提示如下： 12345678root@ubuntu:/data/server/php7/bin# php -mThe program 'php' can be found in the following packages: * php7.0-cli * hhvmTry: apt install &lt;selected package&gt;root@ubuntu:/data/server/php7/bin# apt install php7.0-cli安装： apt install php7.0-cli PHP命令 12345678910111213php --ini #查看PHP的配置文件php -ini #查看php.ini里面的配置php -a #进入交互模式,可以写PHP代码,demo: 输入 echo \"hello world\"; 然后回车显示hello world查询 PHP 服务 ps aux | grep php-fpmpkill -9 phpphp启动命令/data/server/php7/sbin/php-fpm#查看PHP的编译参数/data/server/php7/bin/php -i | grep configure此命令使用场景:编译web服务器由nginx换为Apache的时候需要在Apache中添加PHP模块, PHP需要添加 --with-apxs2 后重新编译 配置 php 全局变量1234567891011PHP编译安装后的目录: /data/server/php7/binvim /etc/profile#centos中配置PHP环境变量:修改 /etc/profile 配置环境变量PATH=$PATH:/data/server/php7/binexport PATH然后执行source /etc/profile 或者 ./profile 使其生效; 执行完后可以通过 echo $PATH 命令查看环境变量###PATH=$PATH:/data/server/php/bin 意思加入环境变量###export PATH 意思使环境变量生效 PHP官网下载地址 PHP官方安装文档","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/tags/PHP/"}]},{"title":"ubuntu -shipyard","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_shipyard/","text":"Shipyard简介待完善。。。。。。。 Shipyard 是一个基于 Web 的 Docker 管理工具，支持多 host，可以把多个 Docker host 上的 containers 统一管理；可以查看 images，甚至 build images；并提供 RESTful API 等 安装 shipyard1docker run --rm -v /var/run/docker.sock:/var/run/docker.sock shipyard/deploy start Shipyard官网最近官网不能访问","categories":[{"name":"Shipyard","slug":"Shipyard","permalink":"http://yoursite.com/categories/Shipyard/"}],"tags":[{"name":"Shipyard","slug":"Shipyard","permalink":"http://yoursite.com/tags/Shipyard/"}]},{"title":"Ubuntu -ssh","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_ssh/","text":"Ubuntu -sshUbuntu -sshUbuntu -ssh 安装客户端1sudo apt install openssh-client 安装服务端1sudo apt install openssh-server 配置1查看手册 man sshd_config 在编辑配置文件之前，您应该生成一个原始文件的拷贝并对其写保护，以便您可以参考原始文件并在必要时重用它。拷贝 /etc/ssh/sshd_config 文件并对其写保护可以通过在终端提示符后运行下列命令 12sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.originalsudo chmod a-w /etc/ssh/sshd_config.original 要设置您 OpenSSH 在 TCP 2222 端口而不是缺省的 TCP 20 端口监听，可以如下使用改变 Port 语句： Port 2222 要让 sshd 允许基于公钥登录证书，可以简单添加或修改该行语句： PubkeyAuthentication yes If the line is already present, then ensure it is not commented out. 要使您的 OpenSSH 服务器显示 /etc/issue.net 文件的内容以作为预登录 Banner，只需简单地将下行添加或修改： Banner /etc/issue.net 在 /etc/ssh/sshd_config 文件中。 在修改 /etc/ssh/sshd_config 文件之后，保存该文件并重启 sshd 服务器应用程序以使之生效。可以在终端提示符后使用下列命令： 1sudo systemctl restart sshd.service SSH服务器命令1234567停止服务：sudo /etc/init.d/ssh stop启动服务：sudo /etc/init.d/ssh start重启服务：sudo /etc/init.d/ssh restart登录： ssh 用户名@远程ip demo： ssh dafei@192.168.1.82 ssh -p 22 dafei@192.168.1.82 [指定端口登录]断开连接：exit; 如果细心，可能发现远程登录不能用root登录，解决办法： 修改 /etc/ssh/sshd_config 配置文件 1234526 # Authentication:27 LoginGraceTime 12028 # PermitRootLogin prohibit-password 【找到这一行注释掉】29 PermitRootLogin yes 【改为yes】30 StrictModes yes 其他证书登录、无密码登录这里不在写，有需要的自己网上找资料；这个也是修改 sshd_config 文件 扩展： Ubuntu ssh","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"ssh","slug":"ssh","permalink":"http://yoursite.com/tags/ssh/"}]},{"title":"ubuntu16 --svn03 编译安装后使用03","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_svn_03/","text":"svn 多台服务器之间自动发布更新","categories":[{"name":"SVN","slug":"SVN","permalink":"http://yoursite.com/categories/SVN/"}],"tags":[{"name":"SVN","slug":"SVN","permalink":"http://yoursite.com/tags/SVN/"}]},{"title":"ubuntu16 --svn01 源码编译安装","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_svn_01/","text":"ubuntu16 系统通过源码编译安装 subversion-1.11.1 &amp;&amp; apt-get 安装 安装apr123456wget https://mirrors.cnnic.cn/apache//apr/apr-1.6.5.tar.gztar -zxvf apr-1.6.5.tar.gzcd apr-1.6.5./configure --prefix=/data/server/apache_component/apr-1.6.5makemake install 安装apr-util12345678wget http://mirror.bit.edu.cn/apache//apr/apr-util-1.6.1.tar.gztar -zxvf apr-util-1.6.1.tar.gzcd apr-util-1.6.1./configure \\--prefix=/data/server/apache_component/apr-util-1.6.1 \\--with-apr=/data/server/apache_component/apr-1.6.5makemake install 安装 scons1234567wget https://svwh.dl.sourceforge.net/project/scons/scons/3.0.1/scons-3.0.1.tar.gz[安装这个之前确保已经安装python环境 python --version ]tar -zxvf scons-3.0.1.tar.gzcd scons-3.0.1python setup.py install --prefix=/data/server/apache_component/scons[ ubuntu中可以使用 apt install scons ] 安装self12345678910111213141516171819202122### 注意 scons 使用的是 apt 安装还是 python 方式安装,这里会影响self安装wget https://www.apache.org/dist/serf/serf-1.3.9.tar.bz2tar -jxvf serf-1.3.9.tar.bz2cd serf-1.3.9/data/server/apache_component/scons/bin/scons \\PREFIX=/data/server/apache_component/self \\APR=/data/server/apache_component/apr-1.6.5/bin/apr-1-config \\APU=/data/server/apache_component/apr-util-1.6.1/data/server/apache_component/scons/bin/scons installcp /data/server/apache_component/self/lib/libserf-1.so* /usr/local/lib///--------------------如果 scons 使用了 apt install scons 安装 ,这里self安装也要变scons \\PREFIX=/data/server/other_component/self \\APR=/data/server/other_component/apr-1.6.5/bin/apr-1-config \\APU=/data/server/other_component/apr-util-1.6.1scons installcp /data/server/other_component/self/lib/libserf-1.so* /usr/local/lib/ SQLite 不需要安装,下载下来即可使用1234567891011121314wget https://www.sqlite.org/2015/sqlite-amalgamation-3081101.zipwget https://www.sqlite.org/2015/sqlite-amalgamation-3081101.zipunzip sqlite-amalgamation-3081101.zip解压sqlite-amalgamation包，将解压文件拷贝到subversion解压后的源码根目录中去cp -avr sqlite-amalgamation-3081101 subversion-1.11.1拷贝过去后重命名为sqlite-amalgamation,否则一直会报错 [最后使用的名字为sqlite-amalgamation]mv sqlite-amalgamation-3081101/ sqlite-amalgamation###扩展,官方解释https://www.sqlite.org/amalgamation.htmlhttps://github.com/mirek/sqlite-amalgamation Just copy the amalgamation into your source directory and compile it along with the other C code files in your project. 安装 subversion1234567891011121314151617181920212223wget http://mirrors.shu.edu.cn/apache/subversion/subversion-1.11.1.tar.gzwget http://mirrors.shu.edu.cn/apache/subversion/subversion-1.11.1.tar.gztar -zxvf subversion-1.11.1.tar.gzcd subversion-1.11.1./configure \\--prefix=/data/server/svn \\--with-apr=/data/server/apache_component/apr-1.6.5 \\--with-apr-util=/data/server/apache_component/apr-util-1.6.1 \\--with-serf=/data/server/apache_component/self \\--with-lz4=internal \\--with-utf8proc=internal [ 按照报错提示添加 相应的信息 --with-lz4=internal --with-utf8proc=internal ][!!! 警告,这里不能使用--with-sqlite ,一定要将sqlite-amalgamation拷贝到subversion-1.11.1根目录,并且使用的名字为 sqlite-amalgamation !!!]--with-sqlite=/home/fei/server/sqlite-amalgamation-3081101makemake install 测试1/data/server/svn/bin/svn --version #查看版本信息 安装完后使用svn一直报错1234567891011121314编译安装完后使用svn命令一直报错 ./svn --version./svn: error while loading shared libraries: libserf-1.so.1: cannot open shared object file: No such file or directory解决01办法先使 apt install subversion 安装subversion ,然后 卸载 sudo apt-get remove --purge subversion再次使用 编译安装好的 /data/server/svn/bin/svn --version #查看版本信息 没有报错解决02[未亲自测试]cd /etc/ld.so.conf.d/vim libexpat.conf [或者 vi user-libs.conf]添加 /usr/local/lib 或者 添加 /data/server/other_component/self/lib执行 ldconfig 使配置生效, ldconfig -v 查看 检出一个项目测试123svn checkout svn://192.168.1.11/repo/nh_rbac/aaa_test接下来数据账号密码svn checkout svn://192.168.1.11/repo/test/aaa_test /data/fei #检出到指定目录 ubuntu16 中检出项目12345svn checkout svn://192.168.1.104/repository/test使用一次后账号密码保存位置: /home/fei/.subversion/清除密码: /home/fei/.subversion/auth/svn.simple 删除这个svn.simple 文件夹即可.下次会自从生成这个文件 ubuntu16 系统通过 apt-get 安装svn检查是否安装 svn,并安装12345678910svn svn help //--svn帮助svn --version //--svn版本svnserve --version //--svn server版本卸载命令(–purge 选项表示彻底删除改软件和相关文件)sudo apt-get remove --purge subversion开始安装apt install subversion","categories":[{"name":"SVN","slug":"SVN","permalink":"http://yoursite.com/categories/SVN/"}],"tags":[{"name":"SVN","slug":"SVN","permalink":"http://yoursite.com/tags/SVN/"}]},{"title":"ubuntu16 --svn02 编译安装后使用","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_svn_02/","text":"svn编译安装后使用svn编译安装后使用svn编译安装后使用 创建svn 版本库12mkdir /data/www/svn_repositorysvnadmin create /data/www/svn_repository/repository01 #创建一个新的版本仓库 设置访问权限123456vim conf/svnserve.conf #设置读写,启用密码文件路径 这三个的注释去掉!!!! 注意这三行前面不要有空格,否则后面会一直找不到仓库,报错anon-access = readauth-access = writepassword-db = passwd 添加用户12vim conf/passwd 账户密码内容为: fei_svn=123456 添加访问用户123456vim conf/authz内容如下:admin_groups=fei_svn #用户fei_svn属于admin_groups权限组@admin_groups=rw #admin_groups权限组有读和写*=r #其他用户具只能读 添加子目录访问权限1234567891011vim conf/authz #修改完不需要重启svn,内容如下:admin_groups=fei_svn #用户fei_svn属于admin_groups权限组dev_groups=dafei #用户dafei属于dev_groups权限组[/]@admin_groups = rw[/da]@dev_groups=rw #da 这个子目录需要用最高权限账号在根目录新建,保存后才可以用非管理账号checkout 启动svn12345678svnserve -d -r /data/server/svn/ #-d 后台启动; -r 指定根目录启动 !!!注意这里的路径ps -aux | grep svnserve #查看svnserve是否启动killall svnserve #停止服务#-d 后台启动; -r 指定根目录启动 !!!注意这里的路径/data/server/svn/bin/svnserve -d -r /data/www/svn_repository/repository01ps -aux | grep svnserve #查看svnserve是否启动killall svnserve #停止服务 windows 中访问svn版本库1234#vim conf/svnserve.conf 这个配置文件修改的时候有空格这时候这里会一直练不上#报错信息: unable to connect to a repository url line 19:Option expectedsvn://192.168.1.104/ #访问版本控制 实现svn 代码仓库与web线上代码同步01123456### svn 仓库和代码在同一台服务器svn 服务器中代码目录 /data/www/svn_reposwindow中代码目录 E:\\selfweb\\git_dev\\zzz首先在svn服务器上checkout检出一份,检出到/data/www/svn_repos 目录/data/server/svn/bin/svn checkout svn://192.168.42.128/ /data/www/svn_repos 实现svn 代码仓库与web线上代码同步02123456789101112131415161718### svn 仓库和代码在同一台服务器建立同步脚本cd /data/www/svn_repository/repository01/hookscp post-commit.tmpl post-commitchmod 755 post-commitvim post-commit添加如下代码:(SVN_PATH svn安装目录; WEB_PATH项目目录; svn账号密码)export LANG=en_US.UTF-8SVN_PATH=/data/server/svn/bin/svn WEB_PATH=/data/www/svn_repos $SVN_PATH update $WEB_PATH --username fei_svn --password 123456重启svn 服务killall svnserve #停止服务ps -aux | grep svnserve #查看svnserve是否启动/data/server/svn/bin/svnserve -d -r /data/www/svn_repository/repository01 使用过svn后,账户保存位置1234567linux中/root/.subversion/auth [ cd ~/.subversion/auth] windows中C:\\Documents and Settings\\Administrator\\Application Data\\Subversion\\auth账户信息保存在 svn.simple 文件下 常用命令12345678910/data/server/svn/bin/svn help //--svn帮助/data/server/svn/bin/svn --version #查看版本信息/data/server/svn/bin/svnserve --version //--svn版本信息/data/server/svn/bin/svn checkout svn://192.168.42.128/test./svn checkout svn://192.168.1.11/repo/test /data/www/test #指定检出目录位置svn add index.php #添加svn commit -m \"这里是信息\" index.php #提交svn update #更新","categories":[{"name":"SVN","slug":"SVN","permalink":"http://yoursite.com/categories/SVN/"}],"tags":[{"name":"SVN","slug":"SVN","permalink":"http://yoursite.com/tags/SVN/"}]},{"title":"ubuntu -jenkins","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_jenkins/","text":"ubuntu -jenkinsubuntu -jenkinsubuntu -jenkins 下载war 包第一种安装方式：前提：系统中必须安装好jdk，我的 jdk 是1.8 将下载好的war包放到linux中；切换到 jenkins.war 存放目录，输入命令： java -jar jenkins.war 然后在浏览器中输入localhost:8080,就可以打开Jenkins 这种方式安装好后命令窗口会一直保持打开状态，不太实用； 第二种安装方式，在 tomcat 中启动 不管用那种方法，安装后登录时空白，现在没有时间弄了，有知道的请留言 安装12345678wget -q -O - https://pkg.jenkins.io/debian/jenkins-ci.org.key | sudo apt-key add -sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ &gt; /etc/apt/sources.list.d/jenkins.list'sudo apt-get updatesudo apt-get install jenkins如果是升级，直接使用一下命令sudo apt-get updatesudo apt-get install jenkins 卸载12345678910//服务sudo apt-get remove jenkins//安装包，注意这里如果不是ubuntu那就yumsudo apt-get remove --auto-remove jenkins//配置和数据sudo apt-get purge jenkinssudo apt-get purge --auto-remove jenkins","categories":[{"name":"Jenkins","slug":"Jenkins","permalink":"http://yoursite.com/categories/Jenkins/"}],"tags":[{"name":"Jenkins","slug":"Jenkins","permalink":"http://yoursite.com/tags/Jenkins/"}]},{"title":"ubuntu16 -swoole","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_swoole/","text":"ubuntu16 -swooleubuntu16 -swooleubuntu16 -swoole swoolephp7 中安装swoole1.9.1 1234567891011121314151617181920212223242526272829303132333435363738394041安装依赖apt-get install libpcre3 libpcre3-dev *********************************************cd /data/server/wget https://github.com/swoole/swoole-src/archive/v1.9.1-stable.tar.gztar zxvf v1.9.1-stable.tar.gz -C /data/server/cd swoole-src-1.9.1-stable/data/server/php7/bin/phpize【 这一步很少出问题： 我的报错如下：错误一： root@ubuntu:/data/server/swoole-src-1.9.1-stable# /data/server/php7/bin/phpize Configuring for: PHP Api Version: 20151012 Zend Module Api No: 20151012 Zend Extension Api No: 320151012 Cannot find autoconf. Please check your autoconf installation and the $PHP_AUTOCONF environment variable. Then, rerun this script.错误二: Cannot find config.m4. Make sure that you run '/data/server/php7/bin/phpize' in the top level source directory of the module解决方法：sudo apt-get install m4sudo apt-get install autoconf 】./configure --with-php-config=/data/server/php7/bin/php-configmakemake install最后安装成功后显示：root@ubuntu:/data/server/swoole-src-1.9.1-stable# make installInstalling shared extensions: /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/root@ubuntu:/data/server/swoole-src-1.9.1-stable# 配置php支持swoolevi /data/server/php7/lib/php.ini #######编辑配置文件，在最后一行添加以下内容(查找php.ini最好的方法就是phpinfo) 12345vi /etc/php/7.0/cli/php.inivi /data/server/php7/lib/php.ini 这两个里面都要写上一以下内容：extension=swoole.so 重启php-fpm1234查找PHP服务 ps aux | grep php-fpmpkill -9 phpphp启动命令/data/server/php7/sbin/php-fpm 先用 php -m 看一下,没有 swoole ，扩展，检索一下 locate php.ini ,发现在 /etc/php/7.0/cli/php.ini 这里还有一个，这里也加上 extension=swoole.so ，在看看有没有，如果还是没有， php -ini|grep ‘extesion_dir’ 看一下，发现如下错误： 12345678root@ubuntu:/home/afei# php -ini|grep 'extesion_dir'PHP Warning: PHP Startup: Unable to load dynamic library '/usr/lib/php/20151012/swoole.so' - /usr/lib/php/20151012/swoole.so: cannot open shared object file: No such file or directory in Unknown on line 0root@ubuntu:/home/afei# cd /usr/lib/php/20151012root@ubuntu:/usr/lib/php/20151012# ls -l解决办法， 拷贝一份过去： cp /data/server/php7/lib/php/extensions/no-debug-non-zts-20151012/swoole.so /usr/lib/php/20151012/ 在phpinfo页面可以看到关于swoole的选项，说明安装成功 其他123401) 让phpstorm 对 swoole的函数提示下载地址 https://github.com/swoole/ide-helperphpstorm--&gt;settings--&gt;languages&amp;Frameworks--&gt;(Include path)添加下载的文件 swoole官方文档","categories":[{"name":"PHP","slug":"PHP","permalink":"http://yoursite.com/categories/PHP/"},{"name":"Swoole","slug":"PHP/Swoole","permalink":"http://yoursite.com/categories/PHP/Swoole/"}],"tags":[{"name":"Swoole","slug":"Swoole","permalink":"http://yoursite.com/tags/Swoole/"}]},{"title":"ubuntu -tomact","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_tomact/","text":"ubuntu -tomactubuntu -tomactubuntu -tomact 官网下载 Tomact 包上传到服务器12然后解压：sudo tar -zxvf apache-tomcat-9.0.5.tar.gz 在 /data/server 目录创建 tomcat 目录；然后将文件夹 apache-tomcat-9.0.5 移动到 /data/server/tomcat 下： 12mkdir tomcatsudo mv apache-tomcat-9.0.5 /data/server/tomcat/ 进入/data/server/tomcat/apache-tomcat-9.0.5/bin，编辑 startup.sh12345678910在最后一行加入下信息;#set java environmentexport JAVA_HOME=/usr/lib/jvm/jdk1.8.0_161 ## 这里要注意要换成自己解压的 jdk 目录export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:%&#123;JAVA_HOME&#125;/lib:%&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH#tomcatexport TOMCAT_HOME=/data/server/tomcat/apache-tomcat-9.0.5 ## 这里要注意要换成自己解压的 tomcat 目录 启动1sudo ./startup.sh 关闭 tomcat ，需要在 shutdown.sh 对应的位置添加信息12345678910在最后一行加入下信息;#set java environmentexport JAVA_HOME=/usr/lib/jvm/jdk1.8.0_161 ## 这里要注意要换成自己解压的 jdk 目录export JRE_HOME=$&#123;JAVA_HOME&#125;/jreexport CLASSPATH=.:%&#123;JAVA_HOME&#125;/lib:%&#123;JRE_HOME&#125;/libexport PATH=$&#123;JAVA_HOME&#125;/bin:$PATH#tomcatexport TOMCAT_HOME=/data/server/tomcat/apache-tomcat-9.0.5 ## 这里要注意要换成自己解压的 tomcat 目录 停止1sudo ./shutdown.sh 加入开机启动：把catalina.sh文件复制到/etc/init.d123456789101112131415161718sudo cp -p /data/server/tomcat/apache-tomcat-9.0.5/bin/catalina.sh /etc/init.d/tomcat 编辑tomcat文件： sudo vim /etc/init.d/tomcat 在开头写如下内容：【提醒：这里一定要注意书写格式，不能有空格，有#的注释部分也要写全，不要遗漏】### BEGIN INIT INFO # Provides: tomcat # Required-Start: $local_fs $network # Required-Stop: $local_fs # Default-Start: 2 3 4 5 # Default-Stop: 0 1 6 # Short-Description: tomcat service # Description: tomcat service daemon ### END INIT INFO CATALINA_HOME=/data/server/tomcat/apache-tomcat-9.0.5 JAVA_HOME=/usr/lib/jvm/jdk1.8.0_161 添加自启动服务1update-rc.d tomcat defaults 测试，关机重启访问 localhost:8080 或者 192.168.1.113:8080 tomact 命令1234service tomcat &#123;start|stop|restart&#125;service tomcat stopservice tomcat startservice tomcat restart","categories":[{"name":"Tomact","slug":"Tomact","permalink":"http://yoursite.com/categories/Tomact/"}],"tags":[{"name":"Tomact","slug":"Tomact","permalink":"http://yoursite.com/tags/Tomact/"}]},{"title":"linux-vue vue-cli 使用","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_vue/","text":"!!! node vue 在linux中使用注意环境变量,用户权限 本文的主要以vue3.0以上版本 12345npm install -g @vue/cli-service-global #全局安装vue create hello-world #创建项目(在linux中注意权限和环境变量)npm run serve #运行 oryarn serve #也可以运行 ornpx vue-cli-service serve #也可以运行 Vue CLI 官网","categories":[{"name":"WEB","slug":"WEB","permalink":"http://yoursite.com/categories/WEB/"},{"name":"Vue","slug":"WEB/Vue","permalink":"http://yoursite.com/categories/WEB/Vue/"}],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"linux -useradd","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_useradd/","text":"useradd 查看所有用户和用户组,添加删除用户useradd 查看所有用户和用户组,添加删除用户 查看所有用户123456/etc/group 文件包含所有组/etc/shadow 和 /etc/passwd 系统存在的所有用户名tail -3 /etc/grouptail -3 /etc/shadowtail -3 /etc/passwd 创建用户12345678910useradd -m -s /bin/bash fei_04 ###可以远程登录,也可以执行shell命令 常用useradd fei_02 #创建用户passwd fei_02 #设定密码tail -4 /etc/group #查看用户这样创建的用户登录后不能使用 ll,touch 等其他命令useradd -m fei_03 #创建一个有家目录,远程登录后不能执行命令useradd -m -s /bin/bash fei_04 ##可以远程登录,也可以执行shell命令useradd -s /sbin/nologin fei_05 #创建一个没有家目录,且不能登录的用户 删除用户123userdel fei_03 #如果用户还在登录状态,会出现无法删除,此时要先强制用户退w #查看当前登录用户pkill -kill -t pts/20 # 强制退出用户","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"useradd","slug":"useradd","permalink":"http://yoursite.com/tags/useradd/"}]},{"title":"linux -wc","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_wc/","text":"Linux wc命令用于计算字数 1wc -l 统计文件行数","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"wc","slug":"wc","permalink":"http://yoursite.com/tags/wc/"}]},{"title":"ubuntu系统 和 CentOS系统","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_centos/","text":"ubuntu系统 和 CentOS系统ubuntu系统 和 CentOS系统ubuntu系统 和 CentOS系统 虚拟机安装完ubuntu后root没有密码12设置root密码sudo passwd 虚拟机安装完centos后重新设置root密码12设置root密码passwd 用户切换：1234567891011121314sudo su (切换到root用户)； su user（user是你自己安装时候的用户名；切换到普通用户）其他命令：修改文件权限： sudo chmod -R 777 文件名安装文件命令： sudo apt-get install 文件名 清空某个文件 echo \"\" &gt;log.log 动态查看内容 tail -f api_v1.log 修改文件权限 sudo chmod -R 777 文件名 ubuntu安装好系统后，vi不能正常使用方向键和退格键ubuntu中vi在编辑状态下方向键不能用，还有回格键不能删除等我们平时习惯的一些键都不能使用。解决办法：可以安装vim full版本，在full版本下键盘正常，安装好后同样使用vi命令。 12345678910111213141516171819202122232425262728-----------（1）-----一般安装步骤------------------ sudo apt-get remove vim-common sudo apt-get install vim-----------（2）------直接安装vim 报错 packet 不存在、找不到 请换源，参考下面-----------进入/etc/apt/ cd /etc/apt对 sources.list文件进行备份 sudo cp sources.list sources.list.bak删除掉 sources.list 中的内容【命令 echo \"\"&gt;sources.list 】，选择阿里云源 deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse------------（3）换源结束-------------------------------apt-get update 先更新一下现在可以安装vim sudo apt-get install vim centos7换源12345678910111213进入 /etc/yum.repos.d/ cd /etc/yum.repos.d/对 CentOS-Base.repo 文件备份 CentOS-Base.repo.backups cp -avr CentOS-Base.repo CentOS-Base.repo.backupscenos7的源;wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo或者curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo yum clean all #清理缓存 yum makecache #生成新缓存 yum update -y #更新源设置 关闭防火墙1systemctl stop firewalld.service OPSX阿里巴巴开源镜像站","categories":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/categories/CentOS/"},{"name":"Ubuntu","slug":"CentOS/Ubuntu","permalink":"http://yoursite.com/categories/CentOS/Ubuntu/"}],"tags":[{"name":"CentOS","slug":"CentOS","permalink":"http://yoursite.com/tags/CentOS/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://yoursite.com/tags/Ubuntu/"}]},{"title":"ubuntu15 -tengine","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_tengine/","text":"Tengine 官网安装相当简略，这里详细安装一次（ubuntu15 安装 tengine） 安装必要的编译环境Tengine 安装需要使用源代码自行编译，所以安装前需要安装必要的编译工具 123sudo apt-get updatesudo apt-get install g++apt-get install libgd-dev 安装所需要的组件【pcre、openssl、zlib】，组件安装的时候注意路径PCRE1234567wget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.38.tar.gz解压到你指定的目录tar -zxvf pcre-8.38.tar.gz -C /data/server/tengine_componentmv pcre-8.38 pcrecd pcre/./configure --prefix=/data/server/tengine_component/pcremake &amp;&amp; make install OpenSSL1234567wget http://www.openssl.org/source/openssl-1.0.2.tar.gz解压到你指定的目录tar -zxvf openssl-1.0.2.tar.gz -C /data/server/tengine_componentmv openssl-1.0.2 opensslcd openssl/./config --prefix=/data/server/tengine_component/opensslmake &amp;&amp; make install 这个执行时间稍微长一点 Zlib1234567wget http://zlib.net/zlib-1.2.11.tar.gz解压到你指定的目录tar -zxvf zlib-1.2.11.tar.gz -C /data/server/tengine_componentmv zlib-1.2.11 zlibcd zlib/./configure --prefix=/data/server/tengine_component/zlibmake &amp;&amp; make install 下载12345678910111213141516171819202122###有空试试这个不添加应该也是可以的，安装完有2个报错，不用理会，手动创建 logs 目录，修改权限；###groupadd wwwuseradd -s /sbin/nologin -g www www///////////////////////////////////////////////////////////wget http://tengine.taobao.org/download/tengine-2.1.2.tar.gz解压到你指定的目录tar -zxvf tengine-2.1.2.tar.gz -C /data/server/mv tengine-2.1.2 tenginecd tengine./configure --prefix=/data/server/tengine \\--with-pcre=/data/server/tengine_component/pcre \\--with-openssl=/data/server/tengine_component/openssl \\--with-http_gzip_static_module \\--with-http_realip_module \\--with-http_stub_status_module \\--with-http_concat_module \\--with-zlib=/data/server/tengine_component/zlibmake &amp;&amp; make install 注意配置的时候 –with-pcre 、–with-openssl、–with-zlib的路径为源文件的路径 检测是否可用123/data/server/tengine/sbin/nginx -t没有logs目录，那就创建一个logs目录： mkdir logs 启动关闭命令1234567/data/server/tengine/sbin/nginx -t/data/server/tengine/sbin/nginx -s start/data/server/tengine/sbin/nginx -s stop/data/server/tengine/sbin/nginx -s reloadpid出错时，可以使用这个：/data/server/tengine/sbin/nginx -c /data/server/tengine/conf/nginx.conf 扩展：有时候，我们有好多域名，为了方便我们修改一下 nginx.conf ,修改内容如下，主要是最后一句 include servers/*;然后在nginx.conf 当前位置创建 servers 目录；【修改之前记得把原来的备份 cp nginx.conf nginx.conf_backups 】 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#user nobody;worker_processes 1;#error_log logs/error.log;#error_log logs/error.log notice;#error_log logs/error.log info;#pid logs/nginx.pid;events &#123; worker_connections 1024;&#125;# load modules compiled as Dynamic Shared Object (DSO)##dso &#123;# load ngx_http_fastcgi_module.so;# load ngx_http_rewrite_module.so;#&#125;http &#123; include mime.types; default_type application/octet-stream; charset utf-8;# server_tokens off;# server_names_hash_bucket_size 128; # client_header_buffer_size 32k; # large_client_header_buffers 4 32k; # client_max_body_size 20m; # client_body_buffer_size 128k; client_header_timeout 30m; client_body_timeout 30m; # client_body_temp_path /dev/shm/client_body_temp_path 1 2; send_timeout 30m; #sendfile on; # tcp_nopush on; # tcp_nodelay on; keepalive_timeout 60; # fastcgi_connect_timeout 300; # fastcgi_send_timeout 300; # fastcgi_read_timeout 300; # fastcgi_buffer_size 256k; # fastcgi_buffers 4 256k; # fastcgi_busy_buffers_size 512k; # fastcgi_temp_file_write_size 512k; # fastcgi_temp_path /dev/shm/factcgi_temp_path 1 2; # fastcgi_cache_path /dev/shm/fastcgi_cache levels=1:2 keys_zone=PHPCACHE:1024m inactive=15m; # fastcgi_cache_key \"$scheme$request_method$host$request_uri\"; # fastcgi_cache_use_stale error timeout invalid_header http_500; # fastcgi_intercept_errors on; #开启后支持4XX 和 5XX 错误自定义 gzip on; gzip_vary on; gzip_min_length 10k; gzip_buffers 4 16k; gzip_http_version 1.0; gzip_comp_level 2; gzip_types text/plain text/css text/xml text/javascript application/x-javascript application/xml application/javascript; gzip_disable \"MSIE [1-6]\\.\"; include servers/*;&#125; demo 测试，在新建的 servers 目录下创建 文件 127.0.0.1 12345678910111213141516171819202122232425262728server &#123; listen 80; server_name 127.0.0.1; client_max_body_size 0m; charset utf-8; #access_log /data/server/tengine/logs/127.0.0._access.log; #error_log /data/server/tengine/logs/127.0.0._error.log; root /data/www/; index index.html;&#125;或者：server &#123; listen 80; server_name 127.0.0.1 192.168.1.232; client_max_body_size 0m; charset utf-8; #access_log /data/server/tengine/logs/127.0.0._access.log; #error_log /data/server/tengine/logs/127.0.0._error.log; root /data/www/; index index.html index.php; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; &#125; &#125; Tengine 官网安装","categories":[{"name":"Tengine","slug":"Tengine","permalink":"http://yoursite.com/categories/Tengine/"}],"tags":[{"name":"Tengine","slug":"Tengine","permalink":"http://yoursite.com/tags/Tengine/"}]},{"title":"Ubuntu -git","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_git/","text":"Ubuntu -gitUbuntu -gitUbuntu -git 前言：本地: windows7 ip: 192.168.1.105服务器Ubuntu ： Ubuntu 15.10 ip: 192.168.1.113 【cat /etc/issue】 Ubuntu中git安装123git --version 【检测当前环境是否安装git】sudo apt-get install git 【安装git】 新增用户12新增用户(用户名为git_dafei),用于运行git服务，回车后输入密码adduser git_dafei 初始git仓库，12345我在 /home/git_dafei/code ( mkdir -p /home/git_dafei/code 注意创建这个目录后的所有者，权限)这个目录下，使用 git init 这个--bare 选项为它设置一个空的存储库，一般服务器上的 Git 仓库是以 .git 结尾的空仓库git init --bare test.git 开始本地(windows)操作 本地生成公钥,位置 C:\\Users\\Administrator\\.ssh 或者 ~/.ssh1ssh-keygen -t rsa ls ~/.ssh/ 将win用户的公钥(即 id_rsa.pub )添加到服务器上1234 scp ~/.ssh/id_rsa.pub git_dafei@192.168.1.113:/home/git_dafei/ [扩展:使用ssh端口 ] scp -P 22 ~/.ssh/id_rsa.pub git_dafei@192.168.1.113:/home/git_dafei/ 将本地用户的公钥添加到认证文件中1234cd /home/git_dafeimkdir .sshtouch authorized_keys 【在 .ssh中创建 】cat id_rsa.pub &gt;&gt; .ssh/authorized_keys [如果没有 authorized_keys 请创建 touch authorized_keys 修改文件所有者为 git_dafei 用户123456789101112131415161718chown -R git_dafei:git_dafei /home/git_dafeichmod 755 /home/git_dafei/ # 1. 用户git_dafei目录755权限chmod 700 /home/git_dafei/.ssh # 2. .ssh目录700权限chmod 600 /home/git_dafei/.ssh/authorized_keys # 3. authorized_keys 600权限 ////////////////////效果//////////////////////////drwxr-xr-x 2 git_dafei git_dafei 4096 Feb 14 19:39 .ssh 【修改前权限】chmod 700 /home/git_dafei/.sshdrwx------ 2 git_dafei git_dafei 4096 Feb 14 19:39 .ssh 【修改后权限】【修改前权限】：-rw-r--r-- 1 git_dafei git_dafei 401 Feb 14 19:40 /home/git_dafei/.ssh/authorized_keys chmod 600 /home/git_dafei/.ssh/authorized_keys【修改后权限】-rw------- 1 git_dafei git_dafei 401 Feb 14 19:40 /home/git_dafei/.ssh/authorized_keys 修改ssh配置文件12修改ssh配置文件/etc/ssh/sshd_config，取消这行(33行) AuthorizedKeysFile %h/.ssh/authorized_keys 前面的注释修改完重启ssh: service ssh restart 安全123为例安全，禁止 git_dafei 用户 shell登录，需要修改 /etc/passwd将 git_dafei:x:1002:1002:,,,:/home/git_dafei:/bin/bash改为 git_dafei:x:1002:1002:,,,:/home/git_dafei:/usr/bin/git-shell 在win中clone刚才创建的test.git12345克隆的用户有错git clone git_dafei@192.168.1.113:/home/git_dafei/code/test.gitgit clone 上面设置的用户名@服务器ip:/home/git_dafei/code/test.gitgit clone ssh://git_dafei@192.168.1.113:22 /home/git_dafei/code/test.git [指定ssh端口克隆] Git 下载Ubuntu git官方文档git官方文档git Download 国内镜像git 官方下载","categories":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/categories/Git/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"}]},{"title":"ubuntu -lnmp环境","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_lnmp/","text":"LNMP环境搭建 LNMP环境搭建使用命令下载 nginx 安装包 nginx官网 nginx官网 nginx官网","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"}]},{"title":"ubuntu -docker","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_docker/","text":"ubuntu -dockerubuntu -dockerubuntu -docker Linux ubuntu docker前提条件 Docker要求Ubuntu系统内核版本高于3.10，查看内核版本 1uname -r 系统版本没有问题，docker安装一直包这错。试一下docker命令，检查镜像信息 123docker images现在Ubuntu系统提示安装docker命令，我们执行apt-get install docker.io 查看docker版本123docker versionsudo docker run hello-world 【确认docker是否安装成功】 ———————–到这里docker已经安装完成———————— 安装docker-compose12345678910111213141516171819202122232425sudo curl -L https://github.com/docker/compose/releases/download/1.17.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-composesudo chmod +x /usr/local/bin/docker-composecurl -L https://raw.githubusercontent.com/docker/compose/1.8.0/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose 【bash 补全命令】////////如果出现超时，加上2个参数： ///////////--connect-timeout 100000 -m 1000000-m为数据最大传输时间curl -L \"https://github.com/docker/compose/releases/download/1.9.0/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose --connect-timeout 100000 -m 1000000 ////////////////////////////////////////////docker-compose -version 【检测 docker-compose 版本】sudo rm /usr/local/bin/docker-compose 【卸载docker-compose】-----------------------------------------------docker-compose 命令docker-compose ps 查看容器运行状态docker-compose restart #重启所有容器docker-compose restart App1 #重启App1docker-compose stop #停止所有容器docker-compose rm #删除所有容器docker-compose stop App1 #停止App1docker-compose -f docker-compose.yml down 停止并删除容器、网络、镜像、数据卷 ———————–到这里docker-compose已经安装完成———————— Docker Compose 搭建 Rails温馨提示： 复制粘贴命令的时候注意别丢信息 创建项目目录12mkdir myappcd myapp 创建 Dockerfile文件，包含以下内容12345678FROM ruby:2.3.3RUN apt-get update -qq &amp;&amp; apt-get install -y build-essential libpq-dev nodejsRUN mkdir /myappWORKDIR /myappCOPY Gemfile /myapp/GemfileCOPY Gemfile.lock /myapp/Gemfile.lockRUN bundle installCOPY . /myapp 创建 Gemfile 文件，包含以下内容12source 'https://rubygems.org'gem 'rails', '5.0.0.1' 创建空的 Gemfile.lock 文件1touch Gemfile.lock 创建一个 docker-compose.yml ，包含以下内容温馨提示：docker-compose.yml 中 version: ‘3’ 改为 version: ‘2’ 12345678910111213version: '2'services: db: image: postgres web: build: . command: bundle exec rails s -p 3000 -b '0.0.0.0' volumes: - .:/myapp ports: - \"3000:3000\" depends_on: - db 接下来执行1docker-compose run web rails new . --force --database=postgresql 查看现在的目录： ls -l 修改权限，重建 Docker 镜像12sudo chown -R $USER:$USER .docker-compose build 修改 config/database.yml 文件如果担心修改错误，可以先备份原文件： cp database.yml database.yml_backup 123456789101112131415161718192021清空 database.yml 文件echo \" \"&gt;database.ymldatabase.yml 文件写入以下内容default: &amp;default adapter: postgresql encoding: unicode host: db username: postgres password: pool: 5development: &lt;&lt;: *default database: myapp_developmenttest: &lt;&lt;: *default database: myapp_test 启动应用1docker-compose up 创建数据库，在另一个终端中，执行1docker-compose run web rake db:create 用浏览器访问 http://localhost:3000 ，你会看到 Rails 的欢迎信息： If you are using Docker Machine, then docker-machine ip MACHINE_VM returns the Docker host IP address, to which you can append the port (&lt;Docker-Host-IP&gt;:3000). Compose and Rail 官方文档","categories":[{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/categories/Docker/"}],"tags":[{"name":"Docker","slug":"Docker","permalink":"http://yoursite.com/tags/Docker/"}]},{"title":"Windows -jdk","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_jdk02/","text":"Windows -jdkWindwos7 中测试 jdk是否安装成功,并编写第一个HelloWorld程序,用命令行运行Windwos7 中测试 jdk是否安装成功,并编写第一个HelloWorld程序,用命令行运行 测试 jdk 环境123456789E:\\&gt;java -versionjava version \"1.8.0_191\"Java(TM) SE Runtime Environment (build 1.8.0_191-b12)Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)E:\\&gt;javac -versionjavac 1.8.0_191E:\\&gt; 程序 HelloWorld123456789101112131415#创建文件touch HelloWorld.java# vim HelloWorld.java 文件内容如下public class HelloWorld &#123; public static void main(String[] args) &#123; System.out.println(\"Hello World DaFei\"); &#125;&#125;#执行命令编译代码javac HelloWorld.java#执行命令运行代码java HelloWorld","categories":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"jdk","slug":"jdk","permalink":"http://yoursite.com/tags/jdk/"}]},{"title":"Ubuntu -jdk","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_jdk/","text":"Ubuntu 安装 jdk 2 种方式Ubuntu 安装 jdk 2 种方式Ubuntu 安装 jdk 2 种方式 Ubuntu 安装 jdk 2 种方式1、 通过 ppa 源方式安装 jdk82、通过官网下载安装包安装 jdk8 检测linux多少位： getconf LONG_BIT 我的系统是64位 使用 ppa 源方式安装添加ppa12sudo add-apt-repository ppa:webupd8team/javasudo apt-get update 安装oracle-java-installer1sudo apt-get install oracle-java8-installer 接下来会出现连个界面，选择ok、yes 即可 查看java版本1java -version 卸载jdk1sudo apt-get remove openjdk* 直接下载 jdk 压缩包方式安装官网下载 jdkjdk1.8 官网地址 选择相应的系统 .tar.gz 包，然后用ssh上传到服务器【提醒：不要在服务器直接下载，否则解压会出错】 解压缩，放到指定目录1sudo tar -zxvf jdk-8u161-linux-x64.tar.gz -C /usr/lib/jvm 修改环境变量1sudo vim ~/.bashrc #或者修改 vim /etc/profile 文件的末尾追加下面内容 12345#set oracle jdk environmentexport JAVA_HOME=/usr/lib/jvm/jdk1.8.0_161 ## 这里要注意目录要换成自己解压的jdk 目录export JRE_HOME=$&#123;JAVA_HOME&#125;/jre export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH 设置系统默认 jdk 版本12345678sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/jdk1.8.0_161/bin/java 300 sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/jdk1.8.0_161/bin/javac 300 sudo update-alternatives --install /usr/bin/jar jar /usr/lib/jvm/jdk1.8.0_161/bin/jar 300 sudo update-alternatives --install /usr/bin/javah javah /usr/lib/jvm/jdk1.8.0_161/bin/javah 300 sudo update-alternatives --install /usr/bin/javap javap /usr/lib/jvm/jdk1.8.0_161/bin/javap 300 然后执行sudo update-alternatives --config java 测试 jdk1java -version 其他123java -version // 查看jdk版本javac -version // 查看jdk版本java -verbose // 查看jdk安装路径","categories":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"jdk","slug":"jdk","permalink":"http://yoursite.com/tags/jdk/"}]},{"title":"--login 登录系统后常用命令","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_login/","text":"介绍： Linux登录新系统后常用命令 uname 打印系统相关信息123456uname uname -a #显示全部信息uname -m #系统类型uname -nuname -runame -s top1234top 然后按 shift + p ,按照进程处理器占用率排序然后按 Shift + m, 按照进程内存占用率排序然后按 Shift + e, 切换单位K,M,G直接切换 ps 当前系统的进程状态12345678910#选项很多,列举2个demops -aux | grep phpps -aux | nginxps -aux | moreps -aux | head -3[root@localhost ~]# ps aux |head -1; ps aux | grep httpdUSER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND[root@localhost ~]# ps -aux | grep httpd free 查看内存1free -h #以K，M，G为单位，提高信息的可读性 pmap 报告进程的内存映射关系123456pidof #查找指定名称的进程id号demo: pidof nginxpmap #查看进程的内存印象信息demo: pmap -d 6953pmap 最后一行的值mapped 表示该进程映射的虚拟地址空间大小，也就是该进程预先分配的虚拟内存大小，即ps出的vszwriteable/private 表示进程所占用的私有地址空间大小，也就是该进程实际使用的内存大小 shared 表示进程和其他进程共享的内存大小 vmstat 显示虚拟内存状态12345678910111213141516171819202122232425262728293031vmstat字段说明:Memory（内存）swpd: 使用虚拟内存大小，如果swpd的值不为0，但是SI，SO的值长期为0，这种情况不会影响系统性能。free: 空闲物理内存大小。buff: 用作缓冲的内存大小。cache: 用作缓存的内存大小，如果cache的值大的时候，说明cache处的文件数多，如果频繁访问到的文件都能被cache处，那么磁盘的读IO bi会非常小。/proc/sys/vm/drop_caches 这个文件的值是0--3之间的数字,代表不同改的含义0：不释放（系统默认值）1：释放页缓存2：释放dentries和inodes3：释放所有缓存-------- 释放缓存 --------sync #!!!将所有未写的系统缓冲区写到磁盘中!!!echo 1 &gt; /proc/sys/vm/drop_caches #仅清除pagecache(页面)缓存echo 2 &gt; /proc/sys/vm/drop_caches #清除dentries(目录缓存)和inodeecho 3 &gt; /proc/sys/vm/drop_caches #清除pagecache(页面缓存)，dentries(目录缓存)和inode或者(这和上面是一样的效果)sync sysctl -w vm.drop_caches=1sysctl -w vm.drop_caches=2sysctl -w vm.drop_caches=3系统重启后 /proc/sys/vm/drop_caches 里面的值会自己改为0 df 显示磁盘分区上的可使用的磁盘空间1df -h #以K，M，G为单位，提高信息的可读性 du : 与df不同的是,du命令是对文件和目录磁盘使用的空间查看 du 对文件和目录磁盘使用的空间查看123du -h #以K，M，G为单位，提高信息的可读性du -s #显示目录中文件总和du -sh 123du -h --max-depth=0du -h --max-depth=1du -h --max-depth=2 uptime 查看系统运行时间、用户数、负载12345uptimeroot@ubuntu:/home/fei/www# uptime 18:24:03 up 1:52, 1 user, load average: 0.39, 0.69, 0.37root@ubuntu:/home/fei/www# netstat 系统中网络状态信息(端口) [lsof -i:22 ]123456netstat -lntp # 查看所有监听端口 netstat -antp # 查看所有已经建立的连接, 查看端口是否被应用#查看占用端口22的进程netstat -lntp | grep 22lsof -i:22 crontab 计划任务1crontab -l # 查看当前用户的计划任务服务 w 显示已经登陆系统的用户列表，并显示用户正在执行的指令1234567wroot@ubuntu:/# w #当前登录用户 fei, fei_02 19:46:31 up 1:19, 2 users, load average: 0.18, 0.10, 0.03USER TTY FROM LOGIN@ IDLE JCPU PCPU WHATfei tty7 :0 18:27 1:19m 7.79s 0.58s /sbin/upstart -fei_02 pts/18 192.168.47.1 19:46 12.00s 0.00s 0.00s -sh who 显示目前登录系统的用户信息1234root@ubuntu:/home/fei# whofei tty7 2019-01-05 18:27 (:0)fei_02 pts/17 2019-01-05 22:05 (192.168.47.1)root@ubuntu:/home/fei# write 终端给登录用户发消息123456write fei_02 pts/17ctrl+c 或者 ctrl + d 结束或者:echo “你被管理员踢出了” &gt; /dev/pts/17fuser -k /dev/pts/17 fuser 踢用户下线12fuser -k /dev/pts/17 #使用 w 或者 who 可查看在线用户echo “你被管理员踢出了” &gt; /dev/pts/17 &amp;&amp; fuser -k /dev/pts/17 #发送消息并踢下线 其他1ubuntu 命令窗口背景颜色 #300a24 终端颜色12345678#红色echo -e \"\\033[31m xxx \\033[0m\"#绿色echo -e \"\\033[32m xxx \\033[0m\"#紫色echo -e \"\\033[35m xxx \\033[0m\" 12345678910字色 背景 颜色---------------------------------------30 40 黑色31 41 紅色32 42 綠色33 43 黃色34 44 藍色35 45 紫紅色36 46 青藍色37 47 白色 Linux命令大全 Linux学习频道 Linux公社","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"-maven  centos7","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_maven/","text":"maven centos7maven centos7maven centos7 maven Binary方式安装使用安装maven之前区别系统中安装了 JDK, 12下载 maven http://39.137.67.79/mirror.bit.edu.cn/apache/maven/maven-3/3.6.0/binaries/apache-maven-3.6.0-bin.tar.gz 解压1tar -zxvf apache-maven-3.6.0-bin.tar.gz -C /data/server/ 修改环境变量12345vim /etc/profile#set mavenexport M2_HOME=/data/server/apache-maven-3.6.0export PATH=$PATH:$M2_HOME/bin 验证12source /etc/profile #使环境变量生效mvn -v maven source 方式安装使用maven 仓库位置maven默认仓库位置C:/Users/Administrator/.m2/repository,如果改为自己指定本地位置位置，可通过修改maven安装包下面配置文件…\\apache-maven-3.6.0\\conf\\settings.xml`中55行左右 1&lt;localRepository&gt;D:\\soft_position\\java\\maven_repo&lt;/localRepository&gt; 修改完成后可以执行命令mvn help:system后，到新的仓库位置看一下是否有下载的包 设置aliyun仓库1234567891011121314151617181920212223&lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt; &lt;profiles&gt; &lt;profile&gt; &lt;id&gt;jdk-1.8&lt;/id&gt; &lt;activation&gt; &lt;activeByDefault&gt;true&lt;/activeByDefault&gt; &lt;jdk&gt;1.8&lt;/jdk&gt; &lt;/activation&gt; &lt;properties&gt; &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; &lt;maven.compiler.compilerVersion&gt;1.8&lt;/maven.compiler.compilerVersion&gt; &lt;/properties&gt; &lt;/profile&gt; &lt;/profiles&gt;","categories":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/categories/Java/"},{"name":"Maven","slug":"Java/Maven","permalink":"http://yoursite.com/categories/Java/Maven/"}],"tags":[{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"},{"name":"Maven","slug":"Maven","permalink":"http://yoursite.com/tags/Maven/"}]},{"title":"-kill -pkill -killall 终结进程","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_kill/","text":"-kill -pkill -killall 终结进程-kill -pkill -killall 终结进程-kill -pkill -killall 终结进程 kill 发送指定信号到相应进程12345678910111213ps -aux | grep vimkill 3453#demoroot@ubuntu:/# ps -aux | grep vimfei 3452 0.0 0.9 62048 9344 pts/19 S+ 20:11 0:00 vim hello.phpfei 3453 0.0 0.8 60916 8252 pts/18 S+ 20:11 0:00 vim aaa.txtroot 3468 0.0 0.1 21292 1028 pts/1 S+ 20:14 0:00 grep --color=auto vimroot@ubuntu:/# kill 3453root@ubuntu:/# ps -aux | grep vimfei 3452 0.0 0.9 62048 9344 pts/19 S+ 20:11 0:00 vim hello.phproot 3472 0.0 0.0 21292 880 pts/1 S+ 20:15 0:00 grep --color=auto vimroot@ubuntu:/# pkill 按照进程名称杀死进程12345678910111213141516171819ps -aux | grep vimpkill vim#demoroot@ubuntu:/# ps -aux | grep vimfei 3497 1.6 0.9 62048 9328 pts/19 S+ 20:20 0:00 vim hello.phpfei 3499 1.0 0.8 60916 8368 pts/18 S+ 20:20 0:00 vim aaa.txtroot 3501 0.0 0.1 21292 1012 pts/1 S+ 20:20 0:00 grep --color=auto vimroot@ubuntu:/# pkill vimroot@ubuntu:/# ps -aux | grep vimroot 3504 0.0 0.0 21292 912 pts/1 S+ 20:20 0:00 grep --color=auto vimroot@ubuntu:/# ### 特殊demo, 踢某个用户下线(who w 查看登录用户)pkill -kill -t pts/17pkill -9 -t pts/17fuser -k /dev/pts/17echo “你被管理员踢出了” &gt; /dev/pts/17 &amp;&amp; fuser -k /dev/pts/17","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"kill","slug":"kill","permalink":"http://yoursite.com/tags/kill/"},{"name":"pkill","slug":"pkill","permalink":"http://yoursite.com/tags/pkill/"},{"name":"killall","slug":"killall","permalink":"http://yoursite.com/tags/killall/"}]},{"title":"ubuntu15 -mysql5.7","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_mysql/","text":"ubuntu15 -mysql5.7ubuntu15 -mysql5.7ubuntu15 -mysql5.7 mysql 5.7安装在终端执行 以下命令123sudo apt-get install mysql-serversudo apt install mysql-clientsudo apt install libmysqlclient-dev 安装完用以下命测试,出现图中说明 OK 1sudo netstat -tap | grep mysql 进入 mysql1mysql -uroot -p 然后回车输入密码 设置 mysql 运行远程访问1sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf 1、注释掉 bind-address = 127.0.0.1 保存退出【在43行】2、grant all on . to root@’%’ identified by ‘你的密码’ with grant option;3、flush privileges;4、exit; 退出 mysql服务5、重启服务： service mysql restart 卸载mysql123456sudo apt-get remove mysql-serversudo apt-get autoremove mysql-serversudo apt-get remove mysql-common //这个很重要清理残留数据；dpkg -l |grep ^rc|awk '&#123;print $2&#125;' |sudo xargs dpkg -P mysql 手动安装编译环境1sudo apt install make cmake gcc g++ perl bison libaio-dev libncurses5 libncurses5-dev libnuma-dev 下载【注意版本】1234567安装版本 5.7.21；如果是虚拟机建议内容 4G ;wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-boost-5.7.21.tar.gz【解压到你指定的目录，我这里选择 /data/server/ 】tar zxvf mysql-boost-5.7.21.tar.gz -C /data/server/mv mysql-5.7.21 mysqlcd mysql 编译安装12345678910111213141516171819202122232425262728 可以试试这个参数选项 -DDEFAULT_CHARSET=utf8mb4 -DDEFAULT_COLLATION=utf8mb4_general_ci--------------------------------------cmake . -DBUILD_CONFIG=mysql_release \\-DCPACK_MONOLITHIC_INSTALL=ON \\-DCMAKE_INSTALL_PREFIX=/data/server/mysql \\-DDEFAULT_CHARSET=utf8 \\-DDEFAULT_COLLATION=utf8_general_ci \\-DMYSQL_UNIX_ADDR=/data/server/mysql/mysql.sock \\-DMYSQL_TCP_PORT=3306 \\-DMYSQLX_UNIX_ADDR=/data/server/mysql/mysqlx.sock \\-DMYSQL_DATADIR=/data/server/mysql/data \\-DSYSCONFDIR=/data/server/mysql/etc \\-DWITH_BOOST=/data/server/mysql/boost/boost_1_59_0make &amp;&amp; make install注意这一项：这个是你 boost 下载好的目录，我的这个版本的 MySQL 解压后对应的目录中有这个-DWITH_BOOST=/data/server/mysql/boost/boost_1_59_0make 的过程比较耗时；耐心等待，make install 就很快啦官方预编译配置参数：https://dev.mysql.com/doc/refman/5.7/en/source-configuration-options.html#cmake-general-optionshttps://dev.mysql.com/doc/refman/5.7/en/source-configuration-options.html#cmake-general-options 这个过程时间比较长………… 初始化设置 mysql创建 MySQL 组跟用户12sudo groupadd mysqlsudo useradd -r -g mysql -s /bin/false mysql 更改 mysql 目录权限123456789101112##cd /data/server/mysql##sudo chown -R mysql .##sudo chgrp -R mysql .这里不用 . 来操作cd /data/serverchown -R mysql mysql57 #把目录下的所有文件变为mysql用户,在回到上级目录修改为rootchgrp -R mysql mysql57cd ../chown root mysql57chgrp root mysql57 初始化 mysql ， 生成 root 用户临时密码，12345678sudo bin/mysqld --initialize --user=mysql通过mysqld初始化data目录时，如果使用--initialize选项，则会为'root'@'localhost'用户创建一个随机密码。该密码会打印在控制台，如下所示行中末尾就是临时密码：2018-03-29T01:10:08.161779Z 1 [Note] A temporary password is generated for root@localhost: xJB.L-TJ)2wB*****************初始化一个空密码，使用initialize-insecure ****************sudo bin/mysqld --initialize-insecure --user=mysql 启动 mysql1234567891011121314151617181920support-files/mysql.server startbin/mysql -u root -palter user 'root'@'localhost' identified by 'new_password'; #修改密码修改完重启mysql 或者 刷新support-files/mysql.server stop 或者flush privileges;*************************************************************我这里设置密码： 123456 做测试，实际中设置你认为安全的密码方法1：alter user 'root'@'localhost' identified by '123456';方法2：set password=password('123456');方法3：update user set authentication_string=password('123456') where user='root';( 不建议使用方法3,SQL会记录到日志中 )这里如果不重新设置密码，系统会一直提示：mysql&gt; show databases;ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.****其他****ALTER USER 'root'@'localhost' PASSWORD EXPIRE; #使密码过期 设为系统服务123456cp /data/server/mysql/support-files/mysql.server /etc/init.d/mysqldsystemctl daemon-reload [重新加载 service 文件]systemctl start mysqldsystemctl stop mysqldsystemctl restart mysqld 创建新用户，并允许远程连接123456789101112命令: GRANT ALL PRIVILEGES ON *.* TO 'username'@'host' IDENTIFIED BY 'new_password' WITH GRANT OPTION; . 点代表所有表username 代表你创建的用户名host 代表你指定在那台机器可以登录，本地登录就是 localhost ，允许所有远程登录就是 % ；new_password 代表该用户的登录密码，密码可以为空，如果是空则改用户可以不需要密码登录demo:新增超级权限并允许远程访问：GRANT ALL PRIVILEGES ON *.* TO 'afei2'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION; FLUSH PRIVILEGES; MySQL 命令123456support-files/mysql.server startsupport-files/mysql.server stop/data/server/mysql/bin/mysql -u root -pmysql -h 你登录的ip -u username -P 3306 -p 【远程登录】demo： mysql -h 192.168.1.230 -u afei2 -p mysql 配置文件 my.cnf12345678910111213mysql5.7 以后版本中编译安装完后没有my.cnf 文件,需要自己创建./bin/mysql --help|grep 'my.cnf' #查看mysql默认读取的my.cnf/data/server/mysql 下新建 mkdir etc cd etctouch my.cnf #权限 chmod 644 /data/server/mysql/etc/my.cnf 权限过大会出问题chown mysql:mysql -R etc/my.cnf #用户在my.cnf 中修改日志配置测试文件是否生效[mysqld]log-error = /data/server/mysql/mysql_log/error.log mysql 命令行工具中 \\c 取消之前的输入,重新开始输入123mysql&gt; fdfds \\cmysql&gt; show tables ddjfkldjfdklsf \\cmysql&gt; show tables; mysql 命令行工具中 \\G 竖向显示内容 12mysql&gt; show tables \\G;mysql&gt; show table status \\G; mysql 命令行工具中 \\q 退出终端 1mysql&gt; \\q; mysql官方下载地址 mysql官方下载地址 mysql官方预编译配置参数 mysql官方手册","categories":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/categories/MySQL/"}],"tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://yoursite.com/tags/MySQL/"},{"name":"MySQL5.7","slug":"MySQL5-7","permalink":"http://yoursite.com/tags/MySQL5-7/"}]},{"title":"Ubuntu16 -nginx","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_nginx/","text":"Ubuntu16 -nginxUbuntu16 -nginxUbuntu16 -nginx 安装nginx 01安装nginx123456789sudo apt-get install nginx启动 ngnnx: sudo service nginx start扩展centos nginx 重启service nginx restart/etc/init.d/nginx stop/etc/init.d/nginx start 查看nginx配置文件目录123ps -aux | grep nginx 【返回结果包含安装目录】nginx -t 【返回结果包含配置文件目录】cat /etc/nginx/nginx.conf 编译安装02安装必要的编译环境,[ 在ubuntu18中编译安装参考另一篇文章]Tengine 安装需要使用源代码自行编译，所以安装前需要安装必要的编译工具 1234567sudo apt-get install build-essentialsudo apt-get install libtoolsudo apt-get install g++centos 平台编译环境命令：yum -y install gcc automake autoconf libtool makeyum install gcc gcc-c++ 安装所需要的组件【pcre、openssl、zlib】，组件安装的时候注意路径 PCRE12345678!!!只需要解压即可,nginx安装的时候,指定到解压目录就okwget ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.38.tar.gz解压到你指定的目录tar -zxvf pcre-8.38.tar.gz -C /data/server/nginx_componentmv pcre-8.38 pcrecd pcre/./configure --prefix=/data/server/nginx_component/pcremake &amp;&amp; make install OpenSSL12345678!!!只需要解压即可,nginx安装的时候,指定到解压目录就okwget http://www.openssl.org/source/openssl-1.0.2.tar.gz解压到你指定的目录tar -zxvf openssl-1.0.2.tar.gz -C /data/server/nginx_componentmv openssl-1.0.2 opensslcd openssl/./config --prefix=/data/server/nginx_component/opensslmake &amp;&amp; make install Zlib12345678!!!只需要解压即可,nginx安装的时候,指定到解压目录就okwget http://zlib.net/zlib-1.2.11.tar.gz解压到你指定的目录tar -zxvf zlib-1.2.11.tar.gz -C /data/server/nginx_componentmv zlib-1.2.11 zlibcd zlib/./configure --prefix=/data/server/nginx_component/zlibmake &amp;&amp; make install 下载nginx安装包，我选择的是 1.4.2123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051./configure --help 可以查看nginx的编译参数说明,这里可以看到nginx需要的【pcre、openssl、zlib】的源码位置,所有者三个东西可以不用需要编译安装,只需要有源码即可wget http://nginx.org/download/nginx-1.4.2.tar.gz解压到 /data/server/nginx 目录（可以根据实际情况选择目录）：tar -zxvf nginx-1.4.2.tar.gz -C /data/server/mv nginx-1.4.2 nginxcd nginx##注意路径 ./configure --prefix=/data/server/nginx \\--with-http_ssl_module \\--with-pcre=/data/server/nginx_component/pcre \\--with-zlib=/data/server/nginx_component/zlib \\--with-openssl=/data/server/nginx_component/openssl make &amp; make install 安装完的提示：.........test -f '/data/server/nginx/nginx.conf' || cp conf/nginx.conf '/data/server/nginx/nginx.conf'cp conf/nginx.conf '/data/server/nginx/nginx.conf.default'test -d '/data/server/nginx' || mkdir -p '/data/server/nginx'test -d '/usr/local/nginx/logs' || mkdir -p '/usr/local/nginx/logs'test -d '/usr/local/nginx/html' || cp -R html '/usr/local/nginx'test -d '/usr/local/nginx/logs' || mkdir -p '/usr/local/nginx/logs'make[1]: Leaving directory '/data/server/nginx'[1]+ Exit 2 ****************************-------------如果执行make报错-----------cc1: all warnings being treated as errorsobjs/Makefile:447: recipe for target 'objs/src/core/ngx_murmurhash.o' failedmake[1]: *** [objs/src/core/ngx_murmurhash.o] Error 1make[1]: Leaving directory '/data/download/nginx-1.4.2'Makefile:8: recipe for target 'build' failedmake: *** [build] Error 2-------- 修改 /nginx-1.4.2/objs/Makefile----现在修改 /nginx-1.4.2/objs/Makefile 2 CC = cc 3 CFLAGS = -pipe -O -W -Wall -Wpointer-arith -Wno-unused -Werror -g 4 CPP = cc -E 5 LINK = $(CC)去掉这里面的 -Werror 重新make,不要重新编译---------------------------------------makemake install**************************** 注意配置的时候 –with-pcre 、–with-openssl、–with-zlib的路径为源文件的路径 检测是否可用12/data/server/nginx/nginx -t./nginx -t 报错：12345678安装完会有异常,没有 pid 文件，那就创建一个 pid 文件root@ubuntu:/data/server/nginx# /data/server/nginx/nginx -s reloadnginx: [error] open() \"/data/server/nginx/nginx.pid\" failed (2: No such file or directory)root@ubuntu:/data/server/nginx# touch nginx.pidroot@ubuntu:/data/server/nginx# /data/server/nginx/nginx -s reloadnginx: [error] invalid PID number \"\" in \"/data/server/nginx/nginx.pid\"root@ubuntu:/data/server/nginx# /data/server/nginx/nginx -c /data/server/nginx/conf/nginx.confroot@ubuntu:/data/server/nginx# /data/server/nginx/nginx -s reload 命令1234567/data/server/nginx/nginx -t 【检查配置】/data/server/nginx/nginx 【启动命令】/data/server/nginx/nginx -s stop 【停止命令】/data/server/nginx/nginx -s reload 【重启命令：】pid出错时，可以使用这个：/data/server/nginx/nginx -c /data/server/nginx/conf/nginx.conf 编译安装03下载1234当前操作目录位置： /home/fei/serverwget http://nginx.org/download/nginx-1.4.2.tar.gztar -zxvf nginx-1.4.2.tar.gz -C /home/fei/servercd nginx-1.4.2 配置12345678910111213./configure --prefix=/data/server/nginx-1.4.2发现少包，安装缺少的包sudo apt-get install libpcre3 libpcre3-dev 再次配置【 一直到不在缺少包 】./configure --prefix=/data/server/nginx-1.4.2【 常见缺少少包： pcre、openssl、zlib，安装这三个包命令如下】sudo apt-get install libpcre3 libpcre3-dev sudo apt-get install openssl libssl-dev sudo apt-get install zlib1g-dev 配置 OK 后，继续操作 编译安装1make &amp;&amp; make install 检测是否可用1/data/server/nginx-1.4.2/sbin/nginx -t 安装完成后，原文件就没有用了 命令12345678910111213/data/server/nginx/nginx -t 【检查配置】/data/server/nginx/nginx 【启动命令】/data/server/nginx/nginx -s stop 【停止命令】/data/server/nginx/nginx -s reload 【重启命令：】/data/server/nginx/nginx -v 【查看nginx版本】/data/server/nginx/nginx -V 【大写V 检查编译参数】pid出错时，可以使用这个：/data/server/nginx/nginx -c /data/server/nginx/conf/nginx.conf让nginx 返回http状态码return 403;return 500; 其他让普通用户可以启动nginx1234用root用户进入....nginx/sbin然后chown root nginxchmod u+s nginx然后通过普通用户就可以启动了。 nginx 官网 nginx 官网下载 nginx 官网linux安装","categories":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/categories/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"}]},{"title":"Ubuntu -nginx配置","date":"2014-02-04T16:00:00.000Z","path":"2014/02/05/ubuntu/linux_ubuntu_nginx_02/","text":"Ubuntu -nginx配置Ubuntu -nginx配置 日志切割 testlog.sh使用脚本切割 nginx 日志，脚本内容如下 123456789101112131415161718192021222324252627282930313233--------------------------nginx.conf--------------------- #打开注释 #log_format main server &#123; listen 80; server_name test.com; location / &#123; root test.com; index index.html index.htm; &#125; access_log logs/test.com.access.log main; &#125; --------------------------testlog.sh---------------------#!/bin/bashLOGPATH=/data/server/nginx-1.4.2/logs/test.com.access.logBASEPATH=/data/$(date -d yesterday +%Y%m)mkdir -p $BASEPATHbak=$BASEPATH/$(date -d yesterday +%Y%m%d%H%M).test.com.access.log#echo $bakmv $LOGPATH $baktouch $LOGPATHkill -USR1 cat /data/server/nginx-1.4.2/logs/nginx.pid-------------------------------------------------- location 精准匹配，正则匹配1234Syntax: location [ = | ~ | ~* | ^~ ] uri &#123; ... &#125;location @name &#123; ... &#125;Default: —Context: server, location location 模块 location 二级目录,忽略index.html12 rewrite 重写12345location /h5cfsh &#123; index index.html; root /usr/local/apache2/htdocs/cfsh/h5cfsh/dist/; rewrite ^(.*)$ /index.html break;&#125; rewrite 重写 Laravel 和 Vue 部署12345678910111213141516171819202122server &#123; listen 80; server_name demo.dafei.com; #client_max_body_size 1000m; charset utf-8; root E:/web/laravel_demo/public/; index index.php index.html; location / &#123; autoindex on; try_files $uri $uri/ /index.php?$query_string; &#125; location ~ .+\\.php($|/) &#123; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; include fastcgi.conf; &#125; location /web &#123; alias E:/web/vue_demo/dist/; index index.html; #autoindex on; &#125;&#125; rewrite 重写—代理1234location /api &#123; #代理到某个地址api proxy_pass http://127.0.0.1:8080/api; &#125;","categories":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/categories/Nginx/"}],"tags":[{"name":"Nginx","slug":"Nginx","permalink":"http://yoursite.com/tags/Nginx/"}]},{"title":"-mkdir  -rmdir 显示目录列表","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_mkdir_rmdir/","text":"-mkdir -rmdir 显示目录列表mkdir 不指定参数，创建文件默认权限 为 755 rwxr-xr-x 命令格式1mkdir [选项] [参数] 选项123-m&lt;目标属性&gt;或--mode&lt;目标属性&gt;建立目录的同时设置目录的权限；-p或--parents 若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录；--version 显示版本信息。 参数目录：指定要创建的目录列表，多个目录之间用空格隔开 demo选项 -m 创建目录并设置权限1mkdir -m 700 /www/test #在 /www 目录下创建子目录test，并设置 700 权限 选项 -m 创建 子目录1mkdir -p aaa/bbb #在当前目录创建 aaa 目录 和 aaa下的bbb目录 rmdir只可以删除空目录 命令格式1rmdir [选项] [参数] 选项1234-p或--parents：删除指定目录后，若该目录的上层目录已变成空目录，则将其一并删除；-v或-verboes：显示命令的详细执行过程；--help：显示命令的帮助信息；--version：显示命令的版本信息。 参数目录列表：要删除的空目录列表。当删除多个空目录时，目录名之间使用空格隔开。 选项 -p 删除空目录12rmdir aaa/bbb #删除 bbb 目录rmdir -p aaa/bbb #删除 bbb 目录，如果aa目录是空也一并删除","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"mkdir","slug":"mkdir","permalink":"http://yoursite.com/tags/mkdir/"},{"name":"rmdir","slug":"rmdir","permalink":"http://yoursite.com/tags/rmdir/"}]},{"title":"-mv 移动或重命名文件/目录","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_mv/","text":"mv 移动或重命名文件/目录mv 移动或重命名文件/目录mv 移动或重命名文件/目录 移动文件移动文件时需要注意的是文件的源地址和目标地址必须不同。这里有个例子，想要将file_1.txt文件从当前目录移动到其它目录，以/home/destination_file为例，语法应该如下： 1mv file_1.txt /home/destination_file/ 移动多个文件如果想一次移动多个文件，我们可以将他们放在一行并用空格分开。 123mv file_2.txt file_3.txt file_4.txt /home/destination_file/或者mv file_&#123;2,3,4&#125;.txt /home/destination_file/ 如果你的文件夹有规律可循那么你就可以使用通配符，比如，为了移除所有以.txt为扩展名的文件夹，我们可以使用下面的命令： 1mv *.txt /home/destination_file/ 移动目录不同于复制命令，用mv命令移动目录相当于直接。移动目录你可以使用不带选项的mv命令。 1mv /soruce_file/ /home/destination_file/ 重命名文件或目录我们也用mv命令来重命名文件或目录，不过目标位置必须相同才可以。然后文件名字必须不同。假定我们当前做所在目录为/home/soruce_file 123mv file_1.txt file_new1.txt如果是绝对路径，应该像下面这样：mv /home/soruce_file/file_2.txt /home/soruce_file/file_new2.txt 重命名目录12上一段的规则同样适用于目录。mv /home/soruce_file/ /home/soruce_file2/ 打印移动信息当你移动或重命名一大堆文件或目录时，你可能会想在不去目标位置去查看的情况下知道自己的命令是否成功地执行了。这就用到-v选项了。 1mv -v /home/soruce_file2/*.txt /home/destination_file/ 使用交互模式当你将文件移动到其他位置，而那个位置恰好有同样的文件，这时mv命令会覆盖掉原来的文件，对于mv的这一行为一般不会有什么提示。如果想产生一个关于覆盖文件的提示，我们可以使用-i选项。 1mv -i /home/soruce_file2/file_3.txt /home/destination_file/ 这个提示会让我们知道目标位置处file_3.txt的存在。如果我们按y键，那么那个文件将会被删除，否则不会 使用更新选项-i 选项会提示我们关于覆盖文件的提示，而 -u 则只在源文件比目标文件新时才执行更新，如果目标文件比源文件新，则不会执行。让我们看一看下面的例子： 1mv -uv /home/soruce_file2/*.txt /home/destination_file/ 不要覆盖任何已存在的文件如果-i选项询问我们是否覆盖文件，那么-n选项将不会允许我么覆盖任何已存在的文件， 1mv -vn /home/soruce_file2/file_new_time2.txt /home/destination_file/ 复制时创建备份默认情况下，移动文件将会覆盖已存在的目标文件。但是如果我们移动错了文件而目标文件已经被新的文件覆盖了，这时应该怎么办才好呢？-b选项可以办到，该选项会在新文件覆盖旧文件时将旧文件做备份。 1mv -bv /home/soruce_file2/file_new_time2.txt /home/destination_file/ 无条件覆盖已经存在的文件覆盖已经存在的文件或目录，使用-f选项。如果同时指定了 -f 选项和 -i 或 -n 选项，则 -f 选项会覆盖它们——即不进行任何提示而覆盖。所以在使用此参数的时候，你要保持头脑清醒，知道自己在做什么。 1mv -f /home/soruce_file2/file_new_time2.txt /home/destination_file/ 总结移动文件和目录命令是Linux系统的基本命令。通常你可以通过man mv 或者 mv –help显示mv的手册页以了解更多详细信息。","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"mv","slug":"mv","permalink":"http://yoursite.com/tags/mv/"}]},{"title":"hexo 迁移环境","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/hexo/hexo_博客迁移环境/","text":"hexo 迁移环境hexo 迁移环境hexo 迁移环境迁移后为了确保 node 版本一致,这里采用 nvm 管理 node方式 安装环境nvm安装 nvm, 配置 node 环境 下载 nvm 123在 github 上下载https://github.com/coreybutler/nvm-windows/releases 选择 nvm-setup.zip 版本 nvm-setup.zip 1.1.8 查看 nvm 版本 12#安装完 nvm 后查看版本nvm version #查看版本 修改配置 123#修改配置文件settings.txt,设置下载源node_mirror: https://npm.taobao.org/mirrors/node/ npm_mirror: https://npm.taobao.org/mirrors/npm/ 安装 node 版本 12345678910111213141516nvm install 8.17.0 #本文只安装这个即可nvm install 14.18.0#出已经安装的node版本 nvm ls#选择使用 `node` 版本nvm use 8.17.0nvm use 14.18.0#查看node 版本node -vnpm -v#看远程所有可以用的node版本nvm ls available (windows中命令) 环境 node8.17.0 使用本文采用局部安装使用,所以用的命令带 npx hexo,如果是全局安装的可以直接使用 hexo 命令比如: npx hexo g ; hexo g 局部安装 hexo 包npm install hexo 查看 hexo 版本npx hexo -v 开始使用 1234npx hexo g #生成静态文件npx hexo d #部署npx hexo b #部署npx hexo s -p5000 #启动本地服务,开始预览 4) xxx 使用项目提示–fei新系统下载完这个项目后，node自行安装，开发使用的node版本为node-8.17.0 备用为node-v10.13.0-x64.msi 123456789#node-v8.17.0 自行安装 npm install hexo-cli -ghexo -vnpm installhexo ghexo server -p5000#这时候会出现访问地址，就启动OK#考虑node安装完后npm下载速度可以使用yarn-1.15.2.msi这个版本 注意.deploy_git文件中第一次使用会不识别大小写,这是由于Git默认对于文件名大小写是不敏感的 配置git使其对文件大小写敏感 12git config core.ignorecase 默认为true //忽略文件名大小写git config core.ignorecase false 然后你需要把远程中大小写的文件删除,然后把本地修改好的重新添加提交推送到远程(切记:直接修改后推送是没有效果的) Hexo 官网","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"}]},{"title":"hexo常用命令笔记","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/hexo/hexo常用命令笔记/","text":"hexo常用命令笔记hexo常用命令笔记hexo常用命令笔记 hexo123npm install hexo -g #安装 npm update hexo -g #升级 hexo init #初始化 简写12345hexo n \"我的博客\" == hexo new \"我的博客\" #新建文章hexo p == hexo publishhexo g == hexo generate#生成hexo s == hexo server #启动服务预览hexo d == hexo deploy#部署 服务器1234567hexo server #Hexo 会监视文件变动并自动更新，您无须重启服务器。hexo server -s #静态模式hexo server -p 5000 #更改端口hexo server -i 192.168.1.1 #自定义 IPhexo clean #清除缓存 网页正常情况下可以忽略此条命令hexo g #生成静态网页hexo d #开始部署 监视文件变动123456789hexo generate #使用 Hexo 生成静态文件快速而且简单hexo generate --watch #监视文件变动完成后部署两个命令的作用是相同的hexo generate --deployhexo deploy --generatehexo deploy -ghexo server -g 草稿1hexo publish [layout] &lt;title&gt; 模版123456789hexo new \"postName\" #新建文章hexo new page \"pageName\" #新建页面hexo generate #生成静态页面至public目录hexo server #开启预览访问端口（默认端口4000，'ctrl + c'关闭server）hexo deploy #将.deploy目录部署到GitHubhexo new [layout] &lt;title&gt;hexo new photo \"My Gallery\"hexo new \"Hello World\" --lang tw 变量 描述 layout 布局 title 标题 date 建立 12345678910title: 使用Hexo搭建个人博客layout: postdate: 2014-03-03 19:07:43comments: truecategories: Blogtags: [Hexo]keywords: Hexo, Blogdescription: 暮色匆匆去，音消尘也无模版（Scaffold）hexo new photo \"My Gallery\" 设置文章摘要以上是文章摘要 以下是余下全文 写作12hexo new page &lt;title&gt;hexo new post &lt;title&gt; 变量 描述 :title 标题 :year 建立的年份（4 位数） :month 建立的月份（2 位数） :i_month 建立的月份（去掉开头的零） :day 建立的日期（2 位数） :i_day 建立的日期（去掉开头的零） 推送到服务器上123hexo n #写文章hexo g #生成hexo d #部署 #可与hexo g合并为 hexo d -g 报错1.找不到git部署 1ERROR Deployer not found: git 解决方法 1npm install hexo-deployer-git --save 3.部署类型设置githexo 3.0 部署类型不再是github，_config.yml 中修改 123456# Deployment## Docs: http://hexo.io/docs/deployment.htmldeploy: type: git repository: git@***.github.com:***/***.github.io.git branch: master xcodebuild 123xcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instancenpm install bcrypt RSS不显示安装RSS插件 1npm install hexo-generator-feed --save 开启RSS功能编辑hexo/_config.yml，添加如下代码： 1rss: /atom.xml #rss地址 默认即可 开启评论1.我使用多说代替自带的评论，在多说 网站注册 &gt; 后台管理 &gt; 添加新站点 &gt; 工具 === 复制通用代码 里面有 short_name 1 在根目录 _config.yml 添加一行 disqus_shortname: jslite 是在多说注册时产生的复制到 themes\\landscape\\layout\\_partial\\article.ejs2 把 1234567&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;&lt;section id=\"comments\"&gt;&lt;div id=\"disqus_thread\"&gt; &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=\"//disqus.com/?ref_noscript\"&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;&lt;/div&gt;&lt;/section&gt;&lt;% &#125; %&gt; 改为 1234567891011121314151617181920&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt; &lt;section id=\"comments\"&gt; &lt;!-- 多说评论框 start --&gt; &lt;div class=\"ds-thread\" data-thread-key=\"&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;\" data-title=\"&lt;%= post.title %&gt;\" data-url=\"&lt;%= page.permalink %&gt;\"&gt;&lt;/div&gt; &lt;!-- 多说评论框 end --&gt; &lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt; &lt;script type=\"text/javascript\"&gt; var duoshuoQuery = &#123;short_name:'&lt;%= config.disqus_shortname %&gt;'&#125;; (function() &#123; var ds = document.createElement('script'); ds.type = 'text/javascript';ds.async = true; ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js'; ds.charset = 'UTF-8'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds); &#125;)(); &lt;/script&gt; &lt;!-- 多说公共JS代码 end --&gt; &lt;/section&gt;&lt;% &#125; %&gt; hexo-git-backup12345678910111213141516安装备份插件参考网址： https://github.com/coneycode/hexo-git-backupUpdateif you install with --save, you must remove firstly when you update it.$ npm remove hexo-git-backup$ npm install hexo-git-backup --save--------------------------------------安装主题参考网址： https://github.com/chaooo/hexo-theme-BlueLakegit clone https://github.com/chaooo/hexo-theme-BlueLake.git themes/BlueLake-------------------------------------生成、部署hexo ghexo dhexo bhexo server -p 5000 【本地查看】或者 hexo s -p 5000 hexo12","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"}]},{"title":"-vim  编辑文件","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_vim/","text":"vim 编辑文件vim 编辑文件vim 编辑文件 跳转到指定行123:5 回车:10 回车:15 回车 替换123456789利用 :s 命令可以实现字符串的替换。具体的用法包括：:s/str1/str2/ 用字符串 str2 替换[行]中[首次]出现的字符串 str1:s/str1/str2/g 用字符串 str2 替换[行]中[所有]出现的字符串 str1:.,$ s/str1/str2/g 用字符串 str2 替换[正文]当前[行到末尾]所有出现的字符串 str1:1,$ s/str1/str2/g 用字符串 str2 替换[正文]中[所有]出现的字符串 str1:g/str1/s//str2/g 功能同上:%s/^/dada 在每行开始添加dada:%s/$/feifei 在每行末尾添加feifei 其他1234u #撤销ctrl + r #反撤销shift + G #最后一行:set nu #显示行号","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"vim","slug":"vim","permalink":"http://yoursite.com/tags/vim/"}]},{"title":"-xargs  用作替换工具，读取输入数据重新格式化后输出","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_xargs/","text":"xargs 用作替换工具，读取输入数据重新格式化后输出xargs 用作替换工具，读取输入数据重新格式化后输出xargs 用作替换工具，读取输入数据重新格式化后输出 demo在目录中搜索含有固定字符串文件命令，比如：在当前目录(及其子目录)中搜索扩展名为 .txt 结尾文件中包含 hello 的内容的行 1234567891011搜索文件中内容grep \"hello\" test01.txt查找 .txt 结尾的文件find -name \"*.txt\"find /home/fei/www -name \"*.txt\"******************************************************************************find -name \"*.txt\" | xargs grep \"hello\"find /home/fei/www -name \"*.txt\" | xargs grep \"hello\"locate *.txt | xargs grep \"hello\" 单行输出文本内容123cat test01.txt | xargscat test01.txt | xargs -n3 [选项 -n] 其他使用场景demo12cat url.txt | xargs wget -c [下载url.txt 中链接的内容]ls | xargs -n2","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"xargs","slug":"xargs","permalink":"http://yoursite.com/tags/xargs/"}]},{"title":"-rm  删除文件或目录","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_rm/","text":"rm 删除文件或目录rm 删除文件或目录rm 删除文件或目录 命令格式1rm [选项] 文件… 命令参数​ -d： 直接把欲删除的目录的硬连接数据删除成0，删除该目录；​ -f, –force 忽略不存在的文件，从不给出提示。​ -i, –interactive 进行交互式删除​ -r, -R, –recursive 指示rm将参数中列出的全部目录和子目录均递归地删除。​ -v, –verbose 详细显示进行的步骤​ –help 显示此帮助信息并退出​ –version 输出版本信息并退出 选项 i 交互式删除1rm -i aaa.txt baa.txt 选项 r 递归删除目录及子目录中文件1rm -r aaa/ 选项 f 直接删除没有任何提示1rm -f bbaa.txt 选项 v 详细显示进行的步骤1rm -v bbb.txt 选项 i 交互式删除，某一类文件1rm -i *aa.txt 排除指定文件删除123456789删除所有 txt 结尾的文件，除了 aaa.txt rm `ls *.txt|egrep -v aaa.txt`rm `ls *.txt|egrep -v '(aaa.txt|bbb.txt|ccc.txt)'`rm `ls *.txt|egrep -v '(aaa.*)'`rm `ls *.txt|egrep -v '(*.md)'` rm命令可以用 -i 选项，这个选项在使用文件扩展名字符删除多个文件时特别有用 ………………………………unlink 命令删除文件，不能删除目录………………………… demo: 删除文件 test02.txt 1unlink test02.txt","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"rm","slug":"rm","permalink":"http://yoursite.com/tags/rm/"}]},{"title":"-tar  打包文件","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_tar/","text":"tar 打包文件tar 打包文件 首先要弄清两个概念：打包和压缩。打包是指将一大堆文件或目录变成一个总的文件；压缩则是将一个大的文件通过一些压缩算法变成一个小文件 命令格式1tar [选项] [参数] 选项1234567-C &lt;目录&gt;：这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。-x或--extract或--get：从备份文件中还原文件-t或--list：列出备份文件的内容；-z或--gzip或--ungzip：通过gzip指令处理备份文件；-f&lt;备份文件&gt;或--file=&lt;备份文件&gt;：指定备份文件；-v或--verbose：显示指令执行过程；-j：支持bzip2解压文件； demo普通打包123tar -cvf aaa_ccc.tar aaa_bbb #仅打包不压缩tar -tvf aaa_ccc.tar #查看包里面文件tar -xvf aaa_ccc.tar -C /home/fei/web/ #解压到 /home/fei/web/ 目录下 以 gzip 压缩1234567tar -zcvf aaa_bbb.tar.gz aaa_bbb #打包后，以 gzip 压缩 tar -ztvf aaa_bbb.tar.gz #查看包里面文件tar -zxvf aaa_bbb.tar.gz -C /home/fei/web/ #解压到 /home/fei/web/ 目录下tar -xvf aaa_bbb.tar.gz -C /home/fei/web/ #没有参数z由于使用 gzip 压缩aaa_bbb.tar.gz 的文件,所以查看的时候aaa_bbb.tar.gz包内文件时,加上 z 这个参数tip: 在这里其实没有 z 这个参数有可以查看 以 bzip2 压缩123456tar -jcvf aaa_bbb.tar.bz2 aaa_bbb #打包后，以 bzip2 压缩 tar -jtvf aaa_bbb.tar.bz2 #查看包里面文件tar -jxvf aaa_bbb.tar.bz2 -C /home/fei/web/ #解压到 /home/fei/web/ 目录下tar -xvf aaa_bbb.tar.bz2 -C /home/fei/web/ #没有参数jtip: 在这里其实没有 j 这个参数有可以查看 打包后用当前时间命名12tar -cvf fei_$(date '+%Y-%m-%d').tar codeFileNametar -cvf fei_$(date '+%m%d')_01.tar codeFileName","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"tar","slug":"tar","permalink":"http://yoursite.com/tags/tar/"}]},{"title":"Markdown语法02","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/hexo/Markdown语法02/","text":"Markdown语法02Markdown语法02Markdown语法02 列表嵌套1主要是使用: 空格 Tab shift+Tab backspace 这三个键的使用 天津 河北 保定 ( 回车后 backspace 键,然后 * 空格 ) 石家庄 ( 直接回车就可以 ) 邢台 北京 昌平区 ( 回车后 Tab 键 ) 顺义区 ( 直接回车 ) 朝阳区 海淀区 中关村街道 ( 回车后 Tab 键 ) 清华园街道 西三旗街道 上海 浦东新区 ( 回车后 backspace 键, * 空格) 松江区 ( 直接回车 ) 青浦区 河北 (回到上一级 shift + tab ) 山西 流程图可以使用 typora 查看效果(兼容不好) 横向流程图12345graph LR00[公交] --&gt; 01(地铁)01--&gt;02&#123;条件ticket&#125;02--&gt;|ticket=上海| 03[目的地上海市]02--&gt;|ticket=天津| 04[目的地天津市] 竖向流程图12345graph TD00[公交] --&gt; 01(地铁)01--&gt;02&#123;条件ticket&#125;02--&gt;|ticket=上海| 03[目的地上海市]02--&gt;|ticket=天津| 04[目的地天津市] 标准流程图123456789st=&gt;start: 开始框op=&gt;operation: 处理框cond=&gt;condition: 判断框(是或否?)sub1=&gt;subroutine: 子流程io=&gt;inputoutput: 输入输出框e=&gt;end: 结束框st-&gt;op-&gt;condcond(yes)-&gt;io-&gt;econd(no)-&gt;sub1(right)-&gt;op 标准流程图源码格式(横向)123456789st=&gt;start: 开始框op=&gt;operation: 处理框cond=&gt;condition: 判断框(是或否?)sub1=&gt;subroutine: 子流程io=&gt;inputoutput: 输入输出框e=&gt;end: 结束框st(right)-&gt;op(right)-&gt;condcond(yes)-&gt;io(bottom)-&gt;econd(no)-&gt;sub1(right)-&gt;op","categories":[{"name":"Markdown","slug":"Markdown","permalink":"http://yoursite.com/categories/Markdown/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"http://yoursite.com/tags/Markdown/"}]},{"title":"-uniq 用于统计或忽略文件中的重复行","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_uniq/","text":"介绍：uniq 用于统计或忽略文件中的重复行。一般与 sort 命令结合使用。介绍：uniq 用于统计或忽略文件中的重复行。一般与 sort 命令结合使用。介绍：uniq 用于统计或忽略文件中的重复行。一般与 sort 命令结合使用。 !!! 注意要是连续的行,才可以统计 !!! uniq 命令格式1uniq [选项] [参数] 选项12-c或——count：在每列旁边显示该行重复出现的次数；-d或--repeated：仅显示重复出现的行列； demo测试文本内容 12345678910LinuxHTMLCSSJavaScriptHTMLCSSJavaScriptCSSJavaScriptJavaScript -c 统计文件中出现次数12uniq -c fei.txt #如果重复行是连续的,直接用这个sort fei.txt | uniq -c -d 在文件中找出重复行12uniq -d fei.txt #如果重复行是连续的,直接用这个sort fei.txt | uniq -d","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"uniq","slug":"uniq","permalink":"http://yoursite.com/tags/uniq/"}]},{"title":"-sh  shell 脚本","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_sh/","text":"sh shell 脚本sh shell 脚本sh shell 脚本 简单shell，打印昨天时间，并输出到屏幕上，注意 反引号echo 把执行命令的返回结果输出到屏幕上运行脚本 sh test.sh ; test.sh 内容如下 123456#!/bin/bashecho 'date -d yesterday +%Y%m%d' #没有使用反引号echo `date -d yesterday +%Y%m%d` #使用反引号，输出昨天时间echo `ls /www` #使用反引号，显示 www 目录下文件touch /www/test.txt #在 www 目录下创建 test.txt 文件 demo 2,创建文件，运行命令 sh testlog.sh 12345#!/bin/bashBASEPATH=/data/$(date -d yesterday +%Y%m)bak=$BASEPATH/$(date -d yesterday +%Y%m%d%H%M).test.txtmkdir -p $BASEPATHecho $BASEPATH demo3 运行 test.sh 文件使用 source 命令123456source test.sh # 四个的区别区别, 执行权限; 脚本报错后是否继续执行1) ./test.sh2) sh test.sh3) . test.sh4) source test.sh 利用当前时间作为目录12#!/bin/bashcp -arv /home/fei/www/aaa/ \"/home/fei/www/ffffffffffff_\"$(date +%Y%m%d%H%M) 其他12345678910cat /etc/shells 使用 #sh test.sh #dash test.sh #bash test.sh #rbash test.sh 都是可以执行的 root@ubuntu:/home/fei/web# cat /etc/shells # /etc/shells: valid login shells/bin/sh/bin/dash/bin/bash/bin/rbashroot@ubuntu:/home/fei/web#","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"shell","slug":"shell","permalink":"http://yoursite.com/tags/shell/"}]},{"title":"-scp  Linux之间复制文件和目录","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_scp/","text":"scp Linux之间复制文件和目录 scp 简介scp是secure copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读 read only system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然 rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用 命令格式scp [参数] [原路径] [目标路径] 命令参数-1 强制scp命令使用协议ssh1-2 强制scp命令使用协议ssh2-4 强制scp命令只使用IPv4寻址-6 强制scp命令只使用IPv6寻址-B 使用批处理模式（传输过程中不询问传输口令或短语）-C 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）-p 保留原文件的修改时间，访问时间和访问权限。-q 不显示传输进度条。-r 递归复制整个目录。-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。-c cipher 以cipher将数据传输进行加密，这个选项将直接传递给ssh。-F ssh_config 指定一个替代的ssh配置文件，此参数直接传递给ssh。-i identity_file 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。-l limit 限定用户所能使用的带宽，以Kbit/s为单位。-o ssh_option 如果习惯于使用ssh_config(5)中的参数传递方式，-P port 注意是大写的P, port是指定数据传输用到的端口号-S program 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项 使用实例使用scp前提：两台服务器必须都安装 ssh 从本地服务器复制到远程服务器复制文件1234567891011注意目标文件的权限:scp local_file remote_username@remote_ip:remote_folder或者scp local_file remote_username@remote_ip:remote_file或者scp local_file remote_ip:remote_folder或者scp local_file remote_ip:remote_filedemo：scp test2_01.test dafei@192.168.1.113:/data/www/test/ 第1,2个指定了用户名，命令执行后需要输入用户密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名第3,4个没有指定用户名，命令执行后需要输入用户名和密码（默认使用root），第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名 复制目录1234567-r参数不要遗漏：【否则报错： not a regular file】scp -r local_folder remote_username@remote_ip:remote_folder或者scp -r local_folder remote_ip:remote_folder demo:scp -r test2 dafei@192.168.1.113:/data/www/test/ 第1个指定了用户名，命令执行后需要输入用户密码；第2个没有指定用户名，命令执行后需要输入用户名和密码(默认使用root)； 从远程服务器复制到本地服务器从远程复制到本地的scp命令与上面的命令雷同，只要将从本地复制到远程的命令后面2个参数互换顺序就行了 从远程拷贝文件到本地目录 123scp root@remote_ip:remote_file local_folderdemo：scp dafei@192.168.1.87:/data/www/test2/test2_01.test /data/www/test/ 从远处复制目录到本地123scp -r root@remote_ip:remote_folder local_folderdemo:scp -r dafei@192.168.1.87:/data/www/test2 /data/www/test/ 其他 expect-nt","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"scp","slug":"scp","permalink":"http://yoursite.com/tags/scp/"}]},{"title":"-rename  文件重命名","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_rename/","text":"rename 文件重命名rename 文件重命名rename 文件重命名 命令格式，文件重命名1234567rename [-v] [-n] [-f] perlexpr[files]-v 打印被重命名的文件-n 只显示被重命名的文件，而不实际重命名-f 覆盖已经存在的文件perlexpr 语言格式的正则表达式 demo把 test02.txt 重命名为 test03.txt1rename 's/test02.txt/test03.txt/' test02.txt 参数 -v 打印被重命名的文件1rename -v 's/test03.txt/test02.txt/' test03.txt 参数 -n 只显示被重命名的文件，而不实际重命名1rename -n 's/test02.txt/test03.txt/' test02.txt [实际没有重命名] 参数 -f 覆盖已经存在的文件12rename -f 's/test02.txt/test08.txt/' test02.txtrename -f 's/test02.txt/test08.txt/' *.txt [也可以] 表达式中 替换用 s ,转化用 y 或者trdemo ： 将文件名改为大写12rename 'y/a-z/A-Z/' *.txtrename 'tr/a-z/A-Z/' *.txt","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"rename","slug":"rename","permalink":"http://yoursite.com/tags/rename/"}]},{"title":"-RegExp 正则","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_regExp/","text":"Regular Expression 简写 RegExp 正则表达式Regular Expression 简写 RegExp 正则表达式Regular Expression 简写 RegExp 正则表达式 基本常见1234// ^ 开始位置 $ 结束位置// [具体内容]&#123;次数&#125;^[a-z0-9_-]&#123;3,15&#125;$ 以JavaScript为例123456789101112131415/^[0-9]*$/g.test(\"123456798_fei\"); // false/^[0-9]*/g.test(\"123456798_fei\"); // true\"123\".match(/^[0-9]*$/g); // [\"123\"]\"123\".match(/^\\d*$/g); // [\"123\"]\"123_fei\".match(/^[0-9]*$/g); // null\"123_fei_456_foo_789\".match(/\\d&#123;3&#125;/g); // [\"123\", \"456\", \"789\"]\"123_fei_456_foo_789\".match(/[0-9]&#123;3&#125;/g); // [\"123\", \"456\", \"789\"]\"12_fei_34 56_fei_78 0_fei_9\".match(/\\d&#123;1,3&#125;/g); // [\"12\", \"34\", \"56\", \"78\", \"0\", \"9\"]\"123@qq.com---456@gmail.com\".match(/\\d*@[\\w]+[.]&#123;1&#125;\\w+/g);// [\"123@qq.com\", \"456@gmail.com\"] 12345678\"123_fei_456_foo_789\".replace(/[0-9]&#123;3&#125;/g,\",\"); \",_fei_,_foo_,\"\"123_fei_456_foo_789\".replace(/(?=[0-9]&#123;3&#125;)/g,\",\"); // (?=pattern)\",123_fei_,456_foo_,789\"\"123_fei_456_foo_789\".replace(/(?=\\B[0-9]&#123;3&#125;)/g,\",\"); // \\B\"123_fei_,456_foo_,789\" 手机号变*12// 中间4为变为*号\"13685468080\".replace(/^(\\d&#123;3&#125;)\\d&#123;4&#125;(\\d&#123;4&#125;)$/,\"$1****$2\") 去除空格1\"bar \".replace(/(^\\s*)|(\\s*$)/g, \"\") 匹配二级目录123456let dirname = window.location.pathname;let arr = dirname.match(/(\\/.*\\/)/g);console.log(arr);if (arr) &#123; // 如果是二级目录 console.log(arr[0].split(\"/\"));&#125; 常用正则表达式 正则_菜鸟教程 MDN_正则","categories":[{"name":"RegExp","slug":"RegExp","permalink":"http://yoursite.com/categories/RegExp/"}],"tags":[{"name":"RegExp","slug":"RegExp","permalink":"http://yoursite.com/tags/RegExp/"}]},{"title":"linux-DDU  将进程挂起  -nohup","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_nohup/","text":"nohup 命令可以将程序以忽略挂起信号的方式运行起来，被运行的程序的输出信息将不会显示到终端 经常和 &amp; 连用, 通俗理解: 后台运行,关闭当前窗口后命令也可以继续运行 常用命令1234567891011121314151617nohup command&gt;/dev/null 2&gt;&amp;1 &amp;# nohup 忽略挂起信号# &amp; 后台运行# command&gt;/dev/null 这条命令输出重定向到空设备# 2&gt;&amp;1 把标准输出错误重定向到标准输出, &amp;1对标准输出的引用# /dev/null 表示空设备文件# 0 表示stdin标准输入# 1 表示stdout标准输出# 2 表示stderr标准错误---- demo ---nohup php fei.php &gt; fei.log 2&gt;&amp;1 &amp;##关闭当前窗口改命令也可以继续在后台运行nohup php fei.php &gt;&gt; fei.log 2&gt;&amp;1 &amp; ### 把日志追加到 fei.log 文件中 其他1234567891011使用nohup命令提交作业，如果使用nohup命令提交作业，那么在缺省情况下该作业的所有输出都被重定向到一个名为nohup.out的文件中，除非另外指定了输出文件：nohup command &gt; myout.file 2&gt;&amp;1 &amp;# nohup 忽略挂起信号# &amp; 后台运行# command &gt; myout.file 这条命令输出重定向到myout.file中# 2&gt;&amp;1 把标准输出错误重定向到标准输出---- demo ---./test.sh &gt; fei.log 2&gt;&amp;1","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"nohup","slug":"nohup","permalink":"http://yoursite.com/tags/nohup/"}]},{"title":"-ls 显示目录列表","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_ls/","text":"ls 显示目录列表ls 显示目录列表ls 显示目录列表 命令格式1ls[选项][文件][目录] 命令参数1234567891011121314151617181920212223242526272829303132-a：显示所有档案及目录（ls内定将档案名或目录名称为“.”的视为影藏，不会列出）；-A：显示除影藏文件“.”和“..”以外的所有文件列表；-c：与“-lt”选项连用时，按照文件状态时间排序输出目录内容，排序的依据是文件的索引节点中的ctime字段。与“-l”选项连用时，则排序的一句是文件的状态改变时间；-C：多列显示输出结果。这是默认选项；-l：与“-C”选项功能相反，所有输出信息用单列格式输出，不输出为多列；以长格式显示目录下的内容列表。输出的信息从 左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等；-L：如果遇到性质为符号链接的文件或目录，直接列出该链接所指向的原始文件或目录；-f：此参数的效果和同时指定“aU”参数相同，并关闭“lst”参数的效果；-F：在每个输出项后追加文件的类型标识符，具体含义：“*”表示具有可执行权限的普通文件，“/”表示目录，“@”表示符号链接，“|”表示命令管道FIFO，“=”表示sockets套接字。当文件为普通文件时，不输出任何标识符；-r：以文件名反序排列并输出目录内容列表；-R：递归处理，将指定目录下的所有文件及子目录一并处理；--full-time：列出完整的日期与时间； 等价于full-iso--time-style=long-iso 显示时间风格//////////// 以下不经常用到 //////////////-b：将文件中的不可输出的字符以反斜线“”加字符编码的方式输出；-d：仅显示目录名，而不显示目录下的内容列表。显示符号链接文件本身，而不显示其所指向的目录列表；-i：显示文件索引节点号（inode）。一个索引节点代表一个文件；-k：以KB（千字节）为单位显示文件大小；-m：用“,”号区隔每个文件和目录的名称；-n：以用户识别码和群组识别码替代其名称；-s：显示文件和目录的大小，以区块为单位；-t：用文件和目录的更改时间排序；--color[=WHEN]：使用不同的颜色高亮显示不同类型的。 选项 a 、c 、 l 显示目录12345678ls -als -Als -cls -C [ 大写 ]ls -l [常用这个]ls -L 选项 full-time123ls --full-timels -l --time-style=long-isols -l --time-style=local 排除某些文件显示123456ls *.txt|egrep -v '(*.md)'ls *.txt|egrep -v *.mdls | grep -v aaa.txtls *.txt | grep -v aaa.txtls *.txt | egrep -v aaa.txt 显示某一目录下文件，显示 www 目录下文件1ls -l /www","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"ls","slug":"ls","permalink":"http://yoursite.com/tags/ls/"}]},{"title":"Markdown语法01","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/hexo/Markdown语法01/","text":"Markdown语法01Markdown语法01Markdown语法01 在头部显示大纲使用 [TOC] 可以在顶部显示目录，在Markdown中写如下 demo： 1234567891011[TOC]## 1.创建大纲和目录的必要性### 大纲### 目录## 2.使用的软件### typora### markdown语法##3.怎么创建大纲和目录### 怎么创建大纲### 怎么创建目录 这里是标题内容start 代码和代码块代码分为行内代码和代码块行内代码使用&lt;p&gt;这里使用代码块&lt;/p&gt; 这里没有代码块 代码语法高亮1echo \"dddddd\"; 12var abc = \"123\";alert(abc); 图片语法1![这是一张图片](https://github.githubassets.com/images/icons/emoji/octocat.png \"这是一张图片\") 超链接语法 这是一个超链接 折叠和收起details：折叠语法标签summary：折叠语法展示的摘要pre：以原有格式显示元素内的文字是已经格式化的文本 ——保持空格换行code：指定代码范例blockcode：表示程序的代码块 行与行之间不能有多余的空行 基本效果011234&lt;details&gt; &lt;summary&gt;我是Title&lt;/summary&gt; 我是content!!!&lt;/details&gt; 我是Title 我是content!!! 效果02 pre1234567891011&lt;details&gt; &lt;summary&gt;我是pre&lt;/summary&gt; &lt;p&gt; 我是pre__content,我可以保留空格,代码的格式化效果&lt;/p&gt; &lt;pre&gt; public class HelloWorld &#123; public static void main(String[] args) &#123; System.out.println(\"Hello World\"); &#125; &#125; &lt;/pre&gt;&lt;/details&gt; 我是pre 我是pre__content public class HelloWorld { public static void main(String[] args) { System.out.println(“Hello World”); } } 效果03 code1234567891011&lt;details&gt; &lt;summary&gt;我是pre_code&lt;/summary&gt; &lt;p&gt; 我是pre_code__content&lt;/p&gt; &lt;pre&gt;&lt;code&gt; public class HelloWorld &#123; public static void main(String[] args) &#123; System.out.println(\"Hello World\"); &#125; &#125; &lt;/code&gt;&lt;/pre&gt;&lt;/details&gt; 我是pre_code 我是pre_code__content public class HelloWorld { public static void main(String[] args) { System.out.println(“Hello World”); } } 效果04 blockcode1234567891011&lt;details&gt; &lt;summary&gt;我是pre_blockcode&lt;/summary&gt; &lt;p&gt; 我是pre_blockcode__content&lt;/p&gt; &lt;pre&gt;&lt;blockcode&gt; public class HelloWorld &#123; public static void main(String[] args) &#123; System.out.println(\"Hello World\"); &#125; &#125; &lt;/blockcode&gt;&lt;/pre&gt;&lt;/details&gt; 我是pre_blockcode 我是pre_blockcode__content public class HelloWorld { public static void main(String[] args) { System.out.println(“Hello World”); } } 块注释 一级 一级 二级 二级 三级 三级 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 这个可以换行,文字会自动适应宽度 加粗和斜体斜体字体加粗字体","categories":[{"name":"Markdown","slug":"Markdown","permalink":"http://yoursite.com/categories/Markdown/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"http://yoursite.com/tags/Markdown/"}]},{"title":"BlueLake 主题配置","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/hexo/hexo-BlueLake/","text":"BlueLake 主题配置BlueLake 主题配置BlueLake 主题配置 添加本地搜索安装插件hexo-generator-json-content来创建JSON数据文件 1npm install hexo-generator-json-content@2.2.0 --save 在根配置 _config.yml 添加配置 123456789101112131415161718jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: true 在主题 _config.yml 中添加 1local_search: true #安装好 BlueLake主题后，会有这个配置 BlueLake : 主题底部的访问量统计,不显示问题;1234567891011按照作者配置:主题_config.yml themes/BlueLake/_config.ymlbusuanzi: true这个配置完后,需要修改 themes\\BlueLake\\layout\\_partial\\after_footer.jade 这个文件把卜算子地址改为如下:script(src='https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js', async)不蒜子作者提示:域名已经更换http://busuanzi.ibruce.info/ 标签显示01) hexo new page categories 123456789101112131401-1) hexo new page categories成功后提示: source\\categories\\index.md打开 index.md 添加 type: \"categories\" ,添加完后为:---title: categoriestype: \"categories\"---保存关闭文件01-2) 给文章添加 categories 属性,随便打开一个md文章,添加---title: 这里是title categories: - 这是分类categories--- 02) hexo new page tags 1234567891011121314151602-1) hexo new page tags成功后提示: source\\tags\\index.md打开 index.md 添加 type: \"tags\" ,添加完后为:---title: tagstype: \"tags\"---保存关闭文件02-2) 给文章添加 tags 属性,随便打开一个md文章,添加---title: 这里是title categories: - 这是分类categories tags:- 这是分类tags---","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"},{"name":"BlueLake","slug":"BlueLake","permalink":"http://yoursite.com/tags/BlueLake/"}]},{"title":"-nl 计算文件中行号","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_nl/","text":"介绍： nl 计算文件中行号； 命令格式1nl [选项] [参数] 选项12345678910-b ：指定行号指定的方式，主要有两种： -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)； -b t ：如果有空行，空的那一行不要列出行号(默认值)；-n ：列出行号表示的方法，主要有三种： -n ln ：行号在萤幕的最左方显示； -n rn ：行号在自己栏位的最右方显示，且不加 0 ； -n rz ：行号在自己栏位的最左方显示，且加 0 ；-w ：行号栏位的占用的位数。 参数-b 指定行号列出 test01.txt 的内容【-b a ; -b t】 demo 123nl -b a test01.txt 【空行显示行号】nl -b t test01.txt 【空行不显示行号】 参数-n 显示行号列出test01.txt 的内容【-n ln ; -n ln; -n rz】 demo 12345nl -n ln test01.txt 【行号在左】nl -n rn test01.txt 【行号在右】nl -n rz test01.txt 【行号在左，且加零】 参数-w 列出行号占用的位数 demo 12nl -n rz -w 3 test01.txtnl -n rz -w 5 test01.txt","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"nl","slug":"nl","permalink":"http://yoursite.com/tags/nl/"}]},{"title":"-locate 搜索","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_locate_updatedb/","text":"locate 搜索使用 locate 搜索前一般先执行 updatedb 来更新 命令格式1locate [选项] [参数] 选项123-n 至多显示 n个输出。-r 使用正规运算式 做寻找的条件。-c 查询指定文件的数目 demo 123locate pwdlocate -n 2 pwd [显示2条输出]locate -r pwdt.* [使用正则] 指定位置搜索1locate aaa/linux.txt 查询指定文件的数目12locate -c pwdlocate -c pwdt","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"locate","slug":"locate","permalink":"http://yoursite.com/tags/locate/"}]},{"title":"linux-DDU -ln  为文件创建连接","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_ln/","text":"ln 为文件创建连接 ln 使用的时候要写全路径,否则编辑链接后的文件可能会出现错误:1234root@ubuntu:/home/fei/web# tail -f index.html tail: cannot open 'index.html' for reading: Too many levels of symbolic linkstail: no files remainingroot@ubuntu:/home/fei/web# ll 命令格式1ln [参数] [源文件或目录][目标文件或目录] demo 硬链接12ln /home/fei/www/index.html /home/fei/web/ ln /home/fei/www/index.html /home/fei/web/index.txt # [硬链接]源文件变化后.链接的文件也随着变化 硬链接链接文件删除后,源文件不影响;删除源文件后,链接文件不收影响 软连接符号 -s [ 相当于windows中的快捷方式]12ln -s /home/fei/www/test01.txt /home/fei/web/ln -s /home/fei/www/test05.txt /home/fei/web/test_05.txt #test01.txt 源文件变化后.链接的文件也随着变化 软连接符号 -s链接文件删除后,源文件不影响;删除源文件后,链接文件失效 软连接目录1ln -s /home/fei/www/aaa/ /home/fei/web/ 删除软连接12345正确的是：rm -rf link_result错误的是：rm -rf link_result/ #这个会把整个目录都删了测试: ln -s /home/fei/web/link_source /home/fei/www/link_result","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"ln","slug":"ln","permalink":"http://yoursite.com/tags/ln/"}]},{"title":"-head -tail -sed 输出文件中的内容","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_head_tail/","text":"-head -tail -sed 输出文件中的内容 -head -tail -sed 输出文件中的内容 -head -tail -sed 输出文件中的内容 命令 head命令格式1head [选项] [参数] 选项1-n&lt;数字&gt;：指定显示头部内容的行数； demo 默认显示文件前 10 行内容 参数 n 显示文件的前 2 行 123456#显示文件的前2行head -2 d01.txthead -n 2 d01.txt#输出除了文件最后 2 行的全部内容head -n -2 d01.txt 命令 tail命令格式1tail [选项] [参数] 选项123-n&lt;N&gt;或——line=&lt;N&gt;：输出文件的尾部N（N位数字）行内容。-f&lt;name/descriptor&gt;：显示文件最新追加的内容。“name”表示以文件名的方式监视文件的变化。-F：与选项“-follow=name”和“--retry\"连用时功能相同； demo 默认显示文件最后 10 行内容 选项 n 显示文件最后 2 行内容 12345tail -2 d01.txttail -n 2 d01.txt#从文件第 3 行开始显示内容tail -n +3 d01.txt 选项 f ,动态显示文件内容 123ping 127.0.0.1 &gt; d01.log &amp; #创建动态任务tail -f d01.log #动态显示文件内容 选项 tail -F 功能与 tail -f 功能相同，不同的是执行此命令时文件可以不存在 命令 sed, 其他使用参考 -sed 整理12#显示文件中的指定行内容,显示index.php 中的第2行到第5行内容sed -n '2,5p' index.php 其他12345#文件中前3行写人到新文件head -3 index.php &gt; test.php #文件中后5行写入到新文件中tail -5 index.php &gt; test2.php","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"head","slug":"head","permalink":"http://yoursite.com/tags/head/"},{"name":"tail","slug":"tail","permalink":"http://yoursite.com/tags/tail/"},{"name":"sed","slug":"sed","permalink":"http://yoursite.com/tags/sed/"}]},{"title":"-less -more  显示目录列表","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_less_more/","text":"less 与 more 类似，但使用 less 可以随意浏览文件，而且 less 在查看之前不会加载整个文件 命令 less命令格式1less [选项] [参数] 选项1234567891011121314/字符串：向下搜索“字符串”的功能?字符串：向上搜索“字符串”的功能n：重复前一个搜索（与 / 或 ? 有关）N：反向重复前一个搜索（与 / 或 ? 有关）b 向后翻一页d 向后翻半页h 显示帮助界面q 退出less 命令u 向前滚动半页y 向前滚动一行空格键 滚动一行回车键 滚动一页[pagedown]： 向下翻动一页[pageup]： 向上翻动一页 参数文件：指定要分屏显示内容的文件。 demo12345678910111213less d01.txt #查看文件ps -ef | less #PS查看进程信息并通过 less 分页显示history | less #查看历史使用记录并通过 less 分页显示q 退出less 命令[pagedown]： 向下翻动一页[pageup]： 向上翻动一页less d01.txt d02.txt d03.txt #浏览多个文件说明：输入 :n后,切换到 d02.txt,继续输入:n后,切换到 d03.txt输入 :p后,切换到 d02.txt,继续输入:p后,切换到 d01.txt 命令 moremore命令从前向后读取文件，因此在启动时就加载整个文件。 命令格式1less [选项] [参数] 选项123456789+n 从笫n行开始显示-n 定义屏幕大小为n行+/pattern 在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示 -c 从顶部清屏，然后显示-d 提示“Press space to continue，'q' to quit（按空格键继续，按q键退出）”，禁用响铃功能-l 忽略Ctrl+l（换页）字符-p 通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似-s 把连续的多个空行显示为一行-u 把文件内容中的下画线去掉 常用命令 123456789Enter 向下n行，需要定义。默认为1行Ctrl+F 向下滚动一屏空格键 向下滚动一屏Ctrl+B 返回上一屏= 输出当前行的行号：f 输出文件名和当前行的行号V 调用vi编辑器!命令 调用Shell，并执行命令 q 退出more demo12more +1 d01.txt #显示文件中从第1行器内容more +2 d01.txt #显示文件中从第2行器内容 从文件中查找第一个出现 “d01” 字符串的行，并从该处前2行显示输出从文件中查找第一个出现 “3” 字符串的行，并从该处前2行显示输出从文件中查找第一个出现 “hello” 字符串的行，并从该处前2行显示输出 123more +/d01 d01.txtmore +/3 d01.txtmore +/hello d01.txt 123456789设定每屏显示行数more -1 d01.txtmore -2 d01.txt列一个目录下的文件，由于内容太多，我们应该学会用more来分页显示。这得和管道 | 结合起来ls -l | more -1ls -l | more -2q 键退出，enter向下","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"less","slug":"less","permalink":"http://yoursite.com/tags/less/"},{"name":"more","slug":"more","permalink":"http://yoursite.com/tags/more/"}]},{"title":"-curl  一个利用URL规则在命令行下工作的文件传输工具","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_curl/","text":"在 linux 中 curl 是一款利用 URL 规则在命令下工作的开源文件传输工具. 以下 demo 中,使用文件 index.php 作为实例演示, index.php 中内容为 1234567//访问本页面的地址为 www.test.com&lt;?phpprint_r($_GET);echo \"分隔符\";print_r($_POST); 没有参数, 获取页面内容1curl www.test.com 参数 I 显示 HTTP 头123curl -I www.test.com [显示头信息,不显示内容]curl -i www.test.com [显示头和内容] 链接保存到文件中1curl www.test.com &gt; index.html 使用 -d -X发送 POST 请求12curl -d \"post1=001&amp;post2=002\" www.test.comcurl -d \"post1=001&amp;post2=002\" -X POST www.test.com # X大写 POST 大写 使用 -d -G 发送 GET 请求 1curl -d \"get01=111&amp;get02=002\" -G GET www.test.com","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"curl","slug":"curl","permalink":"http://yoursite.com/tags/curl/"}]},{"title":"-find 文件查找","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_find/","text":"…… find 命令用来指定目录文件下查找 命令格式1find [选项] [参数] 常见参数12345-name 按名称查找-iname 忽略大小写-size 按大小查找-user 按属性查找-type 按类型查找 demo_01,按照时间搜索1234567搜索一段时间内,被存取/变更的文件或目录find /home -amin -5 五分钟内存取的文件或目录find /home -atime -5 五小时内存取的文件或目录find /home -cmin -5 五分钟内更改的文件或目录find /home +ctime +5 五小时前更改的文件或目录find /home -size +5k 查找/home目录下大小为5k的文件或目录 demo12find /home -name \"*.txt\" #在home目录下查找以.txt结尾的文件名find /home -iname \"*.txt\" #忽略大小写","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"find","slug":"find","permalink":"http://yoursite.com/tags/find/"}]},{"title":"-cp  创建文件和目录的副本","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_cp/","text":"cp 创建文件和目录的副本cp 创建文件和目录的副本cp 创建文件和目录的副本 不带任何参数,运行cpcp最基本命令，拷贝file_3.txt 从一个位置复制到另一个位置 12345ls -all 【递归展示目录本文中会多次用到】----------------------------cp file_3.txt /home/destination_file或者cp /home/soruce_file2/file_3.txt /home/destination_file 拷贝多个文件拷贝多个文件，我们只需将文件名字用空格隔开。或者使用*拷贝所有文件 12cp file_3.txt file_4.txt /home/destination_filecp * /home/destination_file 【拷贝所有文件，注意观察截图，aaa目录没有拷贝成功，稍后解决】 拷贝一个目录-r 或者 -R ，不论目录是否为空都会拷贝 1cp -r aaa/ /home/destination_file 【这就解决上次没有拷贝aaa目录】 创建文件硬链接，而不是拷贝他们拷贝文件意味着你必须使用一些存储空间来储存拷贝的文件。有时候出于某种原因，你可能想要创建“快捷方式”或者链接到文件，而不是拷贝它们。要做到这一点，我们可以使用-l选项。 1cp -l file_3.txt /home/destination_file 创建文件的软连接【符号链接、快捷方式…..】软连接（符号链接）用 -s实现 1cp -s file_3.txt file_44.txt 文件归档使用 -a 选项来归档文件。保留链接和文件属性，递归拷贝目录，相当于下面的d、p、r三个选项组合。 1cp -a * /home/destination_file/ 只拷贝文件属性只拷贝文件属性，不拷贝文件内容，使用 –attributes-only 选项 1cp --attributes-only file_3.txt /home/destination_file/ 显示正在做什么默认情况下，拷贝是不会显示拷贝时发生了什么，我们可以使用 -v选项 1cp -v * /home/destination_file/ 目标文件时间是最新更改，源文件时间老拷贝时，目标文件先存着和源文件同名文件，切目标文件时间是最新更改，使用 -u,不会覆盖最新文件 1cp -vu file_3.txt file_4.txt /home/destination_file/ 使用交互模式交互模式下会询问是否覆盖目标目录下的文件。使用 -i 选项 1cp -i file_3.txt file_4.txt /home/destination_file/ 创建备份文件目标文件中存在与源文件同名文件，使用 -b 选项，备份目标文件，拷贝新文件 1cp -bv * /home/destination_file/ 强制拷贝使用 -f 强制拷贝文件。如果目标文件不能打开，可以用 -f 尝试一下。 1cp -f * /home/destination_file/ 在拷贝之前先删除目标可以用，–remove-destination 选项 实现。这个选项与上面的-f选项形成对照。如果 cp 命令在目标目录下发现同名文件， cp 命令会先删除目标文件，然后再拷贝一份新的。 1cp --remove-destination -v * /home/destination_file/ 其他： 123一般情况下用这个命令 【参数avr】cd /home/www/Downloadscp -avr * /data/www/","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"cp","slug":"cp","permalink":"http://yoursite.com/tags/cp/"}]},{"title":"-sed 自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_00_sed/","text":"介绍：sed 是实现对流的编辑。要修改原文件记得用参数 i 。介绍：sed 是实现对流的编辑。要修改原文件记得用参数 i 。介绍：sed 是实现对流的编辑。要修改原文件记得用参数 i 。 sed命令格式1234sed [options] 'command' file(s)sed [options] -f scriptfile file(s)sed 选项 '参数/文本中内容/新内容' file(s) 选项1234-e&lt;script&gt;或--expression=&lt;script&gt;：以选项中的指定的script来处理输入的文本文件；-h或--help：显示帮助；-n或--quiet或——silent：仅显示script处理后的结果；-V或--version：显示版本信息。 命令12345678a\\ 在当前行下面插入文本。 没有特殊字符直接写 a 即可i\\ 在当前行上面插入文本。 没有特殊字符直接写 i 即可d 删除，删除选择的行。D 删除模板块的第一行。s 替换指定字符n 读取下一个输入行，用下一个命令处理新的行而不是用第一个命令。p 打印模板块的行。q 退出Sed。 sed 替换标记1234g 表示行内全面替换。 p 表示打印行。 \\1 子串匹配标记&amp; 已匹配字符串标记 sed 元字符集12345678910111213^ 匹配行开始，如：/^sed/匹配所有以sed开头的行。$ 匹配行结束，如：/sed$/匹配所有以sed结尾的行。. 匹配一个非换行符的任意字符，如：/s.d/匹配s后接一个任意字符，最后是d。* 匹配0个或多个字符，如：/*sed/匹配所有模板是一个或多个空格后紧跟sed的行。[] 匹配一个指定范围内的字符，如/[ss]ed/匹配sed和Sed。 [^] 匹配一个不在指定范围内的字符，如：/[^A-RT-Z]ed/匹配不包含A-R和T-Z的一个字母开头，紧跟ed的行。\\(..\\) 匹配子串，保存匹配的字符，如s/\\(love\\)able/\\1rs，loveable被替换成lovers。&amp; 保存搜索字符用来替换其他字符，如s/love/**&amp;**/，love这成**love**。\\&lt; 匹配单词的开始，如:/\\&lt;love/匹配包含以love开头的单词的行。\\&gt; 匹配单词的结束，如/love\\&gt;/匹配包含以love结尾的单词的行。x\\&#123;m\\&#125; 重复字符x，m次，如：/0\\&#123;5\\&#125;/匹配包含5个0的行。x\\&#123;m,\\&#125; 重复字符x，至少m次，如：/0\\&#123;5,\\&#125;/匹配至少有5个0的行。x\\&#123;m,n\\&#125; 重复字符x，至少m次，不多于n次，如：/0\\&#123;5,10\\&#125;/匹配5~10个0的行。 demo选项 i 、n , s ， p 替换文本中指定字符串12345678910sed -i 's/原内容/新内容/g' 文件 #!!!注意这里 g 是全文替换!!!注意这个参数并没有实际修改文件的内容sed 's/d01.txt/dd0011.txt/' d01.txt #对流的修改，没有真实修改文件内容sed -i 's/d01.txt/dd0011.txt/' d01.txt # 真实修改文件内容选项 n 仅显示script处理后的结果 , p 打印模板块的行sed -n 's/d01.txt/dd0011.txt/p' d01.txt #打印发生修改的行，没有真实修改文件sed 's/d01.txt/dd0011.txt/' d01.txt &gt; d01.txt.tmp #保存为临时文件mv d01.txt.tmp d01.txt #确认临时文件修改内容争取后替换原文件 定界符以上命令字符串中使用 / 在 sed 中作为定界符使用，也可以使用任意的定界符 1234567sed 's:d01.txt:dd0011.txt:' d01.txt #对流的修改，没有真实修改文件内容在对文本中含有特殊字符的时候可以考虑使用其他定界符，比如，原内容或者新内容中包含（\"/\" \"#\"）sed -i 's:原内容:新内容:g' 文件名字 sed 's:d01.txt:dd0011.txt:' d01.txtsed -i 's,原内容,新内容,g' 文件名字 sed 's,d01.txt,dd0011.txt,' d01.txtsed -i 's#原内容#新内容#g' 文件名字 sed 's#d01.txt#dd0011.txt#' d01.txtsed -i 's~原内容~新内容~g' 文件名字 sed 's~d01.txt~dd0011.txt~' d01.txt 命令 d 删除操作123456789101112131415删除空白行sed '/^$/d' d01.txt [ 对流的删除 ]sed -i '/^$/d' d01.txt [ 真实删除空白行后，保存 ]删除文件的第2行sed '2d' d01.txt删除文件的第2行到末尾所有行：sed '2,$d' d01.txt 删除文件的最后一行sed '$d' d01.txt删除文件中所有开头是 hello 的行sed '/^hello/d' d01.txt 已匹配字符串标记 &amp; ，注意这个符号12345678正则表达式 \\w\\+ 匹配每一个单词，使用 [&amp;] 替换它，&amp; 对应于之前所匹配到的单词sed 's/\\w\\+/[&amp;]/g' d01.txt [ 使用 &amp; 替换]sed 's/\\w\\+/[]/g' d01.txt [ 空白 ]sed -i 's/\\w\\+/[&amp;]/g' d01.txt [真是替换，并保存]所有以 hello 开头的行都会被替换成他自己加 hi sed 's/^hello/&amp;hi/' d01.txt 字符串匹配标记 \\112345echo this is digit 6 in a number | sed 's/digit \\([0-9]\\)/\\1/'echo this is digit 6 in a number | sed 's/digit \\([0-9]\\)/\\1test/'echo this is test 6 | sed 's/test \\([0-9]\\)/\\1/'echo this is test 6 | sed 's/test \\([0-9]\\)/\\1test/' 命令中 digit 6，被替换成了 6。样式匹配到的子串是 7，(..) 用于匹配子串，对于匹配到的第一个子串就标记为 \\1，依此类推匹配到的第二个结果就是 \\2，例如： 12echo aaa BBB | sed 's/\\([a-z]\\+\\) \\([A-Z]\\+\\)/\\2 \\1/'echo aaa BBB | sed 's/\\([a-z]\\+\\) \\([A-Z]\\+\\)/\\1 \\2/' 12hi 被标记为 1 ,所有 hiLinux 会被替换成 hiUbuntu, 并打印出来sed -n 's/\\(hi\\)Linux/\\1Ubuntu/p' d01.txt 选项 e 允许在同一行里执行多条命令123sed -e '1,2d' -e 's/d01.txt/dd0011.txt/' d01.txt 第一条命令，删除1到2行，第二条命令用 dd0011.txt 替换 d01.txt。 这两条命令的前后顺序有影响，如果两个命令都是替换命令，那么第一个替换命令将影响第二个替换命令的结果 退出 命令： q12打印挖第3行后，退出sedsed '3q' d01.txt 打印奇数行或偶数行123456sed -n 'p;n' d01.txt #奇数行sed -n 'n;p' d01.txt #偶数行或者sed -n '1~2p' d01.txt #奇数行sed -n '2~2p' d01.txt #偶数行 插入新一行内容1234567sed '4a\\我是新添加行内容' d01.txt #在第4行后插入下一行sed '4a我是新添加行内容' d01.txt #在第4行后插入下一行,[没有特殊字符不用加 \\ 也行]sed '/hello/a\\我是新添加行内容' d01.txt #在所有包含 hello 行后面插入下一行sed '4i\\我是新添加行内容' d01.txt #在第4行前插入下一行sed '4i我是新添加行内容' d01.txt #在第4行前插入下一行,[没有特殊字符不用加 \\ 也行]sed '/hello/i\\我是新添加行内容' d01.txt #在所有包含 hello 行前面面插入下一行 替换某一行内容12sed \"1s/.*/第一行全部替换新内容/\" d01.txt #把第一行内容全部替换sed \"2s/.*/第二行全部替换新内容/\" d01.txt #把第二行内容全部替换 其他12345678910111213sed -i 's/d01.txt/dd0011.txt/' d01.txt # 真实修改文件内容 用参数 i某些转义符\\n 表示新的一行\\r 表示回车\\t 表示水平制表符\\v 表示垂直制表符\\b 表示后退符\\a 表示\"alert\"(蜂鸣或者闪烁)\\0xx 转换为八进制的ASCII码#显示文件中的指定行内容,显示index.php 中的第2行到第5行内容sed -n '2,5p' index.php linux 三剑客 grep命令 sed命令 awk命令","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"-cat  连接文件并打印到标准输出设备上 -split 切割文件","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_cat_split/","text":"cat 连接文件并打印到标准输出设备上 -split 切割文件cat 连接文件并打印到标准输出设备上 -split 切割文件cat 连接文件并打印到标准输出设备上 -split 切割文件 命令格式1cat [选项] [参数] 选项12-n或-number：有1开始对所有输出的行数编号；-b或--number-nonblank：和-n相似，只不过对于空白行不编号； 参数 n 输出行数编号1cat -n d01.txt 参数 b 输出行数编号，忽略空白行1cat -b d01.txt 输出多个文件内容1cat d01.txt d02.txt demo 2 把文件内容写入到新文件中12cat d01.txt &gt; new.txt #将文件 d01.txt 内容放入文件 new.txt 中cat d01.txt d02.txt &gt; new.txt #将文件 d01.txt 和 d02.txt 内容放入文件 new.txt 中 split 切割文件1234567#参数# -a 指定长度# -d 指定数字# -l 按行数切割文件# -b 按大小切割文件split -l 7 test.txt # l 选项根据文件行数切割,每7行切割为一个文件 指定为数字后缀切割123456#-d 指定为数字后缀, -a 指定数字长度split -l 7 test.txt -d -a 4#-a 指定长度 split -l 7 -a 4 test.txt#前缀为fei_split -l 7 -a 4 test.txt fei_ 按大小切割文件1split -b 100 test.txt #每100kb切割文件 当用split 分割好文件后,使用cat可以把文件合并为原来的文件12split -l 7 -a 4 test.txt fei_ #分割文件cat fei_a* &gt; bbb.txt #合并文件","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"},{"name":"cat","slug":"cat","permalink":"http://yoursite.com/tags/cat/"},{"name":"split","slug":"split","permalink":"http://yoursite.com/tags/split/"}]},{"title":"linux -DDU  文本处理  -awk","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_00_awk/","text":"文本处理 -awk文本处理 -awk文本处理 -awk 命令格式12345awk [options] 'script' var=value file(s)awk [options] -f scriptfile var=value file(s)-f 指定输入定界符-v 赋值一个用户定义变量 awk 脚本基本结构1awk 'BEGIN&#123; print \"start\" &#125; pattern&#123; commands &#125; END&#123; print \"end\" &#125;' file DEMO123456789###测试内容如下 001 title author date002 **** ****** *****003 PHP dafei_03 2015-01-01004 HTML dafei_04 2015-01-15005 Java dafei_05 2015-03-03006 MySQL dafei_06 2015-04-04007 Oracle dafei_07 2015-01-04008 JavaScript dafei_08 2015-12-12 没有任何参数12#显示文本所有内容awk '&#123;print&#125;' fei.txt awk print12345678910111213awk '&#123;print $2&#125;' fei.txt #或者cat fei.txt | awk '&#123;print $2&#125;'cat fei.txt | awk '&#123;print $2&#125;' | sort -r -nawk '&#123;print $2&#125;' fei.txt | sort -r -nawk '&#123;print $NF&#125;' fei.txt #打印一行中最后1个字段awk '&#123;print $(NF-2)&#125;' fei.txt #打印一行中倒数第2个字段awk '&#123;print $2&#125;' fei.txt #打印一行中第2个字段awk '&#123;print $2,$3&#125;' fei.txt #打印一行中第2个和第3个字段awk 'END&#123; print NR &#125;' fei.txt #统计文件中行数awk '&#123; print NR &#125;' fei.txt #显示每一行的行号 -v 指定定界符12345678#默认是空白字符awk -F: '&#123; print $NF &#125;' /etc/passwd或awk 'BEGIN&#123; FS=\":\" &#125; &#123; print $NF &#125;' /etc/passwdhead -3 /etc/passwd | awk -F: '&#123; print $NF &#125;' head -3 /etc/passwd | awk 'BEGIN&#123; FS=\":\" &#125; &#123; print $NF &#125;' tail -3 fei.txt | awk -F- '&#123; print $NF &#125;' -V 使用变量12345678910111213awk 'BEGIN&#123; print \"start\" &#125; &#123; print &#125; END&#123; print \"end\" &#125;' fei.txtecho | awk '&#123; var1=\"v1\"; var2=\"v2\"; var3=\"v3\"; print var1,var2,var3; &#125;' #v1 v2 v3echo | awk '&#123; var1=\"v1\"; var2=\"v2\"; var3=\"v3\"; print var1\"=\"var2\"=\"var3; &#125;' #双引号拼接 v1=v2=v3#使用外部变量##使用 `-v` 选项VAR=10000echo | awk -v VARIABLE=$VAR '&#123; print VARIABLE &#125;'##不使用 `-v` 选项var1=\"aaa\"var2=\"bbb\"echo | awk '&#123; print v1,v2 &#125;' v1=$var1 v2=$var2 运算12345[root@localhost fei_test]# awk 'BEGIN&#123;a=1; print a++,++a;&#125;'1 3[root@localhost fei_test]# awk 'BEGIN&#123;a=\"b\";print a==\"b\"?\"ok\":\"err\";&#125;'ok[root@localhost fei_test]# next 跳行123456[root@localhost fei_test]# awk 'NR%2==1&#123;next&#125;&#123;print NR,$0;&#125;' fei.txt 2 002 **** ****** *****4 004 HTML dafei_04 2015-01-156 006 MySQL dafei_06 2015-04-048 008 JavaScript dafei_08 2015-12-12[root@localhost fei_test]# 输出到一个文件123echo | awk '&#123;printf(\"hello word\") &gt; \"daFei.php\"&#125;'或echo | awk '&#123;printf(\"hello word \\n\\r\") &gt;&gt; \"daFei.php\"&#125;' 其他 awk 和 grep 正则区别1234567[root@localhost fei_test]# awk '/^mysql/&#123;print&#125;' /etc/passwdmysql:x:987:1001::/home/mysql:/bin/false[root@localhost fei_test]# [root@localhost fei_test]# [root@localhost fei_test]# grep \"^mysql\" /etc/passwdmysql:x:987:1001::/home/mysql:/bin/false[root@localhost fei_test]# linux 三剑客 grep命令 sed命令 awk命令","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"Linux 目录结构","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_base/","text":"Linux 目录结构Linux 目录结构Linux 目录结构 Linux 目录结构 /bin 普通用户的可执行命令,系统的任何用户都可以执行该目录中的命令 /boot 存放 linux 操作系统启动时所需使用的文件 /dev 系统中的搜索设备文件 /etc 系统中的配置文件 /home 普通用户的宿主目录,每个用户在该目录下都有一个与用户同名的的目录 /mnt 中的子目录用于系统中可移动设备的挂载点 /root 超级用户 root 的宿主目录 /sbin 系统管理员命令,普通用户不能执行他们 /tmp 系统的临时目录 /usr 系统应用程序和相关文件 /var 系统中经常变换的文件如日志和用户邮件 运行级别 命令: init [0123456] 0 : 关机 1: 单用户 2: 多用户状态没有网络服务 3: 多用户状态有网络服务 4: 系统未使用保留给用户 5: 图形界面 6: 系统重启 常用运行级别是3和5,要修改默认的运行级别可改文件/etc/inittab的id:5:initdefault :这一行中的数字 linux启动过程 runlevel 命令可以查看当前的运行级别 linux系统启动过程如下 BIOS自检 启动GRUB/LILO 运行linux内核并检测硬件 运行系统的第一个进程init init 读取系统引导配置文件/etc/inittab中的信息进行初始化 /etc.rc.d/rc.sysinit系统初始化脚本 /etc/rc.d.rcX.d/[KS]*根据运行级别X配置服务 终止以*k*开头的服务 启动以*S*开头的服务 /etc/rc.d/rc.loacl执行本地特殊配置 其他服务","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"linux -grep  查找文件里符合条件的字符串","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/linux_DDU_00_grep/","text":"grep 查找文件里符合条件的字符串grep 查找文件里符合条件的字符串grep 查找文件里符合条件的字符串 命令格式1grep [选项] [文件] 命令参数12345678910111213141516171819202122232425-a 不要忽略二进制数据。-A&lt;显示列数&gt; 除了显示符合范本样式的那一行之外，并显示该行之后的内容。-b 在显示符合范本样式的那一行之外，并显示该行之前的内容。-c 计算符合范本样式的列数。-C&lt;显示列数&gt;或-&lt;显示列数&gt; 除了显示符合范本样式的那一列之外，并显示该列之前后的内容。-d&lt;进行动作&gt; 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep命令将回报信息并停止动作。-e&lt;范本样式&gt; 指定字符串作为查找文件内容的范本样式。-E 将范本样式为延伸的普通表示法来使用，意味着使用能使用扩展正则表达式。-f&lt;范本文件&gt; 指定范本文件，其内容有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每一列的范本样式。-F 将范本样式视为固定字符串的列表。-G 将范本样式视为普通的表示法来使用。-h 在显示符合范本样式的那一列之前，不标示该列所属的文件名称。-H 在显示符合范本样式的那一列之前，标示该列的文件名称。-i 忽略字符大小写的差别。-l 列出文件内容符合指定的范本样式的文件名称。-L 列出文件内容不符合指定的范本样式的文件名称。-n 在显示符合范本样式的那一列之前，标示出该列的编号。-q 不显示任何信息。-R/-r 此参数的效果和指定“-d recurse”参数相同。-s 不显示错误信息。-v 反转查找。-w 只显示全字符合的列。-x 只显示全列符合的列。-y 此参数效果跟“-i”相同。-o 只输出文件中匹配到的部分。 在文件中搜索一个单词，命令会返回一个包含 PHP 的文本【行或者段落】12grep PHP aaa.txtgrep php aaa.txt 多个文件中搜索，命令会返回一个包含 PHP 的文本【行或者段落】1grep php aaa.txt bbb.txt 选项 -v 输出除 xxxxxx 之外的所有行或者段落1grep -v php aaa.txt 选项 -E 使用正则表达式12grep -E \"[1-9]+\" aaa.txt 或者egrep \"[1-9]+\" aaa.txt 选项 -o 只输出文件中匹配到的部分12grep -o php aaa.txtgrep -o PHP aaa.txt 选项 -c 统计文本或者文本中包含匹配字符串的行数[ 选项 -n ]123456统计grep -c \"PHP\" aaa.txt选项 -n 输出包含匹配字符串的行数grep -n \"PHP\" aaa.txtgrep -n \"php\" aaa.txt 选项 -l 搜索多个文件并查找匹配文本在那个文件中123grep -l php aaa.txt bbb.txtgrep -l php *.txtgrep -l PHP *.txt 选项 -r 递归搜索文件123grep PHP . -r [ . 表示当前目录]grep PHP . -r -ngrep PHP /home/www/test -r -n [ 指定目录 ] 选项 -i 忽略大小写搜索文件1grep -i php aaa.txt 选项 -e 扩展多个匹配样式1grep -e php -e The aaa.txt [ 搜索 PHP、搜索 The ] 选项 -q 静默输出，一般配合 if 逻辑判断1234567if grep -q hello aaa.txt ; then echo yes;else echo no; fiif grep -q php aaa.txt ; then echo yes;else echo no; figrep -q php aaa.phpgrep -q hello aaa.php不会输出任何内容，命令运行成功返回 0 ，失败返回非 0 值，一般配合逻辑判断使用 选项 -A -B -C 显示匹配结果之后行、之前行、之前之后行12345678910111213141516171819测试文件 aaa.php 内容如下，注意看行号： 1 I am aaa.php 2 222 3 hello world 3 line 4 444 5 hello php grep_test 6 666 7 hello world 7 line 8 888 9 hello worldgrep -A1 -n php aaa.php [ 1代表显示多少行，-n 表示显示行号]显示匹配结果之后 1 行grep -A1 -n php aaa.php [ 匹配结果之后的1行 ]grep -B1 -n php aaa.php [ 匹配结果之前的1行 ]grep -C1 -n php aaa.php [ 匹配结果之前的1行和之后一行]grep -C1 -n php aaa.php 常见使用递归搜索目录文件中某个内容 1234#r 递归#o 只输出文件中匹配到的部分#n 显示行号grep -ron PHP ./home/www/test 其他：grep家族总共有三个：grep，egrep，fgrep。 linux 三剑客 grep命令 sed命令 awk命令","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"Linux 命令综合运用","date":"2014-01-03T16:00:00.000Z","path":"2014/01/04/ubuntu/0_linux_DDU_demo_exercise/","text":"Linux 命令综合运用Linux 命令综合运用Linux 命令综合运用 统计日志访问量统计nginx中access.log 某个接口访问量 123456789101112demo01:日志内容:2021-03-10T20:29:35+0800|127.0.0.1|-|-|GET|http|127.0.0.1|/goodsList?id=12021-03-10T20:29:35+0800|127.0.0.1|-|-|GET|http|127.0.0.1|/goodsList?id=22021-03-10T20:29:35+0800|127.0.0.1|-|-|GET|http|127.0.0.1|/goodsList?id=32021-03-10T20:29:35+0800|127.0.0.1|-|-|GET|http|127.0.0.1|/goodsList?id=42021-03-10T20:29:35+0800|127.0.0.1|-|-|GET|http|127.0.0.1|/goodsList?id=52021-03-10T20:29:35+0800|127.0.0.1|-|-|GET|http|127.0.0.1|/goodsList?id=6统计命令:cat access.log | grep -i goodsList | awk -F'|' '&#123;print $1&#125;' | uniq -c 1234567891011121314demo02:日志内容:127.0.0.1 - - [10/Mar/2021:20:29:30 +0800] \"GET /api/goods/list?page=1&amp;per_page=10 HTTP/1.1\" 200 3538 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:29:30 +0800] \"GET /api/goods/list?page=2&amp;per_page=10 HTTP/1.1\" 200 3521 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:29:30 +0800] \"GET /api/goods/list?page=3&amp;per_page=10 HTTP/1.1\" 200 3575 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:29:35 +0800] \"GET /api/goods/list?page=4&amp;per_page=10 HTTP/1.1\" 200 3615 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:29:35 +0800] \"GET /api/goods/list?page=5&amp;per_page=10 HTTP/1.1\" 200 3469 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:30:40 +0800] \"GET /api/goods/list?page=6&amp;per_page=10 HTTP/1.1\" 200 3499 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:30:40 +0800] \"GET /api/goods/list?page=7&amp;per_page=10 HTTP/1.1\" 200 3457 \"http://demo.yizheng_fei.com/web/\" 127.0.0.1 - - [10/Mar/2021:20:30:40 +0800] \"GET /api/goods/list?page=8&amp;per_page=10 HTTP/1.1\" 200 3465 \"http://demo.yizheng_fei.com/web/\" 统计命令cat access.log | grep -i api/goods/list | awk -F' ' '&#123;print $4&#125;' | uniq -c","categories":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/categories/Linux/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"http://yoursite.com/tags/Linux/"}]},{"title":"-CSS -animation 动画","date":"2013-07-03T16:00:00.000Z","path":"2013/07/04/css/css_animation/","text":"CSS animation 动画CSS animation 动画CSS animation 动画 语法1animation: name duration timing-function delay iteration-count direction; 值 描述 animation-name 规定需要绑定到选择器的 keyframe 名称。 animation-duration 规定完成动画所花费的时间，以秒或毫秒计。 animation-timing-function 规定动画的速度曲线。 animation-delay 规定在动画开始之前的延迟。 animation-iteration-count 规定动画应该播放的次数。 animation-direction 规定是否应该轮流反向播放动画。 animation 属性是一个简写属性，用于设置六个动画属性, animation-name animation-duration animation-timing-function animation-delay animation-iteration-count animation-direction 注释：请始终规定 animation-duration 属性，否则时长为 0，就不会播放动画了。 关键帧 keyframeskeyframes 规则: 0％(from)是开头动画，100％(to)是当动画完成。 合法值：0-100%from (和0%相同)to (和100%相同) demo11234567891011121314151617181920212223&lt;div class=\"foo\"&gt;我从上往下移动&lt;/div&gt;&lt;style&gt; @keyframes fei &#123; from &#123;top:0;&#125; /* 开始位置 */ to &#123;top:200px;&#125; /* 结束位置 */ &#125; @-webkit-keyframes fei /* Safari and Chrome */ &#123; from &#123;top:0;&#125; to &#123;top:200px;&#125; &#125; .foo &#123; width: 100px; height: 100px; background: #ff6b81; position: relative; animation: fei 5s infinite; /* 动画名称, 周期时间, 循环播放 */ -webkit-animation: fei 5s infinite; /* Safari and Chrome */ &#125;&lt;/style&gt; demo2123456789101112131415161718192021&lt;!-- 制作一个简单的loading --&gt;&lt;div&gt; &lt;div class=\"fei spinner-border\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;style&gt;@keyframes spinner-border &#123; to &#123; transform: rotate(360deg) &#125;&#125;.fei&#123; display: inline-block; width: 2rem; height: 2rem; vertical-align: text-bottom; border: .25em solid currentColor; border-right-color: transparent; border-radius: 50%; -webkit-animation: spinner-border .75s linear infinite; animation: spinner-border .75s linear infinite;&#125;&lt;/style&gt; demo312345678910111213141516171819202122232425262728293031323334353637383940414243&lt;!-- 制作一个简单的loading --&gt;&lt;!-- svg 和 circle 都设置动画 --&gt;&lt;div class=\"fei-2\" style=\"width: 100px;height: 100px;background-color:#ff6b81;\"&gt; &lt;svg class=\"circular\" viewBox=\"25 25 50 50\"&gt; &lt;circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\"&gt;&lt;/circle&gt; &lt;/svg&gt;&lt;/div&gt;&lt;style&gt; @keyframes loading-dash &#123; 0% &#123; stroke-dasharray: 1,200; stroke-dashoffset: 0; &#125; 50% &#123; stroke-dasharray: 90,150; stroke-dashoffset: -40px; &#125; 100% &#123; stroke-dasharray: 90,150; stroke-dashoffset: -120px; &#125; &#125; .fei-2 .path &#123; animation: loading-dash 1.75s linear infinite; stroke-dasharray: 90,150; stroke-dashoffset: 0; stroke-width: 2; stroke: #409eff; stroke-linecap: round; &#125; @keyframes loading-rotate&#123; 100% &#123; transform: rotate(360deg); &#125; &#125; .circular&#123; display: inline; height: 42px; width: 42px; animation: loading-rotate 2s linear infinite; &#125;&lt;/style&gt; 其他animation 属性关键帧 keyframes 01关键帧 keyframes 02动画CSS","categories":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/categories/CSS/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://yoursite.com/tags/CSS/"},{"name":"animation","slug":"animation","permalink":"http://yoursite.com/tags/animation/"}]},{"title":"标题demo模板","date":"2013-07-03T16:00:00.000Z","path":"2013/07/04/css/grid_布局/","text":"Grid 布局Grid 布局Grid 布局","categories":[{"name":"Grid","slug":"Grid","permalink":"http://yoursite.com/categories/Grid/"}],"tags":[{"name":"Grid","slug":"Grid","permalink":"http://yoursite.com/tags/Grid/"}]},{"title":"-du 查看某个文件或目录占用磁盘空间的大小","date":"2013-07-03T16:00:00.000Z","path":"2013/07/04/ubuntu/linux_DDU_du/","text":"du 查看某个文件或目录占用磁盘空间的大小 命令格式12 常见使用 sh1234#查看当前目录总共占的容量。而不单独列出各子项占用的容量[root@localhost fei_test]# du -sh2.0K . 参数 lh12345#查看当前目录下一级子文件和子目录占用的磁盘容量。[root@localhost fei_test]# du -lh --max-depth=11.0K ./fei2.0K . 参数du -ah12345678# a 表示显示目录下所有的文件和文件夹（不含子目录）# h 表示以人类能看懂的方式# max-depth 表示目录的深度[root@localhost fei_test]# du -ah --max-depth=11.0K ./fei1.0K ./test.txt2.0K .","categories":[{"name":"计算机","slug":"计算机","permalink":"http://yoursite.com/categories/计算机/"}],"tags":[{"name":"编程","slug":"编程","permalink":"http://yoursite.com/tags/编程/"}]},{"title":"Windows10 关闭自带 80 端口服务","date":"2013-07-03T16:00:00.000Z","path":"2013/07/04/win/0_demo/","text":"Windows10 关闭自带 80 端口服务,让nginx可以启动Windows10 关闭自带 80 端口服务,让nginx可以启动Windows10 关闭自带 80 端口服务,让nginx可以启动 直接关闭找到系统里面的World Wide Web服务,直接关掉,下面值2中找到服务的方法 确定端口使用关闭 查看那个进程占用80端口 1netstat -ano|findstr 80 2) 再次确定80端口是谁在使用 直接用浏览器访问 127.0.0.1:80 ,结果访问不到 改用telnet 测试 telnet 127.0.0.1 80 打开了,确定是Windows10系统进程在使用, 可以确定是系统自带的 http 占用80端口 关闭 https 服务 net stop http 再次用 telnet 测试 telnet 127.0.0.1 80 ,这次打不开了,说明关闭成功 以上就是解决Windows10 系统中 80 端口占用解决办法,如果和上述情况不一样,请自行查询问题","categories":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/categories/Win/"}],"tags":[{"name":"Win","slug":"Win","permalink":"http://yoursite.com/tags/Win/"}]},{"title":"-JavaScript_获取网址信息","date":"2013-07-03T16:00:00.000Z","path":"2013/07/04/JavaScript/JavaScript_获取网址信息/","text":"JavaScript_获取网址信息JavaScript_获取网址信息JavaScript_获取网址信息 获取 URL 主机部分12// 获取 URL 主机部分window.location.host 获取整个 URL12// 获取整个 URLwindow.location.href 获取与URL 路径部分12345// 获取与 URL 路径部分window.location.pathnamelet pathname = window.location.pathname;let pathnameArr = pathname.match(/(\\/.*\\/)/g); 获取问号后面的部分12// 获取问号后面的部分window.location.search 获取 # 后面的部分12// 获取 # 后面的部分window.location.hash 获取URL协议部分12// 获取 URL 协议部分window.location.protocol 获取 URL 端口12// 获取 URL 端口window.location.port","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"标题demo模板","date":"2013-07-03T16:00:00.000Z","path":"2013/07/04/0_demo/","text":"demo模板demo模板demo模板下面more是分隔符 基本常见1mkdir [选项] [参数] 分类1234categories: - WEB_JavaScripttags:- setTimeout 颜色markdown是最好的文档编辑工具之一 #ff6b81野生西瓜颜色 折叠语法1234&lt;details&gt; &lt;summary&gt;我是Title&lt;/summary&gt; 我是content!!!&lt;/details&gt; 我是Title 我是content!!! 我是Title-可以换行 论语 第1行 史记 第2行 左传 第3行 汉书 第4行 战国策 第5行 图片 超链接 这是github 空格markdown 转为 pdf 空格不生效， 使用全角空格。即：在全角输入状态下直接使用空格键就ok了 xxx： xxx | xx：x | xx：xx | xx：xx | xx：xxx xxx：xxxx xxx：xxxx xxx：xxxx xxx：xxxx 语法高亮各种语言 语法高亮 1echo \"hello PHP\" 1console.log(\"hello JavaScript\") 块注释主要使用符号 &gt; 一级 一级 二级 二级 三级 三级 xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx 这个可以换行,文字会自动适应宽度!!!注意一个单词结束后才会显示处理换行 加粗和斜体斜体字体加粗字体 删除线主要使用符号 -- 和 ~~ WIKi中删除线2个减号 – 1我是 --删除线-- 内容中删除线 2个 ~~我是 删除线 分割线主要使用符号 --- 我是分割线之前 我是分割线之后 aaa","categories":[{"name":"计算机","slug":"计算机","permalink":"http://yoursite.com/categories/计算机/"}],"tags":[{"name":"编程","slug":"编程","permalink":"http://yoursite.com/tags/编程/"}]},{"title":"模板之数学公式","date":"2013-01-03T16:00:00.000Z","path":"2013/01/04/1_demo_math/","text":"模板之数学公式模板之数学公式模板之数学公式 设置行内数学公式file—&gt;Preferences—&gt;Markdown 然后在 Inline Math(e.g:$\\LaTeX$) 前面勾选主要使用符号 $1个是行内,$$2个是块级 demo:作者daFei,这是行内数学公式 $A+B=C$$$这里是块级书序公式: A+B=C$$ ESC 键输入$,按下ESC会在后面自动添加一个$输入2个$按下ESC会在后面自动添加2个$ 其他LaTex 语法 在线公式编辑 上标^ 下标_ demo: $C_n^2$ 上标 x² 导数{&#39;} demo: $y{‘}$ 分数\\frac demo: $\\frac{2}{3}$ 求和 $\\sum$ xxx xxx $f^{\\prime}(x)=\\frac{1}{x \\ln a}(a&gt;0 \\text { 且 } a \\neq 1)$ 换行 \\\\ 空格 \\qquad 空格 \\quad 根号 \\sqrt $\\sqrt{x}$ demo换行和空格$$y=\\sin(x) \\y=\\sin(x) \\y=\\sin(x) \\y=\\sin(x) \\qquady=\\sin(x) \\qquady=\\sin(x) \\qquady=\\sin(x)$$ $$\\lim_{x \\to 0} f(x) = 8$$ $$\\int \\frac{1}{x} dx = \\ln \\left| x \\right| + C$$ $$ {demo}\\ \\lim _{x \\rightarrow 0} \\frac{\\sin x}{x}=1 \\ \\lim _{x \\rightarrow \\infty}\\left(1+\\frac{1}{x}\\right)^{x}=e \\ f^{\\prime}(x)=\\frac{1}{x \\ln a}(a&gt;0 \\text { 且 } a \\neq 1) \\ y=\\frac{1}{x} \\ a^{x}-\\ln a \\ \\frac{1}{x \\ln a}(a&gt;0 \\text { 且 } a \\neq 1) \\ y=\\sin x$$ $$\\ [f(x) \\pm g(x)]^{\\prime}=f^{\\prime}(x) \\pm g^{\\prime}(x) \\ [f(x) \\cdot g(x)]^{\\prime}=f^{\\prime}(x) \\cdot g(x)+f(x) \\cdot g^{\\prime}(x) \\ \\left[\\frac{f(x)}{g(x)}\\right] \\cdot=\\frac{f^{\\prime}(x) \\cdot g(x)-f(x) \\cdot g^{\\prime}(x)}{g^{2}(x)} \\ \\left[\\frac{1}{g(x)}\\right]^{\\prime}=-\\frac{g^{\\prime}(x)}{g^{2}(x)} \\ \\frac{f^{\\prime}(x) g(x)-f(x) g^{\\prime}(x)}{g^{2}(x)} \\ \\left[\\frac{f(x)}{g(x)}\\right]^{\\prime}=\\frac{f^{\\prime}(x) g(x)-f(x) g^{\\prime}(x)}{g^{2}(x)}$$ demo$$\\ y=\\sqrt{x}\\ y=\\sqrt[7]{x^{3}}$$ $$\\tan x=\\frac{\\sin x}{\\cos x}(\\cos x \\neq 0)$$ $$y=\\sqrt{u}, y=\\sqrt[2 \\pi]{u} \\quad u \\geqslant 0$$ $$\\text { (3) } y=2 n+\\sqrt{x} \\quad x \\in(-\\infty,+\\infty)$$ $$y=\\log _{a} x$$ $$\\text { (5) } \\text {abc}$$ $$x \\in[-1,1]$$ $$ $$","categories":[{"name":"计算机","slug":"计算机","permalink":"http://yoursite.com/categories/计算机/"}],"tags":[{"name":"math","slug":"math","permalink":"http://yoursite.com/tags/math/"}]},{"title":"Hello World","date":"2013-01-03T16:00:00.000Z","path":"2013/01/04/hello-world/","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment Github 上访问说明GitHub上访问分类的时候,如果出现404,那么请把大写改为小写MySQL 改为 mysql比如:https://zhaodafei.github.io/categories/MySQL/ 改为https://zhaodafei.github.io/categories/mysql/ 模板demo simplessm temp_laravel2 temp_react temp_ssm temp_vue temp_vue2 temp_webpack temp_springBoot","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://yoursite.com/tags/Hexo/"}]}]